/*! tml-js 05-06-2015 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports={enabled:!0,default_locale:"en",source_separator:"@:@",delayed_flush:!1,debug:!1,default_tokens:{html:{data:{ndash:"&ndash;",mdash:"&mdash;",iexcl:"&iexcl;",iquest:"&iquest;",quot:"&quot;",ldquo:"&ldquo;",rdquo:"&rdquo;",lsquo:"&lsquo;",rsquo:"&rsquo;",laquo:"&laquo;",raquo:"&raquo;",nbsp:"&nbsp;",lsaquo:"&lsaquo;",rsaquo:"&rsaquo;",br:"<br/>",lbrace:"{",rbrace:"}",trade:"&trade;"},decoration:{strong:"<strong>{$0}</strong>",bold:"<strong>{$0}</strong>",b:"<strong>{$0}</strong>",em:"<em>{$0}</em>",italic:"<i>{$0}</i>",i:"<i>{$0}</i>",link:"<a href='{$href}' class='{$class}' style='{$style}'>{$0}</a>",br:"<br>{$0}",strike:"<strike>{$0}</strike>",div:"<div id='{$id}' class='{$class}' style='{$style}'>{$0}</div>",span:"<span id='{$id}' class='{$class}' style='{$style}'>{$0}</span>",h1:"<h1>{$0}</h1>",h2:"<h2>{$0}</h2>",h3:"<h3>{$0}</h3>"}},text:{data:{ndash:"â€“",mdash:"-",iexcl:"Â¡",iquest:"Â¿",quot:'"',ldquo:"â€œ",rdquo:"â€",lsquo:"â€˜",rsquo:"â€™",laquo:"Â«",raquo:"Â»",nbsp:" ",lsaquo:"â€¹",rsaquo:"â€º",br:"\n",lbrace:"{",rbrace:"}",trade:"â„¢"},decoration:{strong:"{$0}",bold:"{$0}",b:"{$0}",em:"{$0}",italic:"{$0}",i:"{$0}",link:"{$0}{$1}",br:"\n{$0}",strike:"{$0}",div:"{$0}",span:"{$0}",h1:"{$0}",h2:"{$0}",h3:"{$0}"}}},translator_options:{debug:!0,debug_format_html:"<span style='font-size:20px;color:red;'>{</span> {$0} <span style='font-size:20px;color:red;'>}</span>",debug_format:"{{{{$0}}}}",split_sentences:!1,decoration_token_format:"[]",nodes:{ignored:[],scripts:["iframe","script","noscript","style","audio","video","map","object","track","embed","svg","code","ruby"],inline:["a","span","i","b","img","strong","s","em","u","sub","sup","var"],"short":["i","b"],splitters:["br","hr"]},attributes:{labels:["title","alt"]},name_mapping:{b:"bold",i:"italic",a:"link",img:"picture"},data_tokens:{special:{enable:!0,regex:/(&[^;]*;)/g},numeric:{enabled:!0,regex:/^(\d+)$|^(\d+[.,;\s])|(\s\d+)$|(\s\d+[,;\s])/g,name:"num"},date:{enabled:!0,formats:[[/(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+\d+,\s+\d+/g,"{month} {day}, {year}"],[/(January|February|March|April|May|June|July|August|September|October|November|December)\s+\d+,\s+\d+/g,"{month} {day}, {year}"],[/\d+\s+(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec),\s+\d+/g,"{day} {month}, {year}"],[/\d+\s+(January|February|March|April|May|June|July|August|September|October|November|December),\s+\d+/g,"{day} {month}, {year}"]],name:"date"}}},context_rules:{number:{variables:{}},gender:{variables:{"@gender":"gender"}},genders:{variables:{"@genders":function(a){var b=[];return a.forEach(function(a){b.push(a.gender)}),b}}},date:{variables:{}},time:{variables:{}}}}},{}],2:[function(a,b){var c={get:function(a,b,c){this.request("get",a,b,c)},post:function(a,b,c){this.request("post",a,b,c)},request:function(a,b,c,d){d||(d=function(){});var e,f=new XMLHttpRequest;if(a.match(/^get$/i)?(b=b+"?"+this.serialize(c||{}),e=null):e=this.serialize(c||{}),"withCredentials"in f)f.open(a,b,!0);else{if("undefined"==typeof XDomainRequest)return!1;f=new XDomainRequest,f.open(a,b)}f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),f.onload=function(){d(null,f,f.responseText)},f.onerror=function(a){d(a,f)},f.send(e)},serialize:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}};b.exports=c},{}],3:[function(a,b){var c=a("request"),d=(a("../utils"),{get:function(a,b,d){d||(d=function(){}),c.get(a,{qs:b||{}},d)},post:function(a,b,d){d||(d=function(){}),c.post(a,{form:b||{}},d)}});b.exports=d},{"../utils":36,request:void 0}],4:[function(a,b){var c=a("./logger"),d=a("./utils"),e=a("./configuration"),f="/v1/",g="https://cdn.translationexchange.com",h=function(b){this.application=b,this.cache=e.getCache(),this.request=a("ajax"==e.api?"./api/ajax":"./api/request")};h.prototype={normalizeParams:function(a,b,c,e){return d.isFunction(b)?(e=b,b={}):d.isFunction(c)&&(e=c,c={}),c=c||{},{path:a,params:b,options:c,callback:e}},getReleaseVersion:function(a){var b=this,d=b.application.getHost()+f+"applications/current/version";c.log("fetching release version: "+d);var e=new Date;b.request.get(d,{access_token:b.application.access_token},function(b,d,f){var g=new Date;return c.debug("  cdn version call took "+(g-e)+" mls"),c.log("Got release version: "+f),b||!f?void a("0"):void a(f)})},updateReleaseVersion:function(a){var b=this;b.getReleaseVersion(function(d){b.cache.storeVersion(d,function(b){c.log("Caching release version as: "+b),a(b)})})},fetchReleaseVersion:function(a){if(this.cache.version&&"undefined"!=this.cache.version)return void a(this.cache.version);var b=this;this.cache.fetchVersion(function(c){"undefined"==c?b.updateReleaseVersion(function(b){a(b)}):(b.cache.setVersion(c),a(c))})},fetchFromCdn:function(a,b){var d=this;if("0"==d.cache.version)return void b(null,null);var e=g+"/"+d.application.access_token+"/"+this.cache.version+"/"+a+".json";c.log("fetching from cdn: "+e);var f=new Date;d.request.get(e,{},function(a,d,e){var g=new Date;c.debug("  cdn call took "+(g-f)+" mls"),e.match(/xml/)&&(a="Not found"),a||!e?b(a,null):b(null,e)})},get:function(a,b,c,d){var e=this.normalizeParams(a,b,c,d);e.options.method="get",this.api(e.path,e.params,e.options,e.callback)},post:function(a,b,c,d){var e=this.normalizeParams(a,b,c,d);e.options.method="post",this.api(e.path,e.params,e.options,e.callback)},api:function(a,b,e,g){var h=new Date;d.extend(b,{access_token:this.application.access_token});var i=this.application.getHost()+f+a,j=this,k=function(a,b,d){var e=new Date;c.debug("api took "+(e-h)+" mls"),!a&&d?g(a,JSON.parse(d)):g(a,d)};"post"==e.method?j.request.post(i,b,k):e.cache_key&&this.cache?j.fetchReleaseVersion(function(){j.cache.fetch(e.cache_key,function(a){j.fetchFromCdn(e.cache_key,function(d,f){f?a(d,f):(c.debug("api "+e.method+" "+i),j.request.get(i,b,function(b,d,e){var f=new Date;c.debug("  api call took "+(f-h)+" mls"),b&&c.debug("  api error: "+b),a(b,e)}))})},function(a,b){if(!a&&b){try{b=JSON.parse(b)}catch(c){a=c,b=null}g(a,b)}else g(a,null)})}):(c.debug("api "+e.method+" "+i),j.request.get(i,b,k))}},b.exports=h},{"./api/ajax":2,"./api/request":3,"./configuration":13,"./logger":23,"./utils":36}],5:[function(a,b){(function(c){var d=a("./utils"),e=a("./configuration"),f=a("./logger"),g=a("./language"),h=a("./source"),i=a("./api_client"),j=a("./translator"),k="https://api.translationexchange.com",l=function(a){d.extend(this,a),this.languages=[];for(var b in a.languages||[])this.languages.push(new g(d.extend(b,{application:this})));this.default_locale=e.default_locale,this.languages_by_locale={},this.sources_by_key={},this.missing_keys_by_source={},this.translation_keys={}};l.prototype={getHost:function(){return this.host||k},extend:function(a){d.extend(this,a)},addLanguage:function(a){return a.application=this,this.languages_by_locale[a.locale]=new g(a),this.getLanguage(a.locale)},getLanguage:function(a){return this.languages_by_locale[a]},changeLanguage:function(a,b){this.current_locale=a;var c=d.decode(d.getCookie(this.key));c=c||{},c.locale=a,d.setCookie(this.key,null,d.encode(c));var e=this;this.initLocales([e.current_locale],[e.current_source],function(){b&&b(e.getLanguage(e.current_locale))})},getCurrentLanguage:function(){var a=this.current_locale;if(!a)return this.getLanguage(this.default_locale);var b=this.getLanguage(a);return b?b:(a=a.split("-")[0],b=this.getLanguage(a),b||this.getLanguage(this.default_locale))},addSource:function(a,b,c){return a?(a=new h({source:a}),a.application=this,a.updateTranslations(b,c),this.sources_by_key[a.source]=a,this.getSource(a.source)):void 0},getSource:function(a){return this.sources_by_key[a]},getCurrentSource:function(){return this.current_source?this.sources_by_key[this.current_source]:null},isFeatureEnabled:function(a){return this.features&&this.features[a]},getApiClient:function(){return this.api_client||(this.api_client=new i(this)),this.api_client},initLocales:function(a,b,c){var d=this;d.loadLanguages(a,function(){b?d.loadSources(b,d.current_locale,function(a){a.length>0&&a[0]&&a[0].sources&&a[0].sources.length>0?d.loadSources(a[0].sources,d.current_locale,function(){c(null)}):c(null)}):c(null)})},init:function(a,b){a=a||{};var c=this;c.getApiClient().get("applications/current",{definition:!0},{cache_key:"application"},function(e,f){if(e)throw console.log(e),e;c.extend(f);var g=d.decode(d.getCookie(c.key,a.cookies));g=g||{},a.language_changed&&(g.locale=a.current_locale,d.setCookie(c.key,a.cookies,d.encode(g))),c.default_locale=c.default_locale||"en",c.current_locale=g.locale?g.locale:a.current_locale?a.current_locale:c.default_locale,c.current_locale=a.current_locale||("undefined"!=typeof window&&window.location&&window.location.search.match(/[?&]locale=([^&]+)(&|$)/)||[])[1]||g&&g.locale||c.getPreferredLocale(a.preferred_languages,c.languages)||c.default_locale||"en",c.current_source=a.current_source||a.source||"index","/"==c.current_source&&(c.current_source="index"),g&&g.translator&&(c.current_translator=new j(g.translator));var h=[c.default_locale];c.current_locale!=c.default_locale&&h.push(c.current_locale);var i=[c.current_source];c.initLocales(h,i,b)})},getPreferredLocale:function(a,b){var c,d=(b||[]).map(function(a){return a.locale});return(a||[]).forEach(function(a){var b=new RegExp(a+"|"+a.replace(/-\w+$/,""));d.forEach(function(a){!c&&a.match(b)&&(c=a)})}),c},loadLanguages:function(a,b){var c={},e=this;a.forEach(function(a){c[a]=function(b){e.getApiClient().get("languages/"+a,{definition:!0},{cache_key:a+"/language"},function(a,c){return a?void b(a,null):void b(null,new g(d.extend(c,{application:e})))})}}),d.parallel(c,function(a,c){if(a)throw console.log(a),a;Object.keys(c).forEach(function(a){e.addLanguage(c[a])}),b()})},loadDefaultLanguages:function(b,e,f){d.isFunction(e)&&(f=e,e={});var g=a("fs"),h={},i=this;b.forEach(function(a){h[a]=function(b){var d=c+"/../config/data/"+a+".json";console.log("Loading "+d+" ..."),g.readFile(d,function(a,c){if(a)throw console.log(a),a;b(null,c)})}}),d.parallel(h,function(a,b){if(a)throw console.log(a),a;Object.keys(b).forEach(function(a){i.addLanguage(h[a])}),f()})},getSourceKey:function(a,b){return b+"/sources/"+a},loadSources:function(a,b,c){var e={},f=this;a.forEach(function(a){e[a]=function(c){var e={};f.isInlineModeEnabled()||(e.cache_key=b+"/sources/"+a);var g=d.generateSourceKey(a);f.getApiClient().get("sources/"+g+"/translations",{locale:b,sources:!0,per_page:1e5},e,function(a,b){return a?void c(a,null):void c(null,b)})}}),d.parallel(e,function(a,d){if(a)throw console.log(a),a;var e=[];Object.keys(d).forEach(function(a){e.push(d[a]),f.addSource(a,b,d[a])}),c(e)})},isInlineModeEnabled:function(){return this.current_translator?this.current_translator.inline:!1},registerMissingTranslationKey:function(a,b){if(!e.isFileCache()||this.isInlineModeEnabled()){this.missing_keys_by_source||(this.missing_keys_by_source={}),this.missing_keys_by_source[a]||(this.missing_keys_by_source[a]=[]),this.missing_keys_by_source[a][b.key]=b;var c=this;e.delayed_flush&&!c.submit_scheduled&&(c.submit_scheduled=!0,setTimeout(function(){c.submitMissingTranslationKeys()},3e3))}},submitMissingTranslationKeys:function(a){if(!this.missing_keys_by_source)return void(a&&a(!1));if(!this.isInlineModeEnabled())return void(a&&a(!1));var b=d.keys(this.missing_keys_by_source);if(0===b.length)return void(a&&a(!1));f.debug("Submitting missing translation keys...");for(var c=[],g=["key","label","description","locale","level"],h=0;h<b.length;h++){for(var i=b[h],j=d.keys(this.missing_keys_by_source[i]),k=[],l=0;l<j.length;l++){for(var m=this.missing_keys_by_source[i][j[l]],n={},o=0;o<g.length;o++){var p=g[o];m[p]&&(n[p]=m[p])}k.push(n)}c.push({source:i,keys:k})}f.debug(JSON.stringify(c));var q=this;q.missing_keys_by_source=null,this.getApiClient().post("sources/register_keys",{source_keys:JSON.stringify(c)},function(){d.keys(q.languages_by_locale).forEach(function(a){b.forEach(function(b){b=b.split(e.source_separator),b.forEach(function(b){e.getCache().del(a+"/sources/"+b,function(){})})})}),a&&a(!0)})},getTranslationKey:function(a){return this.translation_keys[a]},cacheTranslationKey:function(a){var b=this.getTranslationKey(a.key);if(b){for(var c=d.keys(a.translations||{}),e=0;e<c.length;e++){var f=a.translations[c[e]],g=this.getLanguage(c[e]);b.setTranslationsForLanguage(g,f)}return b}return a.setApplication(this),this.translation_keys[a.key]=a,a}},b.exports=l}).call(this,"/lib")},{"./api_client":4,"./configuration":13,"./language":18,"./logger":23,"./source":27,"./translator":35,"./utils":36,fs:37}],6:[function(a,b){var c=a("./utils"),d=a("./cache_adapters/base"),e=function(b){this.adapter=null,this.options=b,this.version=b.version;var e;b&&("string"==typeof b.adapter?e="browser"==b.adapter?a("./cache_adapters/browser"):"file"==b.adapter?a("./cache_adapters/file"):"redis"==b.adapter?a("./cache_adapters/redis"):"memcache"==b.adapter?a("./cache_adapters/memcache"):"inline"==b.adapter?a("./cache_adapters/inline"):null:"function"==typeof b.adapter&&(e=b.adapter,delete b.adapter),e&&(e.prototype=c.extend(new d,e.prototype),this.adapter=new e(b)))};e.prototype={fetch:function(a,b,d){return this.adapter?void this.adapter.fetch(a,b,d):void(c.isFunction(b)?b(function(a,b){b?d(null,b):d("no data",null)}.bind(this)):d(null,b))},store:function(a,b,c){return this.adapter?void this.adapter.store(a,b,c):void c()},del:function(a,b){return this.adapter?void this.adapter.del(a,b):void b()},exists:function(a,b){return this.adapter?void this.adapter.exists(a,b):void b()},fetchVersion:function(a){return this.adapter?void this.adapter.fetchVersion(a):void a(this.options.version||"0")},storeVersion:function(a,b){return this.version=a,this.adapter?void this.adapter.storeVersion(a,b):void(b&&b(a))},setVersion:function(a){this.version=a,this.adapter&&(this.adapter.version=a)},resetVersion:function(){this.adapter&&(this.version=null)},clear:function(a){return this.adapter?void this.adapter.clear(a):void(a&&a())}},b.exports=e},{"./cache_adapters/base":7,"./cache_adapters/browser":8,"./cache_adapters/file":9,"./cache_adapters/inline":10,"./cache_adapters/memcache":11,"./cache_adapters/redis":12,"./utils":36}],7:[function(a,b){var c=(a("../configuration"),a("../logger")),d=a("../utils"),e="current_version",f="tml",g=function(){};g.prototype={read_only:!0,cached_by_source:!0,name:"",initialize:function(a){this.config=a||{},this.cache=this.create()},create:function(){},fetch:function(){},store:function(){},del:function(){},exists:function(){},warn:function(a){c.log(this.name+" - "+a)},info:function(a){c.log(this.name+" - "+a)},fileName:function(a){return a+".json"},fetchDefault:function(a,b,c){var e=this;d.isFunction(b)?b(function(b,d){d?e.store(a,d,function(){c(null,d)}):c("no data",null)}.bind(this)):b&&e.store(a,b,function(a,b){c(null,b)})},fetchVersion:function(a){var b=this;b.fetch(e,"undefined",function(c,d){b.info("Cache version: "+d),a(d)})},storeVersion:function(a,b){this.version=a,this.store(e,this.version,function(){b&&b(this.version)}.bind(this))},getVersionedKey:function(a){var b=[f,this.config.namespace||"",a==e?"v":"v"+(this.version||"0"),a];return b.join("_")},getRequest:function(){return null},clear:function(a){a&&a(null)}},b.exports=g},{"../configuration":13,"../logger":23,"../utils":36}],8:[function(a,b){var c=a("../utils"),d=a("../api/ajax"),e=a("./base"),f=function(a){this.initialize(a)};f.prototype=c.extend(new e,{name:"browser",read_only:!1,create:function(){return window.localStorage},fetchFromPath:function(a,b,c){if("current_version"==a)return void this.fetchDefault(a,b,c);var d=this.config.path+"/"+a+".json";this.info("fetch "+d);var e=this;this.getRequest().get(d,{},function(d,f,g){d||200!=f.status||null===g?e.fetchDefault(a,b,c):e.store(a,g,function(){c(null,g)})})},fetch:function(a,b,c){var d=this.cache.getItem(this.getVersionedKey(a));d?(this.info("cache hit "+a),c(null,d)):(this.info("cache miss "+a),this.config.path?this.fetchFromPath(a,b,c):this.fetchDefault(a,b,c))},getRequest:function(){return d},store:function(a,b,c){this.info("cache store "+a),this.cache.setItem(this.getVersionedKey(a),b),c&&c(null,b)},del:function(a,b){this.info("cache del "+a),this.cache.removeItem(this.getVersionedKey(a)),b&&b(null)},exists:function(a,b){var c=this.cache.getItem(this.getVersionedKey(a));b&&b(!!c)},clear:function(a){for(var b in this.cache)b.match(/^tml_/)&&this.cache.removeItem(b);a&&a(null)}}),b.exports=f},{"../api/ajax":2,"../utils":36,"./base":7}],9:[function(a,b){var c=a("../utils"),d=a("./base"),e=a("../application"),f=a("../configuration"),g=a("fs-extra"),h=function(a){this.config=a||{}};h.prototype=c.extend(new d,{name:"file",getVersion:function(a){a(0)},incrementVersion:function(a){a(0)},fetch:function(a,b,c){c=c||function(){};var d=this.filePath(a),e=this;g.exists(d,function(b){b?g.readFile(d,"utf8",function(b,d){e.info(d?"cache hit "+a:"cache miss "+a),c(b,d)}):(e.info("Cache miss "+a),c(null,null))})},fetch1:function(a,b,c){var d,e=this.filePath(a),f=this;return console.log("Loading "+e),g.exists(e)?void g.readFile(e,"utf8",function(e,g){e?(f.info("Cache miss "+a),d="function"==typeof b?b():b||null):(f.info("Cache hit "+a),d=g),c&&c(null,d)}):(f.info("Cache miss "+a),d="function"==typeof b?b():b||null,void(c&&c(null,d)))},getSelectedVersion:function(){return this.config.version||"current"},basePath:function(){return this.config.path||"./cache"},cachePath:function(){return this.basePath()+"/"+this.getSelectedVersion()},filePath:function(a){return this.cachePath()+"/"+this.fileName(a)},store:function(){this.warn("This is a readonly cache")},del:function(){return this.warn("This is a readonly cache"),null},getCurrentVersion:function(){if(!this.current_version){var a=new Date;this.current_version=""+a.getFullYear()+a.getMonth()+a.getDay()+a.getHours()+a.getMinutes()+a.getSeconds()}return this.current_version},getVersionedPath:function(){return this.basePath()+"/"+this.getCurrentVersion()},generateSources:function(a,b,d,e){var f={},h=this;d.forEach(function(c){f[c.key]=function(d){a.get("sources/"+c.key+"/translations",{locale:b,per_page:1e5,sources:!0,original:!0},{},function(a,e){if(a)return void d(a,null);var f=h.getVersionedPath()+"/"+b+"/sources";g.ensureDir(f,function(){var a=f+"/"+c.source+".json";g.writeFile(a,JSON.stringify(e),function(a){if(a)throw console.log(a),a;d(null,e)})})})}}),c.parallel(f,function(a){if(a)throw console.log(a),a;e()})},generateLanguages:function(a,b,d,e){var f={},h=this;b.forEach(function(b){f[b]=function(c){a.get("languages/"+b,{definition:!0},{},function(e,f){if(e)return void c(e,null);var i=h.getVersionedPath()+"/"+b;g.ensureDir(i,function(){g.writeFile(i+"/language.json",JSON.stringify(f),function(e){if(e)throw console.log(e),e;h.generateSources(a,b,d,function(){c(null,f)})})})})}}),c.parallel(f,function(a){if(a)throw console.log(a),a;e()})},loadSources:function(a,b){a.get("applications/current/sources",{},{},function(a,c){if(a)throw console.log(a),a;b(c.results)})},generate:function(a){console.log("Generating cache: "+this.getCurrentVersion());var b=new e(f.application),c=this;b.getApiClient().get("applications/current",{definition:!0},{},function(d,e){if(d)throw console.log(d),d;g.ensureDir(c.getVersionedPath(),function(){g.writeFile(c.getVersionedPath()+"/application.json",JSON.stringify(e),function(d){if(d)throw console.log(d),d;if(e.languages){var f=[];e.languages.forEach(function(a){f.push(a.locale)}),c.loadSources(b.getApiClient(),function(d){c.generateLanguages(b.getApiClient(),f,d,function(){var b=c.basePath()+"/current";g.unlink(b,function(){g.symlink(c.getCurrentVersion(),b,function(){a()})})})})}else a()})})})}}),b.exports=h},{"../application":5,"../configuration":13,"../utils":36,"./base":7,"fs-extra":57}],10:[function(a,b){var c=a("../utils"),d=a("./base"),e=function(a){this.initialize(a)};e.prototype=c.extend(new d,{name:"inline",read_only:!0,create:function(){return window.TmlCache=window.TmlCache||{},window.TmlCache},fetch:function(a,b,d){var e=this.cache[a];return e?(this.info("cache hit "+a),e=JSON.stringify(e),void(d&&d(null,e))):(this.info("cache miss "+a),c.isFunction(b)?void b(function(a,b){d(a,b)}):(e=b||null,e&&(e=JSON.stringify(e)),void(d&&d(null,e))))},store:function(a,b){return this.info("the cache is readonly. can't store data"),b},del:function(){this.info("the cache is readonly. can't delete data")},exists:function(a,b){b&&b(!!this.cache[a])}}),b.exports=e},{"../utils":36,"./base":7}],11:[function(a,b){var c=a("memcached"),d=a("../utils"),e=a("./base"),f=function(a){this.config=a||{},this.config.timeout=this.config.timeout||3600,this.cache=this.create()};f.prototype=d.extend(new e,{name:"memcache",read_only:!1,cached_by_source:!0,create:function(){return new c(this.config.hosts,this.config.options)},fetch:function(a,b,c){c=c||function(){},this.cache.get(this.getVersionedKey(a),function(d,e){e?(this.info("cache hit "+a),c(null,e)):(this.info("cache miss "+a),"function"==typeof b?b(function(b,d){d?this.store(a,d,function(){c(null,d)}):c("no data",null)}.bind(this)):b?this.store(a,b,function(a){c(null,a)}):c(null,null))}.bind(this))},store:function(a,b,c){return this.info("cache store "+a),this.cache.set(this.getVersionedKey(a),b,this.config.timeout,c)},del:function(a,b){this.info("cache del "+a),this.cache.del(this.getVersionedKey(a),b)},exists:function(a,b){this.cache.get(this.getVersionedKey(a),function(a,c){b&&b(!(a||!c))})},clear:function(a){a&&a(null)}}),b.exports=f},{"../utils":36,"./base":7,memcached:void 0}],12:[function(a,b){var c=a("redis"),d=a("../utils"),e=a("./base"),f=function(a){this.config=a||{},this.cache=this.create()};f.prototype=d.extend(new e,{name:"redis",read_only:!1,cached_by_source:!0,create:function(){return c.createClient(this.config.port,this.config.host,this.config.options||{})},fetch:function(a,b,c){c=c||function(){},this.cache.get(this.getVersionedKey(a),function(d,e){e?(this.info("cache hit "+a),c(null,e)):(this.info("cache miss "+a),"function"==typeof b?b(function(b,d){d?this.store(a,d,function(){c(null,d)}):c("no data",null)}.bind(this)):b?this.store(a,b,function(a){c(null,a)}):c(null,null))}.bind(this))},store:function(a,b,c){return this.info("cache store "+a),this.cache.set(this.getVersionedKey(a),b,c)},del:function(a,b){this.info("cache del "+a),this.cache.del(this.getVersionedKey(a),b)},exists:function(a,b){this.cache.get(this.getVersionedKey(a),function(a,c){b&&b(!(a||!c))})},clear:function(a){a&&a(null)}}),b.exports=f},{"../utils":36,"./base":7,redis:void 0}],13:[function(a,b){var c=a("./cache"),d=a("./utils"),e=a("./../config/config.js"),f=function(){d.merge(this,e)};f.prototype={initCache:function(a){return this.cache=this.cache||{},a&&(this.cache.namespace=a.substring(0,5)),this.cacheAdapter=new c(this.cache),this.cacheAdapter},getCache:function(){return this.cacheAdapter},getDefaultToken:function(a,b,c){if(b=b||"data",c=c||"html",this.default_tokens[c][b][a])return this.default_tokens[c][b][a];var d=a.split("_");return a=d[d.length-1],a=a.replace(/_*\d+$/,""),this.default_tokens[c][b][a]?this.default_tokens[c][b][a]:null},setDefaultToken:function(a,b,c,d){c=c||"data",d=d||"html",this.default_tokens[d]=this.default_tokens[d]||{},this.default_tokens[d][c]=this.default_tokens[d][c]||{},this.default_tokens[d][c][a]=b},getContextRules:function(a){return this.context_rules[a]||{}},setContextRules:function(a,b,c){return this.context_rules[a]?void(this.context_rules[a].variables[b]=c):!1},isDisabled:function(){return!this.isEnabled()},isEnabled:function(){return this.enabled},isFileCache:function(){return null===this.cache?!1:"file"==this.cache.adapter}},b.exports=new f},{"./../config/config.js":1,"./cache":6,"./utils":36}],14:[function(a,b){(function(c){var d=a("../utils"),e={decorate:function(a,b,c,d,e){if(e=e||{},e.skip_decorations||d.language==c||!e.current_translator||!e.current_translator.inline||d.locked&&!e.current_translator.manager)return a;var f="tml:label",g=["tml_translatable"];if(d.locked){if(!e.current_translator.isFeatureEnabled("show_locked_keys"))return a;g.push("tml_locked")}else g.push(b.locale===c.locale?"tml_translated":"tml_not_translated");var h=[];return h.push("<"+f+" class='"+g.join(" ")+"' data-translation_key='"+d.key+"' data-target_locale='"+c.locale+"'>"),h.push(a),h.push("</"+f+">"),h.join("")},decorateLanguageCase:function(a,b,e,f,g){if(g=g||{},g.skip_decorations||!g.current_translator||!g.current_translator.inline)return f;for(var h={keyword:a.keyword,language_name:a.language.english_name,latin_name:a.latin_name,native_name:a.native_name,conditions:b?b.conditions:"",operations:b?b.operations:"",original:e,transformed:f},i=new c(JSON.stringify(h)).toString("base64").trim().replace("\n",""),j={"class":"tml_language_case","data-locale":a.language.locale,"data-rule":encodeURIComponent(i)},k=[],l=d.keys(j),m=0;m<l.length;m++)k.push(""+l[m]+'="'+j[l[m]]+'"');var n="span",o=[];return o.push("<"+n+" "+k.join(" ")+">"),o.push(f),o.push("</"+n+">"),o.join("")}};b.exports=e}).call(this,a("buffer").Buffer)},{"../utils":36,buffer:39}],15:[function(require,module,exports){var config=require("../configuration"),utils=require("../utils"),helpers=require("../helpers/scripts"),logger=require("../logger"),Application=require("../application"),Translator=require("../translator"),DomTokenizer=require("./dom"),app=null,DEFAULT_HOST="https://api.translationexchange.com",includeTools=function(app,callback){utils.addCSS(window.document,app.tools.stylesheet,!1),utils.addCSS(window.document,app.css,!0),utils.addJS(window.document,"tml-jssdk",app.tools.javascript,function(){Tml.app_key=app.key,Tml.host=app.tools.host,Tml.sources=[],Tml.default_locale=app.default_locale,Tml.page_locale=config.current_locale,Tml.locale=config.current_locale;var shortcutFn=function(sc){return function(){eval(app.shortcuts[sc])}};if(app.isFeatureEnabled("shortcuts"))for(var sc in app.shortcuts)shortcut.add(sc,shortcutFn(sc));callback&&callback()})},tml={version:"0.4.1",application:null,block_options:[],root_element:null,options:{},init:function(a,b,c){b=b||{},tml.options=b,config.debug=b.debug?b.debug:config.debug,b.preferred_languages=b.preferred_languages||this.getBrowserLanguages(),config.debug&&console.log([" _______                  _       _   _             ______          _","|__   __|                | |     | | (_)           |  ____|        | |","   | |_ __ __ _ _ __  ___| | __ _| |_ _  ___  _ __ | |__  __  _____| |__   __ _ _ __   __ _  ___","   | | '__/ _` | '_ \\/ __| |/ _` | __| |/ _ \\| '_ \\|  __| \\ \\/ / __| '_ \\ / _` | '_ \\ / _` |/ _ \\","   | | | | (_| | | | \\__ \\ | (_| | |_| | (_) | | | | |____ >  < (__| | | | (_| | | | | (_| |  __/","   |_|_|  \\__,_|_| |_|___/_|\\__,_|\\__|_|\\___/|_| |_|______/_/\\_\\___|_| |_|\\__,_|_| |_|\\__, |\\___|","                                                                                       __/ |","                                                                                      |___/","   version "+tml.version," "].join("\n")),b.proxy||b.immediate?tml.initApplication(a,b,c):document.addEventListener("DOMContentLoaded",function(){tml.initApplication(a,b,c)})},getBrowserLanguages:function(){var a=window.navigator;return a.languages||a.language&&[a.language]||a.userLanguage&&[a.userLanguage]||a.browserLanguage&&[a.browserLanguage]||null},initApplication:function(a,b,c){window.util=utils,(b.translateElement||b.translateBody)&&(tml.root_element="string"==typeof b.translateElement?document.getElementById(b.translateElement):b.translateElement,b.translateBody&&(tml.root_element=document.body));var d=new Date,e=b.source;if(!e){var f=document.createElement("a");f.href=location.href,e=f.pathname}e=e.replace(/^\//,""),e.match(/\/$/)&&(e+="index"),""===e&&(e="index");var g=b.host||DEFAULT_HOST;b=utils.merge(config,{delayed_flush:!0,api:"ajax",current_source:e,cache:{enabled:!0,adapter:"browser",version:b.version}},b),config.initCache(a),app=tml.application=new Application({access_token:a,host:g}),app.init(b,function(a){if(a)throw new Error(a);tml.root_element&&tml.translateElement(tml.root_element);var e=new Date;logger.debug("page render took "+(e-d)+" mls"),tml.updateLanguageSelector(),b.translateTitle&&""!==document.title&&(document.title=tml.translateLabel(document.title)),includeTools(app,function(){c&&c()}),"function"==typeof tml.options.initialized&&tml.options.initialized(app),setTimeout(function(){config.getCache().fetchVersion(function(a){app.getApiClient().getReleaseVersion(function(b){a!=b&&config.getCache().clear()})})},1e3)})},updateLanguageSelector:function(){var a=document.querySelectorAll("[data-tml-language-selector], [tml-language-selector]");if(0!==a.length)for(var b=0;b<a.length;b++){var c=a[b].getAttribute("data-tml-language-selector");c=c||"popup";var d=a[b].getAttribute("data-tml-language-selector-element");d=d||"div";var e="true"==a[b].getAttribute("data-tml-toggle"),f=a[b].getAttribute("data-tml-toggle-label"),g="true"==a[b].getAttribute("data-tml-powered-by");a[b].innerHTML=tml.getLanguageSelector(c,{element:d,container:a[b],toggle:e,toggle_label:f,powered_by:g}),helpers.language_selector_init(app,c)}},changeLanguage:function(a){app.changeLanguage(a,function(a){tml.root_element&&(config.currentLanguage=app.getCurrentLanguage(),this.tokenizer.updateAllNodes()),tml.updateLanguageSelector(),"function"==typeof tml.options.languageChanged&&tml.options.languageChanged(a)}.bind(this))},translate:function(a,b,c,d){if(!app)throw new Error("Invalid application.");return"string"!=typeof b&&(d=c||{},c=b||{},b=""),d=utils.extend({},{current_locale:app.current_locale,current_source:app.current_source,current_translator:app.current_translator,block_options:tml.block_options||[]},d),app.getCurrentLanguage().translate(a,b,c,d)},translateLabel:function(a,b,c,d){return"string"!=typeof b&&(d=c||{},c=b||{},b=""),d=utils.extend({},{skip_decorations:!0},d),tml.translate(a,b,c,d)},translateElement:function(a){a="string"==typeof a?document.getElementById(a):a,config.currentLanguage=app.getCurrentLanguage(),this.tokenizer=new DomTokenizer(a,{},{debug:!1,current_source:app.current_source||"index",current_translator:app.current_translator}),this.tokenizer.translateDOM(a)},translateTextNode:function(a,b,c){var d=utils.sanitizeString(c);if(!utils.isNumber(d)&&null!==d&&0!==d.length){var e=this.translate(d);/^\s/.test(c)&&(e=" "+e),/\s$/.test(c)&&(e+=" ");var f=document.createElement("span");f.innerHTML=e,a.replaceChild(f,b)}},translateTextElements:function(a){if(!utils.element("tml_status_node")){console.log("Initializing text nodes...");var b=document.createElement("div");b.id="tml_status_node",b.style.display="none",document.body.appendChild(b);for(var c=[],d=document.createTreeWalker(a||document.body,NodeFilter.SHOW_TEXT,null,!1);d.nextNode();)c.push(d.currentNode);console.log("Found "+c.length+" text nodes");for(i=0;i<c.length;i++){var e=c[i],f=e.parentNode;if(f&&"script"!=f.tagName&&"SCRIPT"!=f.tagName){var g=e.nodeValue||"";if(-1==g.indexOf("<img")&&-1==g.indexOf("<!-")){{g.split(". ")}this.translateTextNode(f,e,g)}}}}},getApplication:function(){return app},getCurrentSource:function(){return app.current_source},getCurrentTranslator:function(){return app.current_translator},getCurrentLanguage:function(){return app.getCurrentLanguage()},getLanguageSelector:function(a,b){return b=utils.merge(b||{},{current_language:tml.getCurrentLanguage(),client_side:!0}),helpers.language_selector(app,a,b)},block:function(a,b){tml.block_options.unshift(a),b(),tml.block_options.pop()
},beginBlock:function(a){tml.block_options.unshift(a)},endBlock:function(){tml.block_options.pop()},clearCache:function(){config.getCache().clear()}};window.tml=tml,window.tr=tml.translate,window.trl=tml.translateLabel,window.tre=tml.translateElement,window.tml_application=tml.getApplication,window.tml_current_source=tml.getCurrentSource,window.tml_current_translator=tml.getCurrentTranslator,window.tml_current_language=tml.getCurrentLanguage,window.tml_language_selector=tml.getLanguageSelector,window.tml_block=tml.block,window.tml_begin_block=tml.beginBlock,window.tml_end_block=tml.endBlock},{"../application":5,"../configuration":13,"../helpers/scripts":17,"../logger":23,"../translator":35,"../utils":36,"./dom":16}],16:[function(a,b){var c=a("../utils"),d=a("../configuration"),e=function(a,b,c){this.doc=a,this.context=b||{},this.tokens=[],this.options=c||{}};e.prototype={content_cache:[],translate:function(){return this.translateTree(this.doc)},updateAllNodes:function(){for(var a=0,b=this.content_cache.length;b>a;a++)this.content_cache[a].container&&(this.content_cache[a].container.innerHTML=this.translateTml(this.content_cache[a].tml,this.content_cache[a].data))},replaceNodes:function(a){var b,c,d,e,f=document.createElement("tml:inline"),g=a[0]&&a[0].parentNode,h="";if(g){if(c=a.map(function(a){return h+=a.innerText||a.nodeValue,this.generateTmlTags(a)}.bind(this)).join(""),d=this.tokens,e=this.translateTml(c),this.isEmptyString(c)||this.isUntranslatableText(h)||this.isNoTranslate(g))return;a.length!==g.childNodes.length?(setTimeout(function(){g.insertBefore(f,a[0]),f.innerHTML=e,f.insertAdjacentHTML("beforebegin","\n"),f.insertAdjacentHTML("afterend","\n"),a.forEach(function(a){g.removeChild(a)})}.bind(this),0),b=f):(g.insertBefore(f,a[0]),f.insertAdjacentHTML("beforebegin",e),g.removeChild(f),f=null,a.forEach(function(a){g.removeChild(a)}),b=g),this.content_cache.push({container:b,tml:c,data:d})}},isUntranslatableText:function(a){return this.isEmptyString(a)||a.match(/^[0-9,.\s]+$/)},translateDOM:function(a){if(3==a.nodeType)return void(a.nodeValue=a.nodeValue);for(var b=a.childNodes.length,c=b,d=[];c--;){var e=a.childNodes[b-c-1];e&&!this.isNonTranslatable(e)&&(3==e.nodeType||this.isInlineNode(e)&&this.hasInlineSiblings(e)?d.push(e):(this.replaceNodes(d),this.translateDOM(e),d=[]))}d.length>0&&this.replaceNodes(d)},isNonTranslatable:function(a){return 1==a.nodeType&&-1!=this.getOption("nodes.scripts").indexOf(a.tagName.toLowerCase())||1==a.nodeType&&a.getAttribute("notranslate")||8==a.nodeType},isNoTranslate:function(a){if(a.attributes)for(var b=0;b<a.attributes.length;b++)if("notranslate"==a.attributes[b].name)return!0;return!1},isNonTranslatableNode:function(a){return a?1==a.nodeType&&-1!=this.getOption("nodes.scripts").indexOf(a.nodeName.toLowerCase())?!0:1==a.nodeType&&0===a.childNodes.length&&""===a.nodeValue?!0:this.isNoTranslate(a)?!0:!1:!1},translateTml:function(a,b){if(this.isEmptyString(a))return a;if(a=this.generateDataTokens(a),b=b||this.tokens,this.getOption("split_sentences")){sentences=c.splitSentences(a),translation=a;var e=this;return sentences.forEach(function(a){var c=e.getOption("debug")?e.debugTranslation(a):d.currentLanguage.translate(a,b,e.options);translation=translation.replace(a,c)}),this.resetContext(),translation}return a=a.replace(/[\n]/g,"").replace(/\s\s+/g," ").trim(),translation=this.getOption("debug")?this.debugTranslation(a):d.currentLanguage.translate(a,b,this.options),this.resetContext(),translation},hasChildNodes:function(a){return a.childNodes?a.childNodes.length>0:!1},isBetweenSeparators:function(a){return this.isSeparatorNode(a.previousSibling)&&!this.isValidTextNode(a.nextSibling)?!0:this.isSeparatorNode(a.nextSibling)&&!this.isValidTextNode(a.previousSibling)?!0:!1},generateTmlTags:function(a){if(3==a.nodeType)return a.nodeValue;if(this.isNoTranslate(a)){var b=this.contextualize(this.adjustName(a),a.innerHTML);return"{"+b+"}"}var c=a.tagName.toLowerCase();if("var"==c)return this.registerDataTokenFromVar(a);for(var d="",e=0;e<a.childNodes.length;e++){var f=a.childNodes[e];d+=3==f.nodeType?f.nodeValue:this.generateTmlTags(f)}var g,h=this.generateHtmlToken(a),i=this.contextualize(this.adjustName(a),h),j=this.sanitizeValue(d);return g=this.isSelfClosingNode(a)?"{"+i+"}":this.isShortToken(i,j)?"["+i+": "+j+"]":"["+i+"]"+j+"[/"+i+"]"},registerDataTokenFromVar:function(a){var b={},c="var";if(a.attributes)for(var d=0;d<a.attributes.length;d++){var e=a.attributes[d];""===e.value?c=e.name:b[e.name]=e.value}return b.value=b.value||a.innerHTML,c=this.contextualize(c,a.innerHTML),"{"+c+"}"},getOption:function(a){return"undefined"==typeof this.options[a]||null===this.options[a]?c.hashValue(d.translator_options,a):this.options[a]},debugTranslation:function(a){return this.getOption("debug_format").replace("{$0}",a)},isEmptyString:function(a){return a=a.replace(/[\s\n\r\t\0\x0b\xa0\xc2]/g,""),""===a},resetContext:function(){this.tokens=[].concat(this.context)},isShortToken:function(a,b){return-1!=this.getOption("nodes.short").indexOf(a.toLowerCase())||b.length<20},isOnlyChild:function(a){return a.parentNode?1==a.parentNode.childNodes.length:!1},hasInlineSiblings:function(a){return a.parentNode&&a.parentNode.childNodes.length>1&&a.previousSibling&&(this.isInlineNode(a.previousSibling)||this.isValidTextNode(a.previousSibling))||a.nextSibling&&(this.isInlineNode(a.nextSibling)||this.isValidTextNode(a.nextSibling))},isInlineNode:function(a){return 1==a.nodeType&&-1!=this.getOption("nodes.inline").indexOf(a.tagName.toLowerCase())&&!this.isOnlyChild(a)},isContainerNode:function(a){return 1==a.nodeType&&!this.isInlineNode(a)},isSelfClosingNode:function(a){return!a.firstChild},isIgnoredNode:function(a){return 1!=a.nodeType?!0:-1!=this.getOption("nodes.ignored").indexOf(a.tagName.toLowerCase())},isValidTextNode:function(a){return a?3==a.nodeType&&!this.isEmptyString(a.nodeValue):!1},isSeparatorNode:function(a){return a?1==a.nodeType&&-1!=this.getOption("nodes.splitters").indexOf(a.tagName.toLowerCase()):!1},sanitizeValue:function(a){return a.replace(/^\s+/,"")},replaceSpecialCharacters:function(a){if(!this.getOption("data_tokens.special.enabled"))return a;var b=a.match(this.getOption("data_tokens.special.regex")),c=this;return b.forEach(function(b){token=b.substring(1,b.length-2),c.context[token]=b,a=a.replace(b,"{"+token+"}")}),a},generateDataTokens:function(a){var b=this;a=this.sanitizeValue(a);var c=null;if(this.getOption("data_tokens.date.enabled")){c=b.getOption("data_tokens.date.name");var d=b.getOption("data_tokens.date.formats");d.forEach(function(d){var e=d[0],f=(d[1],a.match(e));f&&f.forEach(function(d){var e=d,f=b.contextualize(c,e),g="{"+f+"}";a=a.replace(d,g)})})}if(this.getOption("data_tokens.numeric.enabled")){c=b.getOption("data_tokens.numeric.name");var e=a.match(b.getOption("data_tokens.numeric.regex"));e&&e.forEach(function(d){var e=d.replace(/[.,;\s]/g,""),f=b.contextualize(c,parseInt(e)),g=d.replace(e,"{"+f+"}");a=a.replace(d,g)})}return a},generateHtmlToken:function(a,b){var d=a.tagName.toLowerCase(),e=a.attributes,f={};if(b=b?b:"{$0}",0===e.length)return this.isSelfClosingNode(a)?"br"==d||"hr"==d?"<"+d+"/>":"<"+d+"></"+d+">":"<"+d+">"+b+"</"+d+">";for(var g=0;g<e.length;g++)f[e[g].name]=e[g].value;var h=c.keys(f);h.sort();var i=[];return h.forEach(function(a){var b=-1!=f[a].indexOf("'")?'"':"'";i.push(a+"="+b+f[a]+b)}),i=i.join(" "),this.isSelfClosingNode(a)?"<"+d+" "+i+"></"+d+">":"<"+d+" "+i+">"+b+"</"+d+">"},adjustName:function(a){var b=a.tagName.toLowerCase(),c=this.getOption("name_mapping");return b=c[b]?c[b]:b},contextualize:function(a,b){if(this.tokens[a]&&this.tokens[a]!=b){var c=0,d=a.match(/\d+$/);return d&&d.length>0&&(c=parseInt(d[d.length-1]),a=a.replace(""+c,"")),a+=c+1,this.contextualize(a,b)}return this.tokens[a]=b,a},debug:function(a){this.doc=a,this.debugTree(a,0)},debugTree:function(a,b){var c=new Array(b+1).join("=");if(console.log(c+"=> "+typeof a+": "+this.nodeInfo(a)),a.childNodes)for(var d=this,e=0;e<a.childNodes.length;e++){var f=a.childNodes[e];d.debugTree(f,b+1)}},nodeInfo:function(a){var b=[];return b.push(a.nodeType),1==a.nodeType&&b.push(a.tagName),this.isInlineNode(a)&&(b.push("inline"),b.push(this.hasInlineSiblings(a)?"sentence":"only translatable")),this.isSelfClosingNode(a)&&b.push("self closing"),this.isOnlyChild(a)&&b.push("only child"),3==a.nodeType?"["+b.join(", ")+']: "'+a.nodeValue+'"':"["+b.join(", ")+"]"}},b.exports=e},{"../configuration":13,"../utils":36}],17:[function(a,b){var c={header:function(a,b){b=b||{};var c=[];if(c.push("<script>"),c.push("function tml_add_css(doc, value, inline) {"),c.push("  var css = null;"),c.push("  if (inline) {"),c.push("    css = doc.createElement('style'); css.type = 'text/css';"),c.push("    if (css.styleSheet) css.styleSheet.cssText = value;"),c.push("    else css.appendChild(document.createTextNode(value));"),c.push("  } else {"),c.push("    css = doc.createElement('link'); css.setAttribute('type', 'text/css');"),c.push("    css.setAttribute('rel', 'stylesheet'); css.setAttribute('media', 'screen');"),c.push("    css.setAttribute('href', value);"),c.push("  }"),c.push("  doc.getElementsByTagName('head')[0].appendChild(css);"),c.push("  return css;"),c.push("}"),c.push("function tml_add_script(doc, id, src, onload) {"),c.push("  var script = doc.createElement('script');"),c.push("  script.setAttribute('id', id); script.setAttribute('type', 'application/javascript');"),c.push("  script.setAttribute('src', src);"),c.push("  script.setAttribute('charset', 'UTF-8');"),c.push("  if (onload) script.onload = onload;"),c.push("  doc.getElementsByTagName('head')[0].appendChild(script);"),c.push("  return script;"),c.push("}"),c.push("(function() {"),c.push("  if (window.addEventListener) window.addEventListener('load', tml_init, false);"),c.push("  else if (window.attachEvent) window.attachEvent('onload', tml_init);"),c.push("  window.setTimeout(function() {tml_init();}, 1000);"),c.push("  function tml_init() {"),c.push("    if (window.tml_already_initialized) return;"),c.push("    window.tml_already_initialized = true;"),c.push("    tml_add_css(window.document, '"+a.tools.stylesheet+"', false);"),c.push('    tml_add_css(window.document, "'+a.css+'", true);'),c.push("    tml_add_script(window.document, 'tml-jssdk', '"+a.tools.javascript+"', function() {"),c.push("      Tml.app_key = '"+a.key+"';"),c.push("      Tml.host = '"+a.tools.host+"';"),c.push("      Tml.sources = [];"),c.push("      Tml.default_locale = '"+a.default_locale+"';"),c.push("      Tml.page_locale = '"+b.current_language.locale+"';"),c.push("      Tml.locale = '"+b.current_language.locale+"';"),a.isFeatureEnabled("shortcuts"))for(var d=Object.keys(a.shortcuts||{}),e=0;e<d.length;e++)c.push("shortcut.add('"+d[e]+"', function() {"),c.push(a.shortcuts[d[e]]),c.push("});");return c.push("      if (typeof(tml_on_ready) === 'function') tml_on_ready();"),c.push("      if (typeof(tml_footer_scripts) === 'function') tml_footer_scripts();"),c.push("    })"),c.push("  }"),c.push("})();"),c.push("</script>"),c.join("")},language_selector_script_tag:function(){var a=[];return a.push("<script>"),a.push("function tml_change_locale(locale) {"),a.push("  var query_parts = window.location.href.split('#');"),a.push("  var anchor = query_parts.length > 1 ? query_parts[1] : null;"),a.push("  query_parts = query_parts[0].split('?');"),a.push("  var query = query_parts.length > 1 ? query_parts[1] : null;"),a.push("  var params = {};"),a.push("  if (query) {"),a.push("    var vars = query.split('&');"),a.push("    for (var i = 0; i < vars.length; i++) {"),a.push("      var pair = vars[i].split('=');"),a.push("      params[pair[0]] = pair[1];"),a.push("    }"),a.push("  }"),a.push("  params['locale'] = locale;"),a.push("  query = [];"),a.push("  var keys = Object.keys(params);"),a.push("  for (i = 0; i < keys.length; i++) {"),a.push("    query.push(keys[i] + '=' + params[keys[i]]);"),a.push("  }"),a.push("  var destination = query_parts[0];"),a.push("  if (query.length > 0)"),a.push("    destination = destination + '?' + query.join('&');"),a.push("  if (anchor)"),a.push("    destination = destination + '#' + anchor;"),a.push("  window.location = destination;"),a.push("}"),a.push("</script>"),a.join("")},language_name_tag:function(a,b){b=b||{},null===a&&(a=tml_current_language());var c=[];return b.flag&&(c.push(this.language_flag_tag(a)),c.push(" ")),c.push(a.native_name),c.join("")},language_flag_tag:function(a,b){b=b||{};var c=a.english_name;return"native"==b.language&&(c=a.native_name),null===a&&(a=tml_current_language()),"<img src='"+a.flag_url+"' style='margin-right:3px;' alt='"+c+"' title='"+c+"'>"},language_selector_bootstrap:function(a,b){b=b||{};var d=b.element||"div",e=b.class_name||"dropdown",f=b.style||"",g=b.language||"english",h=b.toggle===!1?!1:!0,i=b.toggle_label||"Help Us Translate",j=b.powered_by===!1?!1:!0,k=[];return b.client_side||k.push(this.language_selector_script_tag()),"none"!=d&&k.push("<"+d+" class='"+e+"' style='"+f+"'>"),k.push("  <a href='#' role='button' class='"+e+"-toggle' data-toggle='"+e+"'>"),k.push(c.language_name_tag(b.current_language,{flag:!0,name:g})),k.push("</a>"),k.push("<ul class='"+e+"-menu' role='menu'>"),a.languages.forEach(function(a){k.push("<li role='presentation'>"),b.current_language.locale==a.locale&&k.push("<div style='right: 5px;font-weight: bold;font-size: 16px;margin: 0px 5px 0px 0px;color: #13CF80;position: absolute;'>âœ“</div>"),k.push(b.client_side?"<a href='javascript:void(0);' onclick='tml.changeLanguage(\""+a.locale+"\")'>":"<a href='javascript:void(0);' onclick='tml_change_locale(\""+a.locale+"\")'>"),k.push(c.language_name_tag(a,{flag:!0,name:g})),k.push("</a></li>")}),h&&(k.push("<li role='presentation' class='divider'></li>"),k.push("<li role='presentation'><a href='javascript:void(0);' onclick='Tml.Utils.toggleInlineTranslations()'>"+i+"</a></li>")),j&&(k.push("<li role='presentation' class='divider'></li>"),k.push("<div style='padding: 0px 20px; font-size:11px; white-space: nowrap;'>"),k.push("<a href='http://translationexchange.com' style='color:#888;'>"),k.push("Powered By Translation Exchange"),k.push("</a>"),k.push("</div>"),k.push("</ul>")),"none"!=d&&k.push("</"+d+">"),k.join("")},language_selector_default:function(a,b){b=b||{};var c=[];return c.push("<a href='#' onclick='Tml.UI.LanguageSelector.show();'>"),c.push("<img src='"+b.current_language.flag_url+"'> &nbsp;"),c.push(b.current_language.english_name),c.push("</a>"),c.join("")},language_selector_popup:function(a,b){b=b||{};var d=(b.element||"div",b.class_name||"dropdown",b.toggle===!1?!1:!0),e=b.toggle_label||"Help Us Translate",f=b.powered_by===!1?!1:!0,g=[];return g.push("<style>"),g.push(".trex-language-selector {position: relative;display: inline-block;vertical-align: middle;}"),g.push(".trex-language-toggle,"),g.push(".trex-language-toggle:hover,"),g.push(".trex-language-toggle:focus {cursor:pointer;text-decoration:none;outline:none;}"),g.push(".trex-dropup .trex-dropdown-menu {top: auto;bottom: 100%;margin-bottom: 1px;-webkit-transform: scale(0.8) translateY(10%);transform: scale(0.8) translateY(10%);}"),g.push(".trex-dropleft .trex-dropdown-menu {left: auto; right: 0;}"),g.push(".trex-dropdown-menu {"),g.push("   -webkit-transform: scale(0.8) translateY(10%);transform: scale(0.8) translateY(10%);transition: 0.13s cubic-bezier(0.3, 0, 0, 1.3);opacity: 0;pointer-events: none;"),g.push("   display: block;font-family:Arial, sans-serif;position: absolute;"),g.push("   top: 100%;left: 0;z-index: 1000;float: left;list-style: none;background-color: #FFF;height:0px;width:0px;padding:0;overflow:hidden;"),g.push("}"),g.push(".trex-language-selector[dir=rtl] .trex-dropdown-menu {left: auto; right: 0;}"),g.push(".trex-language-selector.trex-dropleft[dir=rtl] .trex-dropdown-menu {left:0; right:auto;}"),g.push(".trex-language-selector.trex-open .trex-dropdown-menu {"),g.push("   opacity: 1;height:auto;width:auto;overflow:hidden;min-width: 250px;margin: 2px 0 0;font-size: 13px;"),g.push("   background-clip: padding-box;border: 1px solid rgba(0, 0, 0, 0.15);box-shadow: 0 2px 0 rgba(0, 0, 0, 0.05);"),g.push("   border-radius: 4px;color: #6D7C88;text-align: left;padding: 5px 0;"),g.push("   display:block;pointer-events: auto;-webkit-transform: none;transform: none;"),g.push("}"),g.push(".trex-dropdown-menu > li {"),g.push("text-align:"+b.current_language.align("left")+";"),g.push("}"),g.push(".trex-dropdown-menu > li > a {"),g.push("  display: block; text-decoration:none !important; padding: 3px 10px;margin:0 5px;clear: both;font-weight: normal;line-height: 1.42857143;color: #333;border-radius:3px;white-space: nowrap;cursor:pointer;"),g.push("}"),g.push(".trex-dropdown-menu > li > a .trex-flag {margin-right:3px;width:23px;}"),g.push(".trex-dropdown-menu > li.trex-language-item > a:hover,"),g.push(".trex-dropdown-menu > li.trex-language-item > a:focus {text-decoration:none !important;background: #F0F2F4;}"),g.push(".trex-dropdown-menu > li.trex-language-item > a .trex-native-name {font-size: 11px;color: #A9AFB8;margin-left: 3px;}"),g.push(".trex-dropdown-menu > li.trex-selected a:after {content: 'âœ“';right: 5px;font-weight: bold;font-size: 16px;margin: 0px 5px 0px 0px;color: #13CF80;position: absolute;}"),g.push(".trex-dropdown-menu[dir=rtl] > li.trex-selected a:after {left: 5px; right:auto !important; margin: 0px 0 0px 5px;}"),g.push(".trex-dropdown-menu .trex-credit a {border-top: solid 1px #DDD;font-size: 13px;padding: 7px 0 0;margin: 5px 15px 5px;color: #9FA7AE;font-weight: 400;}"),g.push("</style>"),"self"==b.element?(b.container.className+=" trex-language-selector",b.container.dir=b.current_language.direction()):g.push("<"+b.element+" class='trex-language-selector' dir='"+b.current_language.direction()+"'>"),g.push("<a class='trex-language-toggle' data-toggle='tml-language-selector' tabindex='0' dir='"+b.current_language.direction()+"'>"),g.push(c.language_name_tag(b.current_language,{flag:!0,name:name})),g.push("</a>"),g.push("<ul class='trex-dropdown-menu' dir='"+b.current_language.direction()+"'>"),a.languages.forEach(function(a){g.push("<li class='trex-language-item "+(b.current_language.locale==a.locale?"trex-selected":"")+"' dir='"+b.current_language.direction()+"'>"),g.push(b.client_side?"<a href='javascript:void(0);' onclick='tml.changeLanguage(\""+a.locale+"\")'>":"<a href='javascript:void(0);' onclick='tml_change_locale(\""+a.locale+"\")'>"),g.push(c.language_name_tag(a,{flag:!0,name:name})),g.push("</a></li>")}),d&&(g.push("<li class='trex-credit' dir='"+b.current_language.direction()+"'>"),g.push("<a href='javascript:void(0);' onclick='Tml.Utils.toggleInlineTranslations()'>"),g.push(e),g.push("</a>"),g.push("</li>")),f&&(g.push("<li class='trex-credit' dir='"+b.current_language.direction()+"'>"),g.push("<a href='http://translationexchange.com'>"),g.push("Powered by Translation Exchange"),g.push("</a>"),g.push("</li>")),g.push("</ul>"),"self"!=b.element&&g.push("</"+b.element+">"),b.client_side||(g.push("<script>"),g.push(c.language_selector_popup_script.toString()),g.push("</script>")),g.join("\n")},language_selector_popup_script:function(){!function(){"use strict";function a(a,b,c){b.addEventListener?b.addEventListener(a,c,!1):b.attachEvent?b.attachEvent("on"+a,c):b[a]=c}function b(a,b){return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))}function c(a,c){b(a,c)||(a.className+=" "+c)}function d(a,c){if(b(a,c)){var d=new RegExp("(\\s|^)"+c+"(\\s|$)");a.className=a.className.replace(d," ")}}var e=function(b){this.element=b,this.element.setAttribute("tabindex","0"),a("click",this.element,this.open.bind(this)),a("blur",this.element,this.close.bind(this))};e.VERSION="0.1.0",e.prototype={adjustMenu:function(a){d(a,"trex-dropup"),d(a,"trex-dropleft");var b=a.querySelectorAll(".trex-dropdown-menu")[0],e=b.getBoundingClientRect(),f=Math.max(document.documentElement.clientHeight,window.innerHeight||0),g=Math.max(document.documentElement.clientWidth,window.innerWidth||0),h=10;e.top+b.offsetHeight+h>f&&c(a,"trex-dropup"),e.left+b.offsetWidth+h>g&&c(a,"trex-dropleft")},open:function(a){a=a||window.event,a.stopPropagation(),a.preventDefault();var d=a.currentTarget||a.srcElement;return b(d.parentElement,"trex-open")?this.close(a):(c(d.parentElement,"trex-open"),this.adjustMenu(d.parentElement),!1)},close:function(a){a=a||window.event;var b=a.currentTarget||a.srcElement;setTimeout(function(){d(b.parentElement,"trex-open")},500)}};for(var f,g=document.querySelectorAll("[data-toggle=tml-language-selector]"),h=0,i=g.length;i>h;h++)f=g[h],f.languageSelector=new e(f)}()},language_selector_init:function(a,b){b=b||"default","popup"==b&&c.language_selector_popup_script()},language_selector_footer:function(a,b){b=b||{};var c=b.toggle===!1?!1:!0,d=b.toggle_label||"Help Us Translate",e=b.powered_by===!1?!1:!0,f=[];return c&&(f.push("<div style='margin-top: 5px;' dir='"+b.current_language.direction()+"'>"),f.push("<a href='javascript:void(0);' onclick='Tml.Utils.toggleInlineTranslations()'>"),f.push(d),f.push("</a>"),f.push("</div>")),e&&(f.push("<div style='margin-top: 5px;' dir='ltr'>"),f.push("<a href='http://translationexchange.com' style='font-size:12px;color: #ccc;'>"),f.push("Powered by Translation Exchange"),f.push("</a>"),f.push("</div>")),f.join("")},language_selector_dropdown:function(a,b){b=b||{},b.style=b.style||"",b.class_name=b.class_name||"",b.name=b.name||"english";var c=[];b.client_side||c.push(this.language_selector_script_tag());var d="tml_change_locale(this.options[this.selectedIndex].value)";return b.client_side&&(d="tml.changeLanguage(this.options[this.selectedIndex].value)"),c.push("<select id='tml_language_selector' onchange='"+d+"' style='"+b.style+"' class='"+b.class_name+"'>"),a.languages.forEach(function(a){c.push("<option dir='ltr' value='"+a.locale+"' "+(b.current_language.locale==a.locale?"selected":"")+">"),c.push("english"==b.name?a.english_name:a.native_name),c.push("</option>")}),c.push("</select>"),c.push(this.language_selector_footer(a,b)),c.join("")},language_selector_flags:function(a,b){b=b||{},b.style=b.style||"",b.class_name=b.class_name||"",b.name=b.name||"english";var c=this,d=[];return b.client_side||d.push(this.language_selector_script_tag()),d.push("<div id='tml_language_selector'  style='"+b.style+"' class='"+b.class_name+"'>"),a.languages.forEach(function(a){d.push(b.client_side?"<a href='#' onclick=\"tml.changeLanguage('"+a.locale+"')\">":"<a href='#' onclick=\"tml_change_locale('"+a.locale+"')\">"),d.push(c.language_flag_tag(a,b)),d.push("</a> ")}),d.push(this.language_selector_footer(a,b)),d.push("</div>"),d.join("")},language_selector_list:function(a,b){b=b||{},b.style=b.style||"",b.class_name=b.class_name||"",b.name=b.name||"english",b.flag=!0;var c=this,d=[];return b.client_side||d.push(this.language_selector_script_tag()),d.push("<div id='tml_language_selector'  style='"+b.style+"' class='"+b.class_name+"'>"),a.languages.forEach(function(a){d.push("<div>"),b.current_language.locale==a.locale&&(d.push("<div style='float:right; font-weight: bold;font-size: 16px;'>âœ“</div>"),d.push("<strong>")),d.push(b.client_side?"<a href='#' onclick=\"tml.changeLanguage('"+a.locale+"')\">":"<a href='#' onclick=\"tml_change_locale('"+a.locale+"')\">"),d.push(c.language_name_tag(a,b)),d.push("</a>"),b.current_language.locale==a.locale&&d.push("</strong>"),d.push("</div>")}),d.push(this.language_selector_footer(a,b)),d.push("</div>"),d.join("")},language_selector:function(a,b,d){return b=b||"default","default"==b?c.language_selector_default(a,d):"bootstrap"==b?c.language_selector_bootstrap(a,d):"popup"==b?c.language_selector_popup(a,d):"dropdown"==b?c.language_selector_dropdown(a,d):"flags"==b?c.language_selector_flags(a,d):"list"==b?c.language_selector_list(a,d):""}};b.exports={header:c.header,language_name_tag:c.language_name_tag,language_flag_tag:c.language_flag_tag,language_selector:c.language_selector,language_selector_init:c.language_selector_init}},{}],18:[function(a,b){var c=a("./utils"),d=a("./configuration"),e=a("./language_context"),f=a("./language_case"),g=a("./translation_key"),h=function(a){c.extend(this,a),this.contexts={};for(var b=c.keys(a.contexts||{}),d=0;d<b.length;d++)this.contexts[b[d]]=new e(c.extend(a.contexts[b[d]],{language:this,keyword:b[d]}));for(this.cases={},b=c.keys(a.cases||{}),d=0;d<b.length;d++)this.cases[b[d]]=new f(c.extend(a.cases[b[d]],{language:this,keyword:b[d]}))};h.prototype={getContextByKeyword:function(a){return this.contexts[a]},getContextByTokenName:function(a){for(var b=c.keys(this.contexts||{}),d=0;d<b.length;d++)if(this.contexts[b[d]].isAppliedToToken(a))return this.contexts[b[d]];return null},getLanguageCaseByKeyword:function(a){return this.cases[a]},isDefault:function(){return this.locale==d.default_locale},translate:function(a,b,c,e){"string"!=typeof b&&(e=c||{},c=b||{},b="");var f=new g({label:a,description:b,language:this.application?this.application.getLanguage():null,application:this.application});if(this.application){var h=this.getSourcePath(e),i=h[h.length-1],j=this.application.getSource(i),k=j?j.getTranslations(this.locale,f.key):null;if(k)f.setTranslations(this.locale,k);else{this.application.registerMissingTranslationKey(h.join(d.source_separator),f);var l=this.application.getTranslationKey(f.key);l&&(f=l)}}return f.translate(this,c,e)},align:function(a){return this.isRightToLeft()?"left"==a?"right":"left":a},isRightToLeft:function(){return this.right_to_left},direction:function(){return this.isRightToLeft()?"rtl":"ltr"},getSourcePath:function(a){if(!a.block_options)return[a.current_source];for(var b=[],c=0;c<a.block_options.length;c++){var d=a.block_options[c];d.source&&b.push(d.source)}return b=b.reverse(),b.unshift(a.current_source),b}},b.exports=h},{"./configuration":13,"./language_case":19,"./language_context":21,"./translation_key":34,"./utils":36}],19:[function(a,b){var c=a("./utils"),d=a("./configuration"),e=a("./language_case_rule"),f=a("./decorators/html"),g=function(a){c.extend(this,a),this.rules=[],a.rules=a.rules||[];for(var b=0;b<a.rules.length;b++)this.rules.push(new e(c.extend(a.rules[b],{language_case:this})))};g.prototype={findMatchingRule:function(a,b){for(var c=0;c<this.rules.length;c++){var d=this.rules[c];if(d.evaluate(a,b))return d}return null},apply:function(a,b,d){var e=c.unique(a.match(/<\/?[^>]*>/g)||[]),g=a.replace(/<\/?[^>]*>/g,""),h=[g];"phrase"!=this.application&&(h=c.unique(g.split(/[\s\/]/)||[]));for(var i=0;i<e.length;i++)a=a.replace(e[i],"{$h"+i+"}");for(i=0;i<h.length;i++)a=a.replace(h[i],"{$w"+i+"}");var j=f,k=[];for(i=0;i<h.length;i++){var l=h[i],m=this.findMatchingRule(l,b),n=m?m.apply(l):l;k.push(j.decorateLanguageCase(this,m,l,n,d))}for(i=0;i<h.length;i++)a=a.replace("{$w"+i+"}",k[i]);for(i=0;i<e.length;i++)a=a.replace("{$h"+i+"}",e[i]);return a},getConfig:function(){return d}},b.exports=g},{"./configuration":13,"./decorators/html":14,"./language_case_rule":20,"./utils":36}],20:[function(a,b){var c=a("./utils"),d=a("./rules_engine/parser"),e=a("./rules_engine/evaluator"),f=function(a){c.extend(this,a)};f.prototype={getConditionsExpression:function(){return this.conditions_expression||(this.conditions_expression=new d(this.conditions).parse()),this.conditions_expression},getOperationsExpression:function(){return this.operations_expression||(this.operations_expression=new d(this.operations).parse()),this.operations_expression},getGenderVariables:function(a){if(-1==this.conditions.indexOf("@gender"))return{};if(!a)return{gender:"unknown"};var b=this.language_case.language.getContextByKeyword("gender");return b?b.getVars(a):{gender:"unknown"}},evaluate:function(a,b){if(!this.conditions)return!1;var d=new e;return d.setVars(c.extend({"@value":a},this.getGenderVariables(b))),d.evaluate(this.getConditionsExpression())},apply:function(a){if(!this.operations)return a;var b=new e;return b.setVars({"@value":a}),b.evaluate(this.getOperationsExpression())}},b.exports=f},{"./rules_engine/evaluator":25,"./rules_engine/parser":26,"./utils":36}],21:[function(a,b){var c=a("./utils"),d=a("./configuration"),e=a("./language_context_rule"),f=function(a){c.extend(this,a),this.rules={};for(var b=c.keys(a.rules||{}),d=0;d<b.length;d++)this.rules[b[d]]=new e(c.extend(a.rules[b[d]],{language_context:this,keyword:b[d]}))};f.prototype={isAppliedToToken:function(a){var b=new RegExp(this.token_expression.substring(1,this.token_expression.length-2));return null!==a.match(b)},getFallbackRule:function(){if(!this.fallback_rule)for(var a=c.keys(this.rules),b=0;b<a.length;b++){var d=a[b];this.rules[d].isFallback()&&(this.fallback_rule=this.rules[d])}return this.fallback_rule},getConfig:function(){return d.getContextRules(this.keyword)},getVars:function(a){for(var b={},c=this.getConfig(),d=0;d<this.variables.length;d++){var e=this.variables[d];if(c.variables&&c.variables[e]){var f=c.variables[e];"string"==typeof f?(a.object&&(a=a.object),b[e]=a[f]):b[e]="function"==typeof f?f(a):a}else b[e]=a}return b},findMatchingRule:function(a){for(var b=this.getVars(a),d=c.keys(this.rules),e=0;e<d.length;e++){var f=this.rules[d[e]];if(!f.isFallback()&&f.evaluate(b))return f}return this.getFallbackRule()}},b.exports=f},{"./configuration":13,"./language_context_rule":22,"./utils":36}],22:[function(a,b){var c=a("./utils"),d=a("./rules_engine/parser"),e=a("./rules_engine/evaluator"),f=function(a){c.extend(this,a)};f.prototype={isFallback:function(){return"other"==this.keyword},getConditionsExpression:function(){return this.conditions_expression||(this.conditions_expression=new d(this.conditions).parse()),this.conditions_expression},evaluate:function(a){if(this.isFallback())return!0;var b=new e;return b.setVars(a||{}),b.evaluate(this.getConditionsExpression())}},b.exports=f},{"./rules_engine/evaluator":25,"./rules_engine/parser":26,"./utils":36}],23:[function(a,b){var c=(a("./utils"),a("./configuration")),d={formatDate:function(a){var b=a.getHours(),c=a.getMinutes(),d=a.getSeconds();b%=12,b=b?b:12,c=10>c?"0"+c:c;var e=b+":"+c+":"+d;return a.getMonth()+1+"/"+a.getDate()+"/"+a.getFullYear()+" "+e},log:function(a,b){if(c.debug){var d="tml: "+a;b&&(d=d+" "+JSON.stringify(b)),console.log(d)}},debug:function(a,b){this.log(a,b)}};b.exports=d},{"./configuration":13,"./utils":36}],24:[function(a,b){var c=function(a){function b(a,b){return a<<b|a>>>32-b}function c(a,b){var c,d,e,f,g;return e=2147483648&a,f=2147483648&b,c=1073741824&a,d=1073741824&b,g=(1073741823&a)+(1073741823&b),c&d?2147483648^g^e^f:c|d?1073741824&g?3221225472^g^e^f:1073741824^g^e^f:g^e^f}function d(a,b,c){return a&b|~a&c}function e(a,b,c){return a&c|b&~c}function f(a,b,c){return a^b^c}function g(a,b,c){return b^(a|~c)}function h(a,e,f,g,h,i,j){return a=c(a,c(c(d(e,f,g),h),j)),c(b(a,i),e)}function i(a,d,f,g,h,i,j){return a=c(a,c(c(e(d,f,g),h),j)),c(b(a,i),d)}function j(a,d,e,g,h,i,j){return a=c(a,c(c(f(d,e,g),h),j)),c(b(a,i),d)}function k(a,d,e,f,h,i,j){return a=c(a,c(c(g(d,e,f),h),j)),c(b(a,i),d)}function l(a){for(var b,c=a.length,d=c+8,e=(d-d%64)/64,f=16*(e+1),g=Array(f-1),h=0,i=0;c>i;)b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|a.charCodeAt(i)<<h,i++;return b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|128<<h,g[f-2]=c<<3,g[f-1]=c>>>29,g}function m(a){var b,c,d="",e="";for(c=0;3>=c;c++)b=a>>>8*c&255,e="0"+b.toString(16),d+=e.substr(e.length-2,2);return d}function n(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b}var o,p,q,r,s,t,u,v,w,x=Array(),y=7,z=12,A=17,B=22,C=5,D=9,E=14,F=20,G=4,H=11,I=16,J=23,K=6,L=10,M=15,N=21;for(a=n(a),x=l(a),t=1732584193,u=4023233417,v=2562383102,w=271733878,o=0;o<x.length;o+=16)p=t,q=u,r=v,s=w,t=h(t,u,v,w,x[o+0],y,3614090360),w=h(w,t,u,v,x[o+1],z,3905402710),v=h(v,w,t,u,x[o+2],A,606105819),u=h(u,v,w,t,x[o+3],B,3250441966),t=h(t,u,v,w,x[o+4],y,4118548399),w=h(w,t,u,v,x[o+5],z,1200080426),v=h(v,w,t,u,x[o+6],A,2821735955),u=h(u,v,w,t,x[o+7],B,4249261313),t=h(t,u,v,w,x[o+8],y,1770035416),w=h(w,t,u,v,x[o+9],z,2336552879),v=h(v,w,t,u,x[o+10],A,4294925233),u=h(u,v,w,t,x[o+11],B,2304563134),t=h(t,u,v,w,x[o+12],y,1804603682),w=h(w,t,u,v,x[o+13],z,4254626195),v=h(v,w,t,u,x[o+14],A,2792965006),u=h(u,v,w,t,x[o+15],B,1236535329),t=i(t,u,v,w,x[o+1],C,4129170786),w=i(w,t,u,v,x[o+6],D,3225465664),v=i(v,w,t,u,x[o+11],E,643717713),u=i(u,v,w,t,x[o+0],F,3921069994),t=i(t,u,v,w,x[o+5],C,3593408605),w=i(w,t,u,v,x[o+10],D,38016083),v=i(v,w,t,u,x[o+15],E,3634488961),u=i(u,v,w,t,x[o+4],F,3889429448),t=i(t,u,v,w,x[o+9],C,568446438),w=i(w,t,u,v,x[o+14],D,3275163606),v=i(v,w,t,u,x[o+3],E,4107603335),u=i(u,v,w,t,x[o+8],F,1163531501),t=i(t,u,v,w,x[o+13],C,2850285829),w=i(w,t,u,v,x[o+2],D,4243563512),v=i(v,w,t,u,x[o+7],E,1735328473),u=i(u,v,w,t,x[o+12],F,2368359562),t=j(t,u,v,w,x[o+5],G,4294588738),w=j(w,t,u,v,x[o+8],H,2272392833),v=j(v,w,t,u,x[o+11],I,1839030562),u=j(u,v,w,t,x[o+14],J,4259657740),t=j(t,u,v,w,x[o+1],G,2763975236),w=j(w,t,u,v,x[o+4],H,1272893353),v=j(v,w,t,u,x[o+7],I,4139469664),u=j(u,v,w,t,x[o+10],J,3200236656),t=j(t,u,v,w,x[o+13],G,681279174),w=j(w,t,u,v,x[o+0],H,3936430074),v=j(v,w,t,u,x[o+3],I,3572445317),u=j(u,v,w,t,x[o+6],J,76029189),t=j(t,u,v,w,x[o+9],G,3654602809),w=j(w,t,u,v,x[o+12],H,3873151461),v=j(v,w,t,u,x[o+15],I,530742520),u=j(u,v,w,t,x[o+2],J,3299628645),t=k(t,u,v,w,x[o+0],K,4096336452),w=k(w,t,u,v,x[o+7],L,1126891415),v=k(v,w,t,u,x[o+14],M,2878612391),u=k(u,v,w,t,x[o+5],N,4237533241),t=k(t,u,v,w,x[o+12],K,1700485571),w=k(w,t,u,v,x[o+3],L,2399980690),v=k(v,w,t,u,x[o+10],M,4293915773),u=k(u,v,w,t,x[o+1],N,2240044497),t=k(t,u,v,w,x[o+8],K,1873313359),w=k(w,t,u,v,x[o+15],L,4264355552),v=k(v,w,t,u,x[o+6],M,2734768916),u=k(u,v,w,t,x[o+13],N,1309151649),t=k(t,u,v,w,x[o+4],K,4149444226),w=k(w,t,u,v,x[o+11],L,3174756917),v=k(v,w,t,u,x[o+2],M,718787259),u=k(u,v,w,t,x[o+9],N,3951481745),t=c(t,p),u=c(u,q),v=c(v,r),w=c(w,s);
  var O=m(t)+m(u)+m(v)+m(w);return O.toLowerCase()};b.exports=c},{}],25:[function(a,b){var c=function(a){return this.vars={},this.ctx=a||{label:function(a,b){return this.vars[a]=this.ctx[a]=b,b},quote:function(a){return a},car:function(a){return a[1]},cdr:function(a){return a.shift(),a},cons:function(a,b){return b.unshift(a),b},eq:function(a,b){return a==b},atom:function(a){return!(typeof a in{object:1,array:1,"function":1})},cond:function(a,b,c){return this.evaluate(this.evaluate(a)?b:c)},set:function(a,b){return this.vars[a]=this.ctx[a]=b,b},"=":function(a,b){return a==b},"!=":function(a,b){return a!=b},"<":function(a,b){return b>a},">":function(a,b){return a>b},"+":function(a,b){return a+b},"-":function(a,b){return a-b},"*":function(a,b){return a*b},"%":function(a,b){return a%b},mod:function(a,b){return a%b},"/":function(a,b){return 1*a/b},"!":function(a){return!a},not:function(a){return!a},"&&":function(){return Array.prototype.slice.call(arguments).every(this.evaluate.bind(this))},and:function(){return Array.prototype.slice.call(arguments).every(this.evaluate.bind(this))},"||":function(){return!!Array.prototype.slice.call(arguments).filter(this.evaluate.bind(this)).length},or:function(){return!!Array.prototype.slice.call(arguments).filter(this.evaluate.bind(this)).length},"if":function(a,b,c){return this.evaluate(this.evaluate(a)?b:c)},let:function(a,b){return this.vars[a]=b,b},"true":function(){return!0},"false":function(){return!1},date:function(a){return new Date(a)},today:function(){return new Date},time:function(a){return new Date(a)},now:function(){return Date.now()},append:function(a,b){return String(b)+String(a)},prepend:function(a,b){return String(a)+String(b)},match:function(a,b){return a=this._stringToRegexp(a),!!b.match(a)},"in":function(a,b){var c,d=this._range;return a=a.replace(/\s/g,"").replace(/(\w+)\.\.(\w+)/g,function(a,b,e){return c=d(b,e),c.push(e),c.join()}),-1!=a.split(",").indexOf(String(b))},within:function(a,b){var c=a.split("..").map(function(a){return parseInt(a)});return c[0]<=b&&b<=c[1]},replace:function(a,b,c){return a=this._stringToRegexp(a),c.replace(a,b)},count:function(a){return("string"==typeof a?this.vars[a]:a).length},all:function(a,b){return a="string"==typeof a?this.vars[a]:a,a instanceof Array?a.every(function(a){return a==b}):!1},any:function(a,b){return a="string"==typeof a?this.vars[a]:a,a instanceof Array?!!a.filter(function(a){return a==b}):!1}},this};c.prototype={_range:function(a,b){var c=[],d=!String(a).match(/^\d+$/);for(a=d?a.charCodeAt(0):parseInt(a),b=d?b.charCodeAt(0):parseInt(b);b>=a;)c.push(d?String.fromCharCode(a):String(a)),a+=1;return c},_stringToRegexp:function(a){var b=new RegExp("^/","g");return a.match(b)?(a=a.replace(b,""),a.match(/\/i$/)?(a=a.replace(/\/i$/g,""),new RegExp(a,"ig")):(a=a.replace(/\/$/,""),new RegExp(a,"g"))):new RegExp(a,"g")},setVars:function(a){this.vars=a},getVars:function(){return this.vars},apply:function(a,b){return"function"==typeof this.ctx[a]?this.ctx[a].apply(this,b):this.ctx[a]},evaluate:function(a){if(this.ctx.atom.call(this,a))return"string"==typeof a&&this.vars[a]?this.vars[a]:a in this.ctx?this.ctx[a]:a;var b=a[0],c=a.slice(1);return-1==["quote","car","cdr","cond","if","&&","||","and","or","true","false","let","count","all","any"].indexOf(b)&&(c=c.map(this.evaluate.bind(this))),this.apply(b,c)}},b.exports=c},{}],26:[function(a,b){var c=function(a){this.tokenize(a)};c.prototype={tokenize:function(a){this.tokens=a.match(/[()]|\w+|@\w+|[\+\-\!\|\=>&<\*\/%]+|\".*?\"|'.*?'/g)},parse:function(){return token=this.tokens.shift(),token?"("==token?this.parseList():token.match(/^['"].*/)?token.slice(1,-1):token.match(/\d+/)?parseInt(token):String(token):void 0},parseList:function(){for(var a=[];this.tokens.length>0&&")"!=this.tokens[0];)a.push(this.parse());return this.tokens.shift(),a}},b.exports=c},{}],27:[function(a,b){var c=a("./utils"),d=(a("./configuration"),a("./translation")),e=function(a){c.extend(this,a),this.key=c.generateSourceKey(a.source),this.translations={}};e.prototype={getTranslations:function(a,b){return this.translations[a]?this.translations[a][b]:null},updateTranslations:function(a,b){b=b.results?b.results:b;var e=c.keys(b);this.translations[a]=this.translations[a]||[];for(var f=0;f<e.length;f++){var g=e[f];this.translations[a][g]=[];var h=b[g];!c.isArray(h)&&h.translations&&(h=h.translations);for(var i=0;i<h.length;i++){var j=h[i];this.translations[a][g].push(new d({locale:j.locale||a,label:j.label,context:j.context}))}}}},b.exports=e},{"./configuration":13,"./translation":33,"./utils":36}],28:[function(a,b){var c=(a("../configuration"),a("../tokens/data")),d=a("../tokens/method"),e=a("../tokens/piped"),f=function(a){this.label=a,this.tokenize()};f.prototype={tokenize:function(){this.tokens=[];for(var a=this.getSupportedTokens(),b=""+this.label,c=0;c<a.length;c++){for(var d=a[c],e=b.match(d[0])||[],f=0;f<e.length;f++)this.tokens.push(new d[1](e[f],this.label));b=b.replace(a[c][0],"")}},getSupportedTokens:function(){return[[/(\{[^_:][\w]*(:[\w]+)*(::[\w]+)*\})/g,c],[/(\{[^_:.][\w]*(\.[\w]+)(:[\w]+)*(::[\w]+)*\})/g,d],[/(\{[^_:|][\w]*(:[\w]+)*(::[\w]+)*\s*\|\|?[^{^}]+\})/g,e]]},isTokenAllowed:function(a,b){return b.allowed_tokens?-1!=b.allowed_tokens.indexOf(a):!0},substitute:function(a,b,c){c=c||{};for(var d=this.label,e=0;e<this.tokens.length;e++){var f=this.tokens[e];this.isTokenAllowed(f.name,c)&&(d=f.substitute(d,b,a,c))}return d}},b.exports=f},{"../configuration":13,"../tokens/data":30,"../tokens/method":31,"../tokens/piped":32}],29:[function(a,b){var c=a("../utils"),d=a("../configuration"),e="tml",f="\\[[\\w]*:",g="\\]",h="\\[[\\w]*\\]",i="\\[\\/[\\w]*\\]",j="[^\\[\\]]+",k="short",l="long",m="{$0}",n=function(a){this.label="["+e+"]"+a+"[/"+e+"]",this.fragments=[],this.tokens=[],this.tokenize()};n.prototype={tokenize:function(){var a=new RegExp([f,g,h,i,j].join("|"),"g");return this.fragments=this.label.match(a),this.fragments},peek:function(){return 0===this.fragments.length?null:this.fragments[0]},getNextFragment:function(){return 0===this.fragments.length?null:this.fragments.shift()},parse:function(){var a=this.getNextFragment();return a.match(new RegExp(f))?this.parseTree(a.replace(/[\[:]/g,""),k):a.match(new RegExp(h))?this.parseTree(a.replace(/[\[\]]/g,""),l):a},parseTree:function(a,b){var c=[a];if(-1==this.tokens.indexOf(a)&&a!=e&&this.tokens.push(a),b==k)for(var d=!0;null!==this.peek()&&!this.peek().match(new RegExp(g));){var f=this.parse();d&&"string"==typeof f&&(f=f.replace(/^\s+/,""),d=!1),c.push(f)}else if(b==l)for(;null!==this.peek()&&!this.peek().match(new RegExp(i));)c.push(this.parse());return this.getNextFragment(),c},isTokenAllowed:function(a){return!this.options.allowed_tokens||-1!=this.options.allowed_tokens.indexOf(a)},getDefaultDecoration:function(a,b){var e=d.getDefaultToken(a,"decoration");if(null===e)return b;var f=this.context[a];if(e=e.replace(m,b),c.isObject(f)){for(var g=c.keys(f),h=0;h<g.length;h++)e=e.replace("{$"+g[h]+"}",f[g[h]]);e=e.replace(/[\w]*=['"]\{\$[^\}]*\}['"]/g,"").replace(/\s*>/,">").trim()}return e},apply:function(a,b){if(a==e)return b;if(!this.isTokenAllowed(a))return b;var c=this.context[a];return c?"string"==typeof c?c.replace(m,b):"function"==typeof c?c(b):"object"==typeof c?this.getDefaultDecoration(a,b):b:this.getDefaultDecoration(a,b)},evaluate:function(a){if(!(a instanceof Array))return a;var b=a[0];a.shift();for(var c=this,d=[],e=0;e<a.length;e++)d.push(c.evaluate(a[e]));return this.apply(b,d.join(""))},substitute:function(a,b){return this.context=a||{},this.options=b||{},this.evaluate(this.parse())}},b.exports=n},{"../configuration":13,"../utils":36}],30:[function(a,b){var c=a("../utils"),d=(a("../logger"),a("../configuration")),e=function(a,b){a&&(this.full_name=a,this.label=b,this.parseElements())};e.prototype={parseElements:function(){var a=this.full_name.substring(1,this.full_name.length-1),b=a.split("::")[0].trim();this.short_name=a.split(":")[0].trim(),this.case_keys=[];for(var c=a.match(/(::\s*\w+)/g)||[],d=0;d<c.length;d++)this.case_keys.push(c[d].replace(/[:]/g,"").trim());for(this.context_keys=[],c=b.match(/(:\s*\w+)/g)||[],d=0;d<c.length;d++)this.context_keys.push(c[d].replace(/[:]/g,"").trim())},getContextForLanguage:function(a){return this.context_keys.length>0?a.getContextByKeyword(this.context_keys[0]):a.getContextByTokenName(this.short_name)},getTokenObject:function(a,b){if(!a)return null;b=b||this.short_name;var d=a[b];return c.isArray(d)?d[0]:d.object||d},error:function(a){return console.log(this.full_name+' in "'+this.label+'" : '+a),this.full_name},getTokenValueFromArrayParam:function(a,b,d){if(d=d||{},0===a.length)return this.error("Invalid number of params of an array");var e=a[0],f=a.length>1?a[1]:null;return c.isArray(e)?this.getTokenValueFromArray(a,b,d):f&&c.isFunction(f)?this.sanitize(f(e),e,b,c.extend(d,{safe:!0})):f?this.sanitize(f.toString(),e,b,c.extend(d,{safe:!0})):this.sanitize(""+e,e,b,c.extend(d,{safe:!1}))},getTokenValueFromHashParam:function(a,b,d){d=d||{};var e=a.value||a.name||a.first_name||a.username,f=a.method,g=a.object;if(f&&c.isFunction(f))return this.sanitize(f(g),g,b,c.extend(d,{safe:!0}));if(e)return this.sanitize(e,g||a,b,c.extend(d,{safe:!0}));if(!g)return this.sanitize(a.toString(),g,b,c.extend(d,{safe:!1}));var h=a.attribute;return h?this.sanitize(g[h],g,b,c.extend(d,{safe:!1})):this.error("Missing value for hash token")},getTokenValueFromArray:function(a,b,d){var e={description:"List joiner",limit:4,separator:", ",joiner:"and",less:"{laquo} less",expandable:!1,collapsable:!0};d=d||{};var f=a[0],g=a.length>1?a[1]:null;a.length>2&&(e=c.extend(e,a[2])),d.skip_decorations&&(e.expandable=!1);for(var h=[],i=0;i<f.length;i++){var j=f[i];if(null===g)h.push(this.getTokenValueFromHashParam(j,b,d));else if(c.isFunction(g))h.push(this.sanitize(g(j),j,b,c.extend(d,{safe:!0})));else if("string"==typeof g)if(g.match(/^@/)){var k=g.replace(/^@/,"");h.push(this.sanitize(j[k]||j[k](),j,b,c.extend(d,{safe:!1})))}else h.push(g.replace("{$0}",this.sanitize(""+j,j,b,c.extend(d,{safe:!1}))));else if(c.isObject(g)){var l=g.attribute||g.property;l&&j[l]?(l=this.sanitize(j[l],j,b,c.extend(d,{safe:!1})),h.push(g.value?g.value.replace("{$0}",l):l||""+j)):h.push(this.getTokenValueFromHashParam(j,b,d))}}if(1==h.length)return h[0];if(!e.joiner||""===e.joiner)return h.join(e.separator);var m=d.target_language||b,n=m.translate(e.joiner,e.description,{},d);if(h.length<=e.limit){var o=h.pop();return h.join(e.separator)+" "+n+" "+o}var p=h.slice(0,e.limit),q=h.slice(e.limit),r=p.join(e.separator),s=m.translate("{count || other}",e.description,{count:q.length},d);if(!e.expandable)return r=r+" "+n+" ",c.isFunction(e)?r+e.remainder(q):r+s;var t=e.key?e.key:c.generateKey(this.label,h.join(","));r=r+'<span id="tml_other_link_'+t+'"> '+n+" ",r=r+'<a href="#" class="tml_other_list_link" onClick="document.getElementById(\'tml_other_link_'+t+"').style.display='none'; document.getElementById('tml_other_elements_"+t+"').style.display='inline'; return false;\">",r+=e.remainder&&"function"==typeof e.remainder?e.remainder(q):s,r+="</a></span>",r=r+'<span id="tml_other_elements_'+t+'" style="display:none">'+e.separator;var u=q.pop();return r+=q.join(e.separator),r=r+" "+n+" "+u,e.collapsable&&(r=r+' <a href="#" class="tml_other_less_link" style="font-size:smaller;white-space:nowrap" onClick="document.getElementById(\'tml_other_link_'+t+"').style.display='inline'; document.getElementById('tml_other_elements_"+t+"').style.display='none'; return false;\">",r+=m.translate(e.less,e.description,{},d),r+="</a>"),r+="</span>"},getTokenValue:function(a,b,e){a=a||{},e=e||{};var f=a[this.short_name]||d.getDefaultToken(this.short_name);return f?"string"==typeof f?this.sanitize(f.toString(),f,b,c.extend(e,{safe:!0})):c.isArray(f)?this.getTokenValueFromArrayParam(f,b,e):c.isObject(f)?this.getTokenValueFromHashParam(f,b,e):this.sanitize(f.toString(),f,b,c.extend(e,{safe:!1})):this.error("Missing token value")},applyCase:function(a,b,c,d,e){var f=d.getLanguageCaseByKeyword(a);return f?f.apply(b,c,e):b},sanitize:function(a,b,d,e){if(e=e||{},a=""+a,e.safe||(a=c.escapeHTML(a)),this.case_keys.length>0)for(var f=0;f<this.case_keys.length;f++)a=this.applyCase(this.case_keys[f],a,b,d,e);return a},substitute:function(a,b,c,d){return a.replace(this.full_name,this.getTokenValue(b,c,d))}},b.exports=e},{"../configuration":13,"../logger":23,"../utils":36}],31:[function(a,b){var c=a("../utils"),d=a("./data"),e=function(a,b){a&&(this.full_name=a,this.label=b,this.parseElements(),this.initObject())};e.prototype=new d,e.prototype.constructor=e,e.prototype.initObject=function(){var a=this.short_name.split(".");this.short_name=a[0],this.object_method=a[1]},e.prototype.getTokenValue=function(a){a=a||{};var b=a[this.short_name];if(!b)return this.error("Missing token value");var c=b[this.object_method]||b[this.object_method]();return c||c.toString()},e.prototype.substitute=function(a,b,d,e){return a.replace(this.full_name,this.sanitize(this.getTokenValue(b),this.getTokenObject(b),d,c.extend(e,{safe:!1})))},b.exports=e},{"../utils":36,"./data":30}],32:[function(a,b){var c=a("../utils"),d=a("./data"),e=function(a,b){a&&(this.full_name=a,this.label=b,this.parseElements())};e.prototype=new d,e.prototype.constructor=e,e.prototype.parseElements=function(){var a=this.full_name.substring(1,this.full_name.length-1),b=a.split("|"),c=b[0].trim();this.short_name=c.split(":")[0].trim(),this.case_keys=[];for(var d=c.match(/(::\s*\w+)/g)||[],e=0;e<d.length;e++)this.case_keys.push(d[e].replace(/[:]/g,"").trim());this.context_keys=[];var f=c.split("::")[0].trim();for(d=f.match(/(:\s*\w+)/g)||[],e=0;e<d.length;e++)this.context_keys.push(d[e].replace(/[:]/g,"").trim());if(this.separator=-1!=this.full_name.indexOf("||")?"||":"|",this.parameters=[],b=a.split(this.separator),b.length>1)for(b=b[1].split(","),e=0;e<b.length;e++)this.parameters.push(b[e].trim())},e.prototype.isValueDisplayedInTranslation=function(){return"||"==this.separator},e.prototype.generateValueMapForContext=function(a){var b,d,e={};if(-1!=this.parameters[0].indexOf(":")){for(b=0;b<this.parameters.length;b++){var f=this.parameters[b].split(":");e[f[0].trim()]=f[1].trim()}return e}var g=a.token_mapping;if(!g)return this.error("The token context "+a.keyword+"does not support transformation for unnamed params"),null;if("string"==typeof g)return this.error("The token mapping "+g+" does not support the parameters."),null;if(c.isArray(g)){if(this.parameters.length>g.length)return this.error("The token mapping "+g+" does not support "+this.parameters.length+" parameters"),null;if(g=g[this.parameters.length-1],"string"==typeof g)return this.error("The token mapping "+g+" does not support "+this.parameters.length+" parameters"),null}var h=c.keys(g);for(b=0;b<h.length;b++){var i=h[b],j=g[i];e[i]=j;var k=j.match(/{\$\d(::[\w]+)*\}/g)||[];for(d=0;d<k.length;d++){var l=k[d],m=l.replace(/[\{\}]/g,""),n=m.split("::"),o=parseInt(n[0].replace(/[$]/,""));if(this.parameters.length<o)return this.error("The index inside "+g+" is out of bound: "+this.full_name),null;var p=this.parameters[o];n.shift();for(var q=0;q<n.length;q++){var r=a.language.getLanguageCaseByKeyword(n[q]);r&&(p=r.apply(p))}e[i]=e[i].replace(k[d],p)}}return e},e.prototype.substitute=function(a,b,c,d){if(!b[this.short_name])return this.error("Missing value"),a;var e=this.getTokenObject(b);if(0===this.parameters.length)return this.error("Piped params may not be empty"),a;var f=this.getContextForLanguage(c),g=this.generateValueMapForContext(f);if(!g)return a;var h=f.findMatchingRule(e);if(null===h)return a;var i=g[h.keyword];if(!i){var j=f.getFallbackRule();if(!j||!g[j.keyword])return this.error("No matching context rule found and no fallback provided"),a;i=g[j.keyword]}var k=[];return this.isValueDisplayedInTranslation()?(k.push(this.getTokenValue(b,c,d)),k.push(" ")):i=i.replace("#"+this.short_name+"#",this.getTokenValue(b,c,d)),k.push(i),a.replace(this.full_name,k.join(""))},b.exports=e},{"../utils":36,"./data":30}],33:[function(a,b){var c=a("./utils"),d=a("./tokens/data"),e=function(a){c.extend(this,a)};e.prototype={hasContextRules:function(){return this.context&&c.keys(this.context).length>0},isValidTranslation:function(a){if(!this.hasContextRules())return!0;for(var b=c.keys(this.context),e=0;e<b.length;e++){var f=b[e],g=this.context[f],h=d.prototype.getTokenObject(a,f);if(!h)return!1;for(var i=c.keys(g),j=0;j<i.length;j++){var k=i[j],l=g[i[j]];if("other"!=l){var m=this.language.getContextByKeyword(k);if(!m)return!1;var n=m.findMatchingRule(h);if(!n||n.keyword!=l)return!1}}}return!0}},b.exports=e},{"./tokens/data":30,"./utils":36}],34:[function(a,b){var c=a("./utils"),d=a("./configuration"),e=a("./translation"),f=a("./decorators/html"),g=a("./tokenizers/data"),h=a("./tokenizers/decoration"),i=function(a){c.extend(this,a),this.key=this.key||c.generateKey(this.label,this.description),!this.locale&&this.application&&(this.locale=this.application.default_locale),!this.language&&this.application&&(this.language=this.application.getLanguage(this.locale)),this.translations={},this.addTranslations(a.translations||{})};i.prototype={addTranslations:function(a){for(var b=c.keys(a),d=0;d<b.length;d++)for(var f=b[d],g=a[f],h=0;h<g.length;h++){var i=g[h];this.addTranslation(new e(c.extend(i,{language:this.application.getLanguage(i.locale),translation_key:this})))}},addTranslation:function(a){var b=this.translations[a.locale];b||(b=[]),b.push(a),this.translations[a.locale]=b},setTranslations:function(a,b){this.translations[a]=[];for(var c=0;c<b.length;c++){var d=b[c];d.translation_key=this,d.language=this.application.getLanguage(d.locale),this.translations[a].push(d)}},resetTranslations:function(){this.translations={}},getTranslationsForLanguage:function(a){return this.translations?this.translations[a.locale]||[]:[]},findFirstValidTranslation:function(a,b){for(var c=this.getTranslationsForLanguage(a),d=0;d<c.length;d++)if(c[d].isValidTranslation(b))return c[d];return null},translate:function(a,b,c){if(c=c||{},d.isDisabled())return this.substituteTokens(this.label,b,a,c);var e=this.findFirstValidTranslation(a,b),g=f;return e?g.decorate(this.substituteTokens(e.label,b,e.language,c),e.language,a,this,c):(c.target_language=a,g.decorate(this.substituteTokens(this.label,b,this.language||a,c),this.language||a,a,this,c))},getDataTokens:function(){if(!this.data_tokens){var a=new g(this.label);this.data_tokens=a.tokens}return this.data_tokens},getDataTokenNames:function(){if(!this.data_token_names){this.data_token_names=[];for(var a in this.getDataTokens())this.data_token_names.push(a.full_name)}return this.data_token_names},getDecorationTokenNames:function(){if(!this.decoration_tokens){var a=new h(this.label);a.parse(),this.decoration_tokens=a.tokens}return this.decoration_tokens},substituteTokens:function(a,b,d,e){var f;return-1!=a.indexOf("{")&&(f=new g(a),a=f.substitute(d,b,c.extend(e,{allowed_tokens:this.getDataTokenNames()}))),-1!=a.indexOf("[")&&(f=new h(a),a=f.substitute(b,c.extend(e,{allowed_tokens:this.getDecorationTokenNames()}))),a}},b.exports=i},{"./configuration":13,"./decorators/html":14,"./tokenizers/data":28,"./tokenizers/decoration":29,"./translation":33,"./utils":36}],35:[function(a,b){var c=a("./utils"),d=function(a){c.extend(this,a)};b.exports=d},{"./utils":36}],36:[function(a,b){(function(c){var d=a("./md5");b.exports={hashValue:function(a,b,c){c=c||null;for(var d=b.split("."),e=0;e<d.length;e++){var f=d[e];if("undefined"==typeof a[f])return c;a=a[f]}return a},stripTags:function(a,b){b=(((b||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var c=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,d=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return a.replace(d,"").replace(c,function(a,c){return b.indexOf("<"+c.toLowerCase()+">")>-1?a:""})},sanitizeString:function(a){return a?a.replace(/^\s+|\s+$/g,""):""},splitSentences:function(a){var b=/[^.!?\s][^.!?]*(?:[.!?](?![\'"]?\s|$)[^.!?]*)*[.!?]?[\'"]?(?=\s|$)/g;return this.stripTags(a).match(b)},unique:function(a){return a.reverse().filter(function(a,b,c){return-1===c.indexOf(a,b+1)}).reverse()},clone:function(a){if(null===a||"object"!=typeof a)return a;var b=a.constructor();for(var c in a)b[c]=clone(a[c]);return b},keys:function(a){return Object.keys(a)},generateSourceKey:function(a){return d(a)},generateKey:function(a,b){return b=b||"",d(a+";;;"+b)},escapeHTML:function(a){return a.replace(/[&<>]/g,function(a){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[a]||a})},encode:function(a){if(!a)return null;var b=JSON.stringify(a);return b=new c(b,"utf-8").toString("base64"),b=encodeURIComponent(b),b=encodeURIComponent(b)},decode:function(a){if(!a)return null;a=decodeURIComponent(a),a=decodeURIComponent(a);var b=new c(a,"base64").toString("utf-8");return JSON.parse(b)},normalizeSource:function(a){var b=a.split("?");return b[0]},assign:function(a,b,c){for(var d in b)hasOwnProperty.call(b,d)&&(c&&d in a&&"object"==typeof a[d]&&"object"==typeof b[d]?this.assign(a[d],b[d],c):a[d]=b[d]);return a},extend:function(a){for(var b=1;b<arguments.length;b++)a=this.assign(a,arguments[b]);return a},merge:function(a){for(var b=1;b<arguments.length;b++)a=this.assign(a,arguments[b],!0);return a},addCSS:function(a,b,c){var d=null;return c?(d=a.createElement("style"),d.type="text/css",d.styleSheet?d.styleSheet.cssText=b:d.appendChild(document.createTextNode(b))):(d=a.createElement("link"),d.setAttribute("type","text/css"),d.setAttribute("rel","stylesheet"),d.setAttribute("media","screen"),d.setAttribute("href",b)),a.getElementsByTagName("head")[0].appendChild(d),d},addJS:function(a,b,c,d){var e=a.createElement("script");return e.setAttribute("id",b),e.setAttribute("type","application/javascript"),e.setAttribute("src",c),e.setAttribute("charset","UTF-8"),d&&(e.onload=d),a.getElementsByTagName("head")[0].appendChild(e),e},getCookieName:function(a){return"trex_"+a},getCookie:function(a,b){var c=this.getCookieName(a);if(b)return b[c];for(var d=c+"=",e=document.cookie.split(";"),f=0;f<e.length;f++){for(var g=e[f];" "==g.charAt(0);)g=g.substring(1);if(-1!=g.indexOf(d))return g.substring(d.length,g.length)}return""},setCookie:function(a,b,c){var d=this.getCookieName(a);return b?void(b[d]=c):void(document.cookie=d+"="+c+"; path=/")},templateCache:{},template:function(a,b){var c=this.templateCache,d=/\W/.test(a)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):c[a]=c[a]||this.template(document.getElementById(a).innerHTML);return b?d(b):d},element:function(a){return"string"==typeof a?document.getElementById(a):a},isNumber:function(a){return-1!=a.search(/^\s*\d+\s*$/)},isArray:function(a){return null===a?!1:-1!==a.constructor.toString().indexOf("Array")},isObject:function(a){return null===a?!1:"object"==typeof a},isFunction:function(a){return"function"==typeof a},isString:function(a){return"string"==typeof a},isURL:function(a){return a=""+a,-1!=a.indexOf("http://")||-1!=a.indexOf("https://")},toQueryParams:function(a){if("undefined"==typeof a||null===a)return"";if("string"==typeof a)return a;var b=[];for(var c in a)b.push(c+"="+encodeURIComponent(a[c]));return b.join("&")},parallel:function(a,b){var c,d=0,e=0,f={},g=function(c){a[c](function(a,g){a&&b(a),g&&(f[c]=g),e++,e==d&&b(null,f)})};for(c in a)d++;d||b(null,f);for(c in a)g(c)},localizeDate:function(a){return a}}}).call(this,a("buffer").Buffer)},{"./md5":24,buffer:39}],37:[function(){},{}],38:[function(a,b){function c(a,b){return m.isUndefined(b)?""+b:m.isNumber(b)&&!isFinite(b)?b.toString():m.isFunction(b)||m.isRegExp(b)?b.toString():b}function d(a,b){return m.isString(a)?a.length<b?a:a.slice(0,b):a}function e(a){return d(JSON.stringify(a.actual,c),128)+" "+a.operator+" "+d(JSON.stringify(a.expected,c),128)}function f(a,b,c,d,e){throw new p.AssertionError({message:c,actual:a,expected:b,operator:d,stackStartFunction:e})}function g(a,b){a||f(a,!0,b,"==",p.ok)}function h(a,b){if(a===b)return!0;if(m.isBuffer(a)&&m.isBuffer(b)){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}return m.isDate(a)&&m.isDate(b)?a.getTime()===b.getTime():m.isRegExp(a)&&m.isRegExp(b)?a.source===b.source&&a.global===b.global&&a.multiline===b.multiline&&a.lastIndex===b.lastIndex&&a.ignoreCase===b.ignoreCase:m.isObject(a)||m.isObject(b)?j(a,b):a==b}function i(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function j(a,b){if(m.isNullOrUndefined(a)||m.isNullOrUndefined(b))return!1;if(a.prototype!==b.prototype)return!1;if(m.isPrimitive(a)||m.isPrimitive(b))return a===b;var c=i(a),d=i(b);if(c&&!d||!c&&d)return!1;if(c)return a=n.call(a),b=n.call(b),h(a,b);var e,f,g=q(a),j=q(b);if(g.length!=j.length)return!1;for(g.sort(),j.sort(),f=g.length-1;f>=0;f--)if(g[f]!=j[f])return!1;for(f=g.length-1;f>=0;f--)if(e=g[f],!h(a[e],b[e]))return!1;return!0}function k(a,b){return a&&b?"[object RegExp]"==Object.prototype.toString.call(b)?b.test(a):a instanceof b?!0:b.call({},a)===!0?!0:!1:!1}function l(a,b,c,d){var e;m.isString(c)&&(d=c,c=null);try{b()}catch(g){e=g}if(d=(c&&c.name?" ("+c.name+").":".")+(d?" "+d:"."),a&&!e&&f(e,c,"Missing expected exception"+d),!a&&k(e,c)&&f(e,c,"Got unwanted exception"+d),a&&e&&c&&!k(e,c)||!a&&e)throw e}var m=a("util/"),n=Array.prototype.slice,o=Object.prototype.hasOwnProperty,p=b.exports=g;p.AssertionError=function(a){this.name="AssertionError",this.actual=a.actual,this.expected=a.expected,this.operator=a.operator,a.message?(this.message=a.message,this.generatedMessage=!1):(this.message=e(this),this.generatedMessage=!0);var b=a.stackStartFunction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,b);else{var c=new Error;if(c.stack){var d=c.stack,g=b.name,h=d.indexOf("\n"+g);if(h>=0){var i=d.indexOf("\n",h+1);d=d.substring(i+1)}this.stack=d}}},m.inherits(p.AssertionError,Error),p.fail=f,p.ok=g,p.equal=function(a,b,c){a!=b&&f(a,b,c,"==",p.equal)},p.notEqual=function(a,b,c){a==b&&f(a,b,c,"!=",p.notEqual)},p.deepEqual=function(a,b,c){h(a,b)||f(a,b,c,"deepEqual",p.deepEqual)},p.notDeepEqual=function(a,b,c){h(a,b)&&f(a,b,c,"notDeepEqual",p.notDeepEqual)},p.strictEqual=function(a,b,c){a!==b&&f(a,b,c,"===",p.strictEqual)},p.notStrictEqual=function(a,b,c){a===b&&f(a,b,c,"!==",p.notStrictEqual)},p["throws"]=function(){l.apply(this,[!0].concat(n.call(arguments)))},p.doesNotThrow=function(){l.apply(this,[!1].concat(n.call(arguments)))},p.ifError=function(a){if(a)throw a};var q=Object.keys||function(a){var b=[];for(var c in a)o.call(a,c)&&b.push(c);return b}},{"util/":49}],39:[function(a,b,c){function d(a,b,c){if(!(this instanceof d))return new d(a,b,c);var e,f=typeof a;if("number"===f)e=a>0?a>>>0:0;else if("string"===f)e=d.byteLength(a,b);else{if("object"!==f||null===a)throw new TypeError("must start with number, buffer, array or string");"Buffer"===a.type&&K(a.data)&&(a=a.data),e=+a.length>0?Math.floor(+a.length):0}if(e>L)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L.toString(16)+" bytes");var g;d.TYPED_ARRAY_SUPPORT?g=d._augment(new Uint8Array(e)):(g=this,g.length=e,g._isBuffer=!0);var h;if(d.TYPED_ARRAY_SUPPORT&&"number"==typeof a.byteLength)g._set(a);else if(A(a))if(d.isBuffer(a))for(h=0;e>h;h++)g[h]=a.readUInt8(h);else for(h=0;e>h;h++)g[h]=(a[h]%256+256)%256;else if("string"===f)g.write(a,0,b);else if("number"===f&&!d.TYPED_ARRAY_SUPPORT&&!c)for(h=0;e>h;h++)g[h]=0;return e>0&&e<=d.poolSize&&(g.parent=M),g}function e(a,b,c){if(!(this instanceof e))return new e(a,b,c);var f=new d(a,b,c);return delete f.parent,f}function f(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;d>g;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function g(a,b,c,d){var e=G(C(b,a.length-c),a,c,d);return e}function h(a,b,c,d){var e=G(D(b),a,c,d);return e}function i(a,b,c,d){return h(a,b,c,d)}function j(a,b,c,d){var e=G(F(b),a,c,d);return e}function k(a,b,c,d){var e=G(E(b,a.length-c),a,c,d,2);return e}function l(a,b,c){return I.fromByteArray(0===b&&c===a.length?a:a.slice(b,c))}function m(a,b,c){var d="",e="";c=Math.min(a.length,c);for(var f=b;c>f;f++)a[f]<=127?(d+=H(e)+String.fromCharCode(a[f]),e=""):e+="%"+a[f].toString(16);return d+H(e)}function n(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(127&a[e]);return d}function o(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(a[e]);return d}function p(a,b,c){var d=a.length;(!b||0>b)&&(b=0),(!c||0>c||c>d)&&(c=d);for(var e="",f=b;c>f;f++)e+=B(a[f]);return e}function q(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function r(a,b,c){if(a%1!==0||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function s(a,b,c,e,f,g){if(!d.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>f||g>b)throw new RangeError("value is out of bounds");if(c+e>a.length)throw new RangeError("index out of range")}function t(a,b,c,d){0>b&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);f>e;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function u(a,b,c,d){0>b&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);f>e;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function v(a,b,c,d,e,f){if(b>e||f>b)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(0>c)throw new RangeError("index out of range")}function w(a,b,c,d,e){return e||v(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(a,b,c,d,23,4),c+4}function x(a,b,c,d,e){return e||v(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(a,b,c,d,52,8),c+8}function y(a){if(a=z(a).replace(O,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function z(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function A(a){return K(a)||d.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length}function B(a){return 16>a?"0"+a.toString(16):a.toString(16)}function C(a,b){var c,d=a.length,e=null;b=b||1/0;for(var f=[],g=0;d>g;g++){if(c=a.charCodeAt(g),c>55295&&57344>c){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(56320>c){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=e-55296<<10|c-56320|65536,e=null}else e&&((b-=3)>-1&&f.push(239,191,189),e=null);if(128>c){if((b-=1)<0)break;f.push(c)}else if(2048>c){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(65536>c){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(2097152>c))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function D(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function E(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function F(a){return I.toByteArray(y(a))}function G(a,b,c,d,e){e&&(d-=d%e);for(var f=0;d>f&&!(f+c>=b.length||f>=a.length);f++)b[f+c]=a[f];return f}function H(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}var I=a("base64-js"),J=a("ieee754"),K=a("is-array");c.Buffer=d,c.SlowBuffer=e,c.INSPECT_MAX_BYTES=50,d.poolSize=8192;var L=1073741823,M={};d.TYPED_ARRAY_SUPPORT=function(){try{var a=new ArrayBuffer(0),b=new Uint8Array(a);return b.foo=function(){return 42},42===b.foo()&&"function"==typeof b.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(c){return!1}}(),d.isBuffer=function(a){return!(null==a||!a._isBuffer)},d.compare=function(a,b){if(!d.isBuffer(a)||!d.isBuffer(b))throw new TypeError("Arguments must be Buffers");
  for(var c=a.length,e=b.length,f=0,g=Math.min(c,e);g>f&&a[f]===b[f];f++);return f!==g&&(c=a[f],e=b[f]),e>c?-1:c>e?1:0},d.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(a,b){if(!K(a))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===a.length)return new d(0);if(1===a.length)return a[0];var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var e=new d(b),f=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(e,f),f+=g.length}return e},d.byteLength=function(a,b){var c;switch(a+="",b||"utf8"){case"ascii":case"binary":case"raw":c=a.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":c=2*a.length;break;case"hex":c=a.length>>>1;break;case"utf8":case"utf-8":c=C(a).length;break;case"base64":c=F(a).length;break;default:c=a.length}return c},d.prototype.length=void 0,d.prototype.parent=void 0,d.prototype.toString=function(a,b,c){var d=!1;if(b>>>=0,c=void 0===c||1/0===c?this.length:c>>>0,a||(a="utf8"),0>b&&(b=0),c>this.length&&(c=this.length),b>=c)return"";for(;;)switch(a){case"hex":return p(this,b,c);case"utf8":case"utf-8":return m(this,b,c);case"ascii":return n(this,b,c);case"binary":return o(this,b,c);case"base64":return l(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}},d.prototype.equals=function(a){if(!d.isBuffer(a))throw new TypeError("Argument must be a Buffer");return 0===d.compare(this,a)},d.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},d.prototype.compare=function(a){if(!d.isBuffer(a))throw new TypeError("Argument must be a Buffer");return d.compare(this,a)},d.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},d.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},d.prototype.write=function(a,b,c,d){if(isFinite(b))isFinite(c)||(d=c,c=void 0);else{var e=d;d=b,b=c,c=e}if(b=Number(b)||0,0>c||0>b||b>this.length)throw new RangeError("attempt to write outside buffer bounds");var l=this.length-b;c?(c=Number(c),c>l&&(c=l)):c=l,d=String(d||"utf8").toLowerCase();var m;switch(d){case"hex":m=f(this,a,b,c);break;case"utf8":case"utf-8":m=g(this,a,b,c);break;case"ascii":m=h(this,a,b,c);break;case"binary":m=i(this,a,b,c);break;case"base64":m=j(this,a,b,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":m=k(this,a,b,c);break;default:throw new TypeError("Unknown encoding: "+d)}return m},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},d.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,0>a?(a+=c,0>a&&(a=0)):a>c&&(a=c),0>b?(b+=c,0>b&&(b=0)):b>c&&(b=c),a>b&&(b=a);var e;if(d.TYPED_ARRAY_SUPPORT)e=d._augment(this.subarray(a,b));else{var f=b-a;e=new d(f,void 0,!0);for(var g=0;f>g;g++)e[g]=this[g+a]}return e.length&&(e.parent=this.parent||this),e},d.prototype.readUIntLE=function(a,b,c){a>>>=0,b>>>=0,c||r(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},d.prototype.readUIntBE=function(a,b,c){a>>>=0,b>>>=0,c||r(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},d.prototype.readUInt8=function(a,b){return b||r(a,1,this.length),this[a]},d.prototype.readUInt16LE=function(a,b){return b||r(a,2,this.length),this[a]|this[a+1]<<8},d.prototype.readUInt16BE=function(a,b){return b||r(a,2,this.length),this[a]<<8|this[a+1]},d.prototype.readUInt32LE=function(a,b){return b||r(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},d.prototype.readUInt32BE=function(a,b){return b||r(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},d.prototype.readIntLE=function(a,b,c){a>>>=0,b>>>=0,c||r(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},d.prototype.readIntBE=function(a,b,c){a>>>=0,b>>>=0,c||r(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},d.prototype.readInt8=function(a,b){return b||r(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},d.prototype.readInt16LE=function(a,b){b||r(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},d.prototype.readInt16BE=function(a,b){b||r(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},d.prototype.readInt32LE=function(a,b){return b||r(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},d.prototype.readInt32BE=function(a,b){return b||r(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},d.prototype.readFloatLE=function(a,b){return b||r(a,4,this.length),J.read(this,a,!0,23,4)},d.prototype.readFloatBE=function(a,b){return b||r(a,4,this.length),J.read(this,a,!1,23,4)},d.prototype.readDoubleLE=function(a,b){return b||r(a,8,this.length),J.read(this,a,!0,52,8)},d.prototype.readDoubleBE=function(a,b){return b||r(a,8,this.length),J.read(this,a,!1,52,8)},d.prototype.writeUIntLE=function(a,b,c,d){a=+a,b>>>=0,c>>>=0,d||s(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e>>>0&255;return b+c},d.prototype.writeUIntBE=function(a,b,c,d){a=+a,b>>>=0,c>>>=0,d||s(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f>>>0&255;return b+c},d.prototype.writeUInt8=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,1,255,0),d.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=a,b+1},d.prototype.writeUInt16LE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[b]=a,this[b+1]=a>>>8):t(this,a,b,!0),b+2},d.prototype.writeUInt16BE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a):t(this,a,b,!1),b+2},d.prototype.writeUInt32LE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=a):u(this,a,b,!0),b+4},d.prototype.writeUInt32BE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a):u(this,a,b,!1),b+4},d.prototype.writeIntLE=function(a,b,c,d){a=+a,b>>>=0,d||s(this,a,b,c,Math.pow(2,8*c-1)-1,-Math.pow(2,8*c-1));var e=0,f=1,g=0>a?1:0;for(this[b]=255&a;++e<c&&(f*=256);)this[b+e]=(a/f>>0)-g&255;return b+c},d.prototype.writeIntBE=function(a,b,c,d){a=+a,b>>>=0,d||s(this,a,b,c,Math.pow(2,8*c-1)-1,-Math.pow(2,8*c-1));var e=c-1,f=1,g=0>a?1:0;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=(a/f>>0)-g&255;return b+c},d.prototype.writeInt8=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,1,127,-128),d.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),0>a&&(a=255+a+1),this[b]=a,b+1},d.prototype.writeInt16LE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[b]=a,this[b+1]=a>>>8):t(this,a,b,!0),b+2},d.prototype.writeInt16BE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a):t(this,a,b,!1),b+2},d.prototype.writeInt32LE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[b]=a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):u(this,a,b,!0),b+4},d.prototype.writeInt32BE=function(a,b,c){return a=+a,b>>>=0,c||s(this,a,b,4,2147483647,-2147483648),0>a&&(a=4294967295+a+1),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a):u(this,a,b,!1),b+4},d.prototype.writeFloatLE=function(a,b,c){return w(this,a,b,!0,c)},d.prototype.writeFloatBE=function(a,b,c){return w(this,a,b,!1,c)},d.prototype.writeDoubleLE=function(a,b,c){return x(this,a,b,!0,c)},d.prototype.writeDoubleBE=function(a,b,c){return x(this,a,b,!1,c)},d.prototype.copy=function(a,b,c,e){var f=this;if(c||(c=0),e||0===e||(e=this.length),b>=a.length&&(b=a.length),b||(b=0),e>0&&c>e&&(e=c),e===c)return 0;if(0===a.length||0===f.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>c||c>=f.length)throw new RangeError("sourceStart out of bounds");if(0>e)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),a.length-b<e-c&&(e=a.length-b+c);var g=e-c;if(1e3>g||!d.TYPED_ARRAY_SUPPORT)for(var h=0;g>h;h++)a[h+b]=this[h+c];else a._set(this.subarray(c,c+g),b);return g},d.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),b>c)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(0>b||b>=this.length)throw new RangeError("start out of bounds");if(0>c||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;c>d;d++)this[d]=a;else{var e=C(a.toString()),f=e.length;for(d=b;c>d;d++)this[d]=e[d%f]}return this}},d.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(d.TYPED_ARRAY_SUPPORT)return new d(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;c>b;b+=1)a[b]=this[b];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var N=d.prototype;d._augment=function(a){return a.constructor=d,a._isBuffer=!0,a._get=a.get,a._set=a.set,a.get=N.get,a.set=N.set,a.write=N.write,a.toString=N.toString,a.toLocaleString=N.toString,a.toJSON=N.toJSON,a.equals=N.equals,a.compare=N.compare,a.copy=N.copy,a.slice=N.slice,a.readUIntLE=N.readUIntLE,a.readUIntBE=N.readUIntBE,a.readUInt8=N.readUInt8,a.readUInt16LE=N.readUInt16LE,a.readUInt16BE=N.readUInt16BE,a.readUInt32LE=N.readUInt32LE,a.readUInt32BE=N.readUInt32BE,a.readIntLE=N.readIntLE,a.readIntBE=N.readIntBE,a.readInt8=N.readInt8,a.readInt16LE=N.readInt16LE,a.readInt16BE=N.readInt16BE,a.readInt32LE=N.readInt32LE,a.readInt32BE=N.readInt32BE,a.readFloatLE=N.readFloatLE,a.readFloatBE=N.readFloatBE,a.readDoubleLE=N.readDoubleLE,a.readDoubleBE=N.readDoubleBE,a.writeUInt8=N.writeUInt8,a.writeUIntLE=N.writeUIntLE,a.writeUIntBE=N.writeUIntBE,a.writeUInt16LE=N.writeUInt16LE,a.writeUInt16BE=N.writeUInt16BE,a.writeUInt32LE=N.writeUInt32LE,a.writeUInt32BE=N.writeUInt32BE,a.writeIntLE=N.writeIntLE,a.writeIntBE=N.writeIntBE,a.writeInt8=N.writeInt8,a.writeInt16LE=N.writeInt16LE,a.writeInt16BE=N.writeInt16BE,a.writeInt32LE=N.writeInt32LE,a.writeInt32BE=N.writeInt32BE,a.writeFloatLE=N.writeFloatLE,a.writeFloatBE=N.writeFloatBE,a.writeDoubleLE=N.writeDoubleLE,a.writeDoubleBE=N.writeDoubleBE,a.fill=N.fill,a.inspect=N.inspect,a.toArrayBuffer=N.toArrayBuffer,a};var O=/[^+\/0-9A-z\-]/g},{"base64-js":40,ieee754:41,"is-array":42}],40:[function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===g||b===l?62:b===h||b===m?63:i>b?-1:i+10>b?b-i+26+26:k+26>b?b-k:j+26>b?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;g>d;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;g>e;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0),l="-".charCodeAt(0),m="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}("undefined"==typeof c?this.base64js={}:c)},{}],41:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?0/0:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||1/0===b?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],42:[function(a,b){var c=Array.isArray,d=Object.prototype.toString;b.exports=c||function(a){return!!a&&"[object Array]"==d.call(a)}},{}],43:[function(a,b){b.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:2097152,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:64,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:16,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,NPN_ENABLED:1}},{}],44:[function(a,b){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function d(a){return"function"==typeof a}function e(a){return"number"==typeof a}function f(a){return"object"==typeof a&&null!==a}function g(a){return void 0===a}b.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(a){if(!e(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},c.prototype.emit=function(a){var b,c,e,h,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||f(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],g(c))return!1;if(d(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];c.apply(this,h)}else if(f(c)){for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];for(j=c.slice(),e=j.length,i=0;e>i;i++)j[i].apply(this,h)}return!0},c.prototype.addListener=function(a,b){var e;if(!d(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,d(b.listener)?b.listener:b),this._events[a]?f(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,f(this._events[a])&&!this._events[a].warned){var e;e=g(this._maxListeners)?c.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(a,b){function c(){this.removeListener(a,c),e||(e=!0,b.apply(this,arguments))}if(!d(b))throw TypeError("listener must be a function");var e=!1;return c.listener=b,this.on(a,c),this},c.prototype.removeListener=function(a,b){var c,e,g,h;if(!d(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],g=c.length,e=-1,c===b||d(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(f(c)){for(h=g;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){e=h;break}if(0>e)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(e,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},c.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],d(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},c.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?d(this._events[a])?[this._events[a]]:this._events[a].slice():[]},c.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?d(a._events[b])?1:a._events[b].length:0}},{}],45:[function(a,b){b.exports="function"==typeof Object.create?function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],46:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;g>i;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return 0>b&&(b=a.length+b),a.substr(b,c)}}).call(this,a("_process"))},{_process:47}],47:[function(a,b){function c(){if(!g){g=!0;for(var a,b=f.length;b;){a=f,f=[];for(var c=-1;++c<b;)a[c]();b=f.length}g=!1}}function d(){}var e=b.exports={},f=[],g=!1;e.nextTick=function(a){f.push(a),g||setTimeout(c,0)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.on=d,e.addListener=d,e.once=d,e.off=d,e.removeListener=d,e.removeAllListeners=d,e.emit=d,e.binding=function(){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],48:[function(a,b){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],49:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a){return a}function h(a){var b={};return a.forEach(function(a){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(0>d)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;h>g;++g)f.push(F(b,String(g))?m(a,b,c,d,String(g),!0):"");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return 10>a?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];f>c;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":48,_process:47,inherits:45}],50:[function(require,module,exports){function Context(){}var indexOf=require("indexof"),Object_keys=function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)b.push(c);return b},forEach=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c++)b(a[c],c,a)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(a,b,c){Object.defineProperty(a,b,{writable:!0,enumerable:!1,configurable:!0,value:c})}}catch(a){return function(a,b,c){a[b]=c}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(a){return this instanceof Script?void(this.code=a):new Script(a)};Script.prototype.runInContext=function(a){if(!(a instanceof Context))throw new TypeError("needs a 'context' argument.");var b=document.createElement("iframe");b.style||(b.style={}),b.style.display="none",document.body.appendChild(b);var c=b.contentWindow,d=c.eval,e=c.execScript;!d&&e&&(e.call(c,"null"),d=c.eval),forEach(Object_keys(a),function(b){c[b]=a[b]}),forEach(globals,function(b){a[b]&&(c[b]=a[b])});var f=Object_keys(c),g=d.call(c,this.code);return forEach(Object_keys(c),function(b){(b in a||-1===indexOf(f,b))&&(a[b]=c[b])}),forEach(globals,function(b){b in a||defineProp(a,b,c[b])}),document.body.removeChild(b),g},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(a){var b=Script.createContext(a),c=this.runInContext(b);return forEach(Object_keys(b),function(c){a[c]=b[c]}),c},forEach(Object_keys(Script.prototype),function(a){exports[a]=Script[a]=function(b){var c=Script(b);return c[a].apply(c,[].slice.call(arguments,1))}}),exports.createScript=function(a){return exports.Script(a)},exports.createContext=Script.createContext=function(a){var b=new Context;return"object"==typeof a&&forEach(Object_keys(a),function(c){b[c]=a[c]}),b}},{indexof:51}],51:[function(a,b){var c=[].indexOf;b.exports=function(a,b){if(c)return a.indexOf(b);for(var d=0;d<a.length;++d)if(a[d]===b)return d;return-1}},{}],52:[function(a,b){(function(c,d){function e(a,b,e,h){function i(a){if(F++,A)if(A instanceof RegExp){if(!A.test(a))return v(!0)}else if("function"==typeof A&&!A(a))return v(!0);return j(a)}function j(a){var b=d.setImmediate||c.nextTick,e=D?f.stat:f.lstat;return H>=I?b(function(){j(a)}):(H++,void e(a,function(b,c){var d={};return b?u(b):(d.name=a,d.mode=c.mode,d.mtime=c.mtime,d.atime=c.atime,c.isDirectory()?n(d):c.isFile()?k(d):c.isSymbolicLink()?q(a):void 0)}))}function k(a){var b=a.name.replace(y,z);t(b,function(c){c?l(a,b):C?m(b,function(){l(a,b)}):v()})}function l(a,b){var c=f.createReadStream(a.name),e=f.createWriteStream(b,{mode:a.mode});c.on("error",u),e.on("error",u),B?B(c,e,a):e.on("open",function(){c.pipe(e)
});var g=d.setImmediate?"finish":"close";e.once(g,function(){v()})}function m(a,b){f.unlink(a,function(a){return a?u(a):b()})}function n(a){var b=a.name.replace(y,z);t(b,function(c){return c?o(a,b):void p(a.name)})}function o(a,b){f.mkdir(b,a.mode,function(b){return b?u(b):void p(a.name)})}function p(a){f.readdir(a,function(b,c){return b?u(b):(c.forEach(function(b){i(g.join(a,b))}),v())})}function q(a){var b=a.replace(y,z);f.readlink(a,function(a,c){return a?u(a):void r(c,b)})}function r(a,b){D&&(a=g.resolve(x,a)),t(b,function(c){return c?s(a,b):void f.readlink(b,function(c,d){return c?u(c):(D&&(d=g.resolve(x,d)),d===a?v():m(b,function(){s(a,b)}))})})}function s(a,b){f.symlink(a,b,function(a){return a?u(a):v()})}function t(a,b){f.lstat(a,function(a){return b(a?"ENOENT"===a.code?!0:!1:!1)})}function u(a){return e.stopOnError?w(a):(!E&&e.errs?E=f.createWriteStream(e.errs):E||(E=[]),"undefined"==typeof E.write?E.push(a):E.write(a.stack+"\n\n"),v())}function v(a){return a||H--,G++,F===G&&0===H&&void 0!==w?w(E?E:null):void 0}var w=h;h||(w=e,e={});var x=c.cwd(),y=g.resolve(x,a),z=g.resolve(x,b),A=e.filter,B=e.transform,C=e.clobber!==!1,D=e.dereference,E=null,F=0,G=0,H=0,I=e.limit||512;i(y)}var f=a("graceful-fs"),g=a("path");b.exports.ncp=e}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:47,"graceful-fs":64,path:46}],53:[function(a,b){(function(c){function d(a,b,c,d){"function"!=typeof c||d?("function"==typeof c||c instanceof RegExp)&&(c={filter:c}):(d=c,c={}),d=d||function(){},f.lstat(a,function(e,j){if(e)return d(e);var k=null;if(j.isDirectory()){var l=b.split(g.sep);l.pop(),k=l.join(g.sep)}else k=g.dirname(b);f.exists(k,function(e){return e?h(a,b,c,d):void i.mkdirs(k,function(e){return e?d(e):void h(a,b,c,d)})})})}function e(a,b,c){("function"==typeof c||c instanceof RegExp)&&(c={filter:c}),c=c||{},c.recursive=!!c.recursive,c.clobber="clobber"in c?!!c.clobber:!0,c.filter=c.filter||function(){return!0};var d=c.recursive?f.lstatSync(a):f.statSync(a),h=g.dirname(b),j=f.existsSync(h),k=!1;if(d.isFile())c.filter instanceof RegExp?k=c.filter.test(a):"function"==typeof c.filter&&(k=c.filter(a)),k&&(j||i.mkdirsSync(h),l(a,b,c.clobber));else if(d.isDirectory()){f.existsSync(b)||i.mkdirsSync(b);var m=f.readdirSync(a);m.forEach(function(d){e(g.join(a,d),g.join(b,d),{filter:c.filter,recursive:!0})})}else if(c.recursive&&d.isSymbolicLink()){var n=f.readlinkSync(a);f.symlinkSync(n,b)}}var f=a("graceful-fs"),g=a("path"),h=a("./_copy").ncp,i=a("./mkdir"),j=65536,k=new c(j),l=function(a,b,c){if(f.existsSync(b)&&!c)throw Error("EEXIST");for(var d=f.openSync(a,"r"),e=f.fstatSync(d),g=f.openSync(b,"w",e.mode),h=1,i=0;h>0;)h=f.readSync(d,k,0,j,i),f.writeSync(g,k,0,h),i+=h;f.closeSync(d),f.closeSync(g)};b.exports={copy:d,copySync:e}}).call(this,a("buffer").Buffer)},{"./_copy":52,"./mkdir":59,buffer:39,"graceful-fs":64,path:46}],54:[function(a,b){function c(a,b){var c=!1,h=d.dirname(a);if(b=b||{},b.fd)return e.createWriteStream(a,b);b.fd=-1;var i=new g(a,b),j=i.open;return i.open=function(){return i.fd=null,c?j.call(i):void f.mkdirs(h,function(a){return a?(i.destroy(),void i.emit("error",a)):(c=!0,void j.call(i))})},i.open(),i}var d=a("path"),e=a("fs"),f=a("./mkdir"),g=e.WriteStream;b.exports={createOutputStream:c}},{"./mkdir":59,fs:37,path:46}],55:[function(a,b){function c(a,b){function c(){f.writeFile(a,"",function(a){return a?b(a):void b()})}f.exists(a,function(d){if(d)return b();var h=e.dirname(a);f.exists(h,function(a){return a?c():void g.mkdirs(h,function(a){return a?b(a):void c()})})})}function d(a){if(!f.existsSync(a)){var b=e.dirname(a);f.existsSync(b)||g.mkdirsSync(b),f.writeFileSync(a,"")}}var e=a("path"),f=a("graceful-fs"),g=a("./mkdir");b.exports={createFile:c,createFileSync:d}},{"./mkdir":59,"graceful-fs":64,path:46}],56:[function(a,b){function c(a,b){e.readdir(a,function(c,d){function e(){var a=d.pop();return a?void h.remove(a,function(a){return a?b(a):void e()}):b()}return c?g.mkdirs(a,b):(d=d.map(function(b){return f.join(a,b)}),void e())})}function d(a){var b;try{b=e.readdirSync(a)}catch(c){return g.mkdirsSync(a)}b.forEach(function(b){b=f.join(a,b),h.removeSync(b)})}var e=a("fs"),f=a("path"),g=a("./mkdir"),h=a("./remove");b.exports={emptyDirSync:d,emptydirSync:d,emptyDir:c,emptydir:c}},{"./mkdir":59,"./remove":62,fs:37,path:46}],57:[function(a,b){var c=a("jsonfile"),d=a("./json"),e={},f=a("graceful-fs");Object.keys(f).forEach(function(a){e[a]=f[a]});var g=e,h=a("./copy");g.copy=h.copy,g.copySync=h.copySync;var i=a("./remove");g.remove=i.remove,g.removeSync=i.removeSync,g["delete"]=g.remove,g.deleteSync=g.removeSync;var j=a("./mkdir");g.mkdirs=j.mkdirs,g.mkdirsSync=j.mkdirsSync,g.mkdirp=g.mkdirs,g.mkdirpSync=g.mkdirsSync;var k=a("./create");g.createFile=k.createFile,g.createFileSync=k.createFileSync,g.ensureFile=k.createFile,g.ensureFileSync=k.createFileSync,g.ensureDir=j.mkdirs,g.ensureDirSync=j.mkdirsSync;var l=a("./create-output-stream");g.createOutputStream=l.createOutputStream,g.createOutputStreamSync=l.createOutputStreamSync;var m=a("./move");g.move=function(a,b,c,d){"function"==typeof c&&(d=c,c={}),null==c.mkdirp&&(c.mkdirp=!0),null==c.clobber&&(c.clobber=!1),m(a,b,c,d)};var n=a("./output");g.outputFile=n.outputFile,g.outputFileSync=n.outputFileSync,g.readJsonFile=c.readFile,g.readJSONFile=c.readFile,g.readJsonFileSync=c.readFileSync,g.readJSONFileSync=c.readFileSync,g.readJson=c.readFile,g.readJSON=c.readFile,g.readJsonSync=c.readFileSync,g.readJSONSync=c.readFileSync,g.outputJsonSync=d.outputJsonSync,g.outputJSONSync=d.outputJsonSync,g.outputJson=d.outputJson,g.outputJSON=d.outputJson,g.writeJsonFile=c.writeFile,g.writeJSONFile=c.writeFile,g.writeJsonFileSync=c.writeFileSync,g.writeJSONFileSync=c.writeFileSync,g.writeJson=c.writeFile,g.writeJSON=c.writeFile,g.writeJsonSync=c.writeFileSync,g.writeJSONSync=c.writeFileSync;var o=a("./empty-dir");Object.keys(o).forEach(function(a){g[a]=o[a]}),b.exports=g,c.spaces=2,b.exports.jsonfile=c},{"./copy":53,"./create":55,"./create-output-stream":54,"./empty-dir":56,"./json":58,"./mkdir":59,"./move":60,"./output":61,"./remove":62,"graceful-fs":64,jsonfile:66}],58:[function(a,b){function c(a,b){var c=f.dirname(a);e.existsSync(c)||h.mkdirsSync(c),g.writeFileSync(a,b)}function d(a,b,c){var d=f.dirname(a);e.exists(d,function(e){return e?g.writeFile(a,b,c):void h.mkdirs(d,function(d){return d?c(d):void g.writeFile(a,b,c)})})}var e=a("graceful-fs"),f=a("path"),g=a("jsonfile"),h=a("./mkdir");b.exports={outputJsonSync:c,outputJson:d}},{"./mkdir":59,"graceful-fs":64,jsonfile:66,path:46}],59:[function(a,b){(function(c){function d(a,b,e,i){"function"==typeof b?(e=b,b={}):b&&"object"==typeof b||(b={mode:b});var j=b.mode,k=b.fs||f;void 0===j&&(j=h&~c.umask()),i||(i=null),e=e||Function(),a=g.resolve(a),k.mkdir(a,j,function(c){if(!c)return i=i||a,e(null,i);switch(c.code){case"ENOENT":if(g.dirname(a)===a)return e(c);d(g.dirname(a),b,function(c,f){c?e(c,f):d(a,b,e,f)});break;default:k.stat(a,function(a,b){a||!b.isDirectory()?e(c,i):e(null,i)})}})}function e(a,b,d){b&&"object"==typeof b||(b={mode:b});var i=b.mode,j=b.fs||f;void 0===i&&(i=h&~c.umask()),d||(d=null),a=g.resolve(a);try{j.mkdirSync(a,i),d=d||a}catch(k){switch(k.code){case"ENOENT":d=e(g.dirname(a),b,d),e(a,b,d);break;default:var l;try{l=j.statSync(a)}catch(m){throw k}if(!l.isDirectory())throw k}}return d}var f=a("graceful-fs"),g=a("path"),h=parseInt("0777",8);b.exports={mkdirs:d,mkdirsSync:e}}).call(this,a("_process"))},{_process:47,"graceful-fs":64,path:46}],60:[function(a,b){function c(a,b,g,k){function l(){j(h.dirname(b),function(a){return a?k(a):void m()})}function m(){o?f.rename(a,b,function(e){return e?"ENOTEMPTY"===e.code||"EEXIST"===e.code?void i(b,function(d){return d?k(d):(g.clobber=!1,void c(a,b,g,k))}):"EPERM"===e.code?void setTimeout(function(){i(b,function(d){return d?k(d):(g.clobber=!1,void c(a,b,g,k))})},200):"EXDEV"!==e.code?k(e):void d(a,b,o,p,k):k()}):f.link(a,b,function(c){return c?"EXDEV"===c.code?void d(a,b,o,p,k):"EISDIR"===c.code||"EPERM"===c.code?void e(a,b,o,p,k):void k(c):void f.unlink(a,k)})}"function"==typeof g&&(k=g,g={});var n=!!g.mkdirp,o=g.clobber!==!1,p=g.limit||16;n?l():m()}function d(a,b,c,d,g){function h(){f.unlink(a,g)}var i=c?"w":"wx",j=f.createReadStream(a),k=f.createWriteStream(b,{flags:i});j.on("error",function(i){j.destroy(),k.destroy(),k.removeListener("close",h),f.unlink(b,function(){"EISDIR"===i.code||"EPERM"===i.code?e(a,b,c,d,g):g(i)})}),k.on("error",function(a){j.destroy(),k.destroy(),k.removeListener("close",h),g(a)}),k.once("close",h),j.pipe(k)}function e(a,b,c,d,e){function f(){g(a,b,h,function(b){return b?e(b[0]):void i(a,e)})}var h={stopOnErr:!0,clobber:!1,limit:d};c?i(b,function(a){return a?e(a):void f()}):f()}var f=a("graceful-fs"),g=a("./_copy").ncp,h=a("path"),i=a("rimraf"),j=a("./mkdir").mkdirs;b.exports=c},{"./_copy":52,"./mkdir":59,"graceful-fs":64,path:46,rimraf:79}],61:[function(a,b){function c(a,b,c,d){"function"==typeof c&&(d=c,c="utf8");var h=e.dirname(a);f.exists(h,function(e){return e?f.writeFile(a,b,c,d):void g.mkdirs(h,function(e){return e?d(e):void f.writeFile(a,b,c,d)})})}function d(a){var b=e.dirname(a);return f.existsSync(b)?f.writeFileSync.apply(f,arguments):(g.mkdirsSync(b),void f.writeFileSync.apply(f,arguments))}var e=a("path"),f=a("graceful-fs"),g=a("./mkdir");b.exports={outputFile:c,outputFileSync:d}},{"./mkdir":59,"graceful-fs":64,path:46}],62:[function(a,b){function c(a){return e.sync(a)}function d(a,b){return b?e(a,b):e(a,Function())}var e=a("rimraf");b.exports={remove:d,removeSync:c}},{rimraf:79}],63:[function(a,b,c){(function(d,e,f){var g=(a("module"),"(function (exports, require, module, __filename, __dirname) { "),h="});",i=g+d.binding("natives").fs+h,j=a("vm"),k=j.runInThisContext(i);k(c,a,b,e,f)}).call(this,a("_process"),"/node_modules/fs-extra/node_modules/graceful-fs/fs.js","/node_modules/fs-extra/node_modules/graceful-fs")},{_process:47,module:37,vm:50}],64:[function(a,b){(function(c){function d(){}function e(a,b,c,e){"function"==typeof c&&(e=c,c=null),"function"!=typeof e&&(e=d),new f(a,b,c,e)}function f(a,b,c,d){this.path=a,this.flags=b,this.mode=c,this.cb=d,k.call(this)}function g(a,b){"function"!=typeof b&&(b=d),new h(a,b)}function h(a,b){this.path=a,this.cb=b,k.call(this)}function i(a,b){q("close",a),"function"!=typeof b&&(b=d),delete s["fd"+a],u.call(n,a,function(a){m(),b(a)})}function j(a){try{return v(a)}finally{m()}}function k(){this.done=this.done.bind(this),this.failures=0,this.process()}function l(a){w.push(a),q("enqueue %d %s",w.length,a.constructor.name,a)}function m(){var a=w.shift();a&&(q("process",a.constructor.name,a),a.process())}var n=b.exports=a("./fs.js"),o=a("assert");a("./polyfills.js");var p=a("util"),q=d;p.debuglog?q=p.debuglog("gfs"):/\bgfs\b/i.test(c.env.NODE_DEBUG||"")&&(q=function(){var a=p.format.apply(p,arguments);a="GFS: "+a.split(/\n/).join("\nGFS: "),console.error(a)}),/\bgfs\b/i.test(c.env.NODE_DEBUG||"")&&c.on("exit",function(){q("fds",s),q(w),o.equal(w.length,0)});var r=n.open;n.open=e,p.inherits(f,k),f.prototype.process=function(){r.call(n,this.path,this.flags,this.mode,this.done)};var s={};f.prototype.done=function(a,b){q("open done",a,b),b&&(s["fd"+b]=this.path),k.prototype.done.call(this,a,b)};var t=n.readdir;n.readdir=g,p.inherits(h,k),h.prototype.process=function(){t.call(n,this.path,this.done)},h.prototype.done=function(a,b){b&&b.sort&&(b=b.sort()),k.prototype.done.call(this,a,b),m()};var u=n.close;n.close=i;var v=n.closeSync;n.closeSync=j,k.prototype.done=function(a,b){var d=!1;if(a){var e=a.code,d="EMFILE"===e;"win32"===c.platform&&(d=d||"OK"===e)}if(d)this.failures++,l(this);else{var f=this.cb;f(a,b)}};var w=[]}).call(this,a("_process"))},{"./fs.js":63,"./polyfills.js":65,_process:47,assert:38,util:49}],65:[function(a){(function(b){function c(a){return a?function(b,c,d,g){return a.call(f,b,c,d,function(a,b){e(a)&&(a=null),g(a,b)})}:a}function d(a){return a?function(b,c,d){try{return a.call(f,b,c,d)}catch(g){if(!e(g))throw g}}:a}function e(a){if(!a)return!0;if("ENOSYS"===a.code)return!0;var c=!b.getuid||0!==b.getuid();return!c||"EINVAL"!==a.code&&"EPERM"!==a.code?!1:!0}var f=a("./fs.js"),g=a("constants"),h=b.cwd,i=null;b.cwd=function(){return i||(i=h.call(b)),i};var j=b.chdir;if(b.chdir=function(a){i=null,j.call(b,a)},g.hasOwnProperty("O_SYMLINK")&&b.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&(f.lchmod=function(a,b,c){c=c||noop,f.open(a,g.O_WRONLY|g.O_SYMLINK,b,function(a,d){return a?void c(a):void f.fchmod(d,b,function(a){f.close(d,function(b){c(a||b)})})})},f.lchmodSync=function(a,b){var c,d,e=f.openSync(a,g.O_WRONLY|g.O_SYMLINK,b);try{var h=f.fchmodSync(e,b)}catch(i){c=i}try{f.closeSync(e)}catch(i){d=i}if(c||d)throw c||d;return h}),f.lutimes||(g.hasOwnProperty("O_SYMLINK")?(f.lutimes=function(a,b,c,d){f.open(a,g.O_SYMLINK,function(a,e){return d=d||noop,a?d(a):void f.futimes(e,b,c,function(a){f.close(e,function(b){return d(a||b)})})})},f.lutimesSync=function(a,b,c){var d,e,h,i=f.openSync(a,g.O_SYMLINK);try{var h=f.futimesSync(i,b,c)}catch(j){d=j}try{f.closeSync(i)}catch(j){e=j}if(d||e)throw d||e;return h}):f.utimensat&&g.hasOwnProperty("AT_SYMLINK_NOFOLLOW")?(f.lutimes=function(a,b,c,d){f.utimensat(a,b,c,g.AT_SYMLINK_NOFOLLOW,d)},f.lutimesSync=function(a,b,c){return f.utimensatSync(a,b,c,g.AT_SYMLINK_NOFOLLOW)}):(f.lutimes=function(a,c,d,e){b.nextTick(e)},f.lutimesSync=function(){})),f.chown=c(f.chown),f.fchown=c(f.fchown),f.lchown=c(f.lchown),f.chmod=c(f.chmod),f.fchmod=c(f.fchmod),f.lchmod=c(f.lchmod),f.chownSync=d(f.chownSync),f.fchownSync=d(f.fchownSync),f.lchownSync=d(f.lchownSync),f.chmodSync=c(f.chmodSync),f.fchmodSync=c(f.fchmodSync),f.lchmodSync=c(f.lchmodSync),f.lchmod||(f.lchmod=function(a,c,d){b.nextTick(d)},f.lchmodSync=function(){}),f.lchown||(f.lchown=function(a,c,d,e){b.nextTick(e)},f.lchownSync=function(){}),"win32"===b.platform){var k=f.rename;f.rename=function(a,b,c){var d=Date.now();k(a,b,function e(f){return f&&("EACCES"===f.code||"EPERM"===f.code)&&Date.now()-d<1e3?k(a,b,e):void(c&&c(f))})}}var l=f.read;f.read=function(a,b,c,d,e,g){var h;if(g&&"function"==typeof g){var i=0;h=function(j){return j&&"EAGAIN"===j.code&&10>i?(i++,l.call(f,a,b,c,d,e,h)):void g.apply(this,arguments)}}return l.call(f,a,b,c,d,e,h)};var m=f.readSync;f.readSync=function(a,b,c,d,e){for(var g=0;;)try{return m.call(f,a,b,c,d,e)}catch(h){if("EAGAIN"===h.code&&10>g){g++;continue}throw h}}}).call(this,a("_process"))},{"./fs.js":63,_process:47,constants:43}],66:[function(a,b){var c=a("fs"),d=b.exports;d.spaces=null,d.readFile=function(a,b,d){void 0==d&&(d=b,b=null),c.readFile(a,b,function(a,b){if(a)return d(a,null);var c=null;try{c=JSON.parse(b)}catch(e){return d(e,null)}d(null,c)})},d.readFileSync=function(a,b){var d=b&&!b["throws"];if(!d)return JSON.parse(c.readFileSync(a,b));try{return JSON.parse(c.readFileSync(a,b))}catch(e){return null}},d.writeFile=function(a,b,e,f){void 0==f&&(f=e,e=null);var g="";try{g=JSON.stringify(b,null,d.spaces)+"\n"}catch(h){if(f)return f(h,null)}c.writeFile(a,g,e,f)},d.writeFileSync=function(a,b,e){var f=JSON.stringify(b,null,d.spaces)+"\n";return c.writeFileSync(a,f,e)}},{fs:37}],67:[function(a,b,c){(function(b){function d(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function e(a){if(f(a))return!0;var b=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,c=b.exec(a),d=c[1]||"",e=d&&":"!==d.charAt(1),g=!!c[2]||e;return g}function f(a){return"/"===a.charAt(0)||""===a}function g(a,b){return a.toLowerCase().localeCompare(b.toLowerCase())}function h(a,b){return a.localeCompare(b)}function i(a,b){a.ignore=b.ignore||[],Array.isArray(a.ignore)||(a.ignore=[a.ignore]),a.ignore.length&&(a.ignore=a.ignore.map(j))}function j(a){var b=null;if("/**"===a.slice(-3)){var c=a.replace(/(\/\*\*)+$/,"");b=new s(c,{nonegate:!0})}return{matcher:new s(a,{nonegate:!0}),gmatcher:b}}function k(a,c,e){if(e||(e={}),e.matchBase&&-1===c.indexOf("/")){if(e.noglobstar)throw new Error("base matching requires globstar");c="**/"+c}a.pattern=c,a.strict=e.strict!==!1,a.realpath=!!e.realpath,a.realpathCache=e.realpathCache||Object.create(null),a.follow=!!e.follow,a.dot=!!e.dot,a.mark=!!e.mark,a.nodir=!!e.nodir,a.nodir&&(a.mark=!0),a.sync=!!e.sync,a.nounique=!!e.nounique,a.nonull=!!e.nonull,a.nosort=!!e.nosort,a.nocase=!!e.nocase,a.stat=!!e.stat,a.noprocess=!!e.noprocess,a.maxLength=e.maxLength||1/0,a.cache=e.cache||Object.create(null),a.statCache=e.statCache||Object.create(null),a.symlinks=e.symlinks||Object.create(null),i(a,e),a.changedCwd=!1;var f=b.cwd();d(e,"cwd")?(a.cwd=e.cwd,a.changedCwd=q.resolve(e.cwd)!==f):a.cwd=f,a.root=e.root||q.resolve(a.cwd,"/"),a.root=q.resolve(a.root),"win32"===b.platform&&(a.root=a.root.replace(/\\/g,"/")),a.nomount=!!e.nomount,a.minimatch=new s(c,e),a.options=a.minimatch.options}function l(a){for(var b=a.nounique,c=b?[]:Object.create(null),d=0,e=a.matches.length;e>d;d++){var f=a.matches[d];if(f&&0!==Object.keys(f).length){var i=Object.keys(f);b?c.push.apply(c,i):i.forEach(function(a){c[a]=!0})}else if(a.nonull){var j=a.minimatch.globSet[d];b?c.push(j):c[j]=!0}}if(b||(c=Object.keys(c)),a.nosort||(c=c.sort(a.nocase?g:h)),a.mark){for(var d=0;d<c.length;d++)c[d]=a._mark(c[d]);a.nodir&&(c=c.filter(function(a){return!/\/$/.test(a)}))}a.ignore.length&&(c=c.filter(function(b){return!o(a,b)})),a.found=c}function m(a,b){var c=n(a,b),d=a.cache[c],e=b;if(d){var f="DIR"===d||Array.isArray(d),g="/"===b.slice(-1);if(f&&!g?e+="/":!f&&g&&(e=e.slice(0,-1)),e!==b){var h=n(a,e);a.statCache[h]=a.statCache[c],a.cache[h]=a.cache[c]}}return e}function n(a,b){var d=b;return"/"===b.charAt(0)?d=q.join(a.root,b):c.isAbsolute(b)?d=b:a.changedCwd?d=q.resolve(a.cwd,b):a.realpath&&(d=q.resolve(b)),d}function o(a,b){return a.ignore.length?a.ignore.some(function(a){return a.matcher.match(b)||!(!a.gmatcher||!a.gmatcher.match(b))}):!1}function p(a,b){return a.ignore.length?a.ignore.some(function(a){return!(!a.gmatcher||!a.gmatcher.match(b))}):!1}c.alphasort=h,c.alphasorti=g,c.isAbsolute="win32"===b.platform?e:f,c.setopts=k,c.ownProp=d,c.makeAbs=n,c.finish=l,c.mark=m,c.isIgnored=o,c.childrenIgnored=p;var q=a("path"),r=a("minimatch"),s=r.Minimatch}).call(this,a("_process"))},{_process:47,minimatch:72,path:46}],68:[function(a,b){(function(c){function d(a,b,c){if("function"==typeof b&&(c=b,b={}),b||(b={}),b.sync){if(c)throw new TypeError("callback provided to sync glob");return m(a,b)}return new e(a,b,c)}function e(a,b,c){function d(){--g._processing,g._processing<=0&&g._finish()}if("function"==typeof b&&(c=b,b=null),b&&b.sync){if(c)throw new TypeError("callback provided to sync glob");return new v(a,b)}if(!(this instanceof e))return new e(a,b,c);p(this,a,b),this._didRealPath=!1;var f=this.minimatch.set.length;this.matches=new Array(f),"function"==typeof c&&(c=u(c),this.on("error",c),this.on("end",function(a){c(null,a)}));var g=this,f=this.minimatch.set.length;if(this._processing=0,this.matches=new Array(f),this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===f)return d();for(var h=0;f>h;h++)this._process(this.minimatch.set[h],h,!1,d)}function f(a,b,c){return function(d,e){d?a._readdirError(b,d,c):a._readdirEntries(b,e,c)}}b.exports=d;var g=a("fs"),h=a("minimatch"),i=(h.Minimatch,a("inherits")),j=a("events").EventEmitter,k=a("path"),l=a("assert"),m=a("./sync.js"),n=a("./common.js"),o=(n.alphasort,n.alphasorti,n.isAbsolute),p=n.setopts,q=n.ownProp,r=a("inflight"),s=a("util"),t=n.childrenIgnored,u=a("once");d.sync=m;var v=d.GlobSync=m.GlobSync;d.glob=d,d.hasMagic=function(a,b){var c=s._extend({},b);c.noprocess=!0;var d=new e(a,c),f=d.minimatch.set;if(f.length>1)return!0;for(var g=0;g<f[0].length;g++)if("string"!=typeof f[0][g])return!0;return!1},d.Glob=e,i(e,j),e.prototype._finish=function(){if(l(this instanceof e),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();n.finish(this),this.emit("end",this.found)}},e.prototype._realpath=function(){function a(){0===--b&&c._finish()}if(!this._didRealpath){this._didRealpath=!0;var b=this.matches.length;if(0===b)return this._finish();for(var c=this,d=0;d<this.matches.length;d++)this._realpathSet(d,a)}},e.prototype._realpathSet=function(a,b){var c=this.matches[a];if(!c)return b();var d=Object.keys(c),e=this,f=d.length;if(0===f)return b();var h=this.matches[a]=Object.create(null);d.forEach(function(c){c=e._makeAbs(c),g.realpath(c,e.realpathCache,function(d,g){d?"stat"===d.syscall?h[c]=!0:e.emit("error",d):h[g]=!0,0===--f&&(e.matches[a]=h,b())})})},e.prototype._mark=function(a){return n.mark(this,a)},e.prototype._makeAbs=function(a){return n.makeAbs(this,a)},e.prototype.abort=function(){this.aborted=!0,this.emit("abort")},e.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},e.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var a=this._emitQueue.slice(0);this._emitQueue.length=0;for(var b=0;b<a.length;b++){var c=a[b];this._emitMatch(c[0],c[1])}}if(this._processQueue.length){var d=this._processQueue.slice(0);this._processQueue.length=0;for(var b=0;b<d.length;b++){var e=d[b];this._processing--,this._process(e[0],e[1],e[2],e[3])}}}},e.prototype._process=function(a,b,c,d){if(l(this instanceof e),l("function"==typeof d),!this.aborted){if(this._processing++,this.paused)return void this._processQueue.push([a,b,c,d]);for(var f=0;"string"==typeof a[f];)f++;var g;switch(f){case a.length:return void this._processSimple(a.join("/"),b,d);case 0:g=null;break;default:g=a.slice(0,f).join("/")}var i,j=a.slice(f);null===g?i=".":o(g)||o(a.join("/"))?(g&&o(g)||(g="/"+g),i=g):i=g;var k=this._makeAbs(i);if(t(this,i))return d();var m=j[0]===h.GLOBSTAR;m?this._processGlobStar(g,i,k,j,b,c,d):this._processReaddir(g,i,k,j,b,c,d)}},e.prototype._processReaddir=function(a,b,c,d,e,f,g){var h=this;this._readdir(c,f,function(i,j){return h._processReaddir2(a,b,c,d,e,f,j,g)})},e.prototype._processReaddir2=function(a,b,c,d,e,f,g,h){if(!g)return h();for(var i=d[0],j=!!this.minimatch.negate,l=i._glob,m=this.dot||"."===l.charAt(0),n=[],o=0;o<g.length;o++){var p=g[o];if("."!==p.charAt(0)||m){var q;q=j&&!a?!p.match(i):p.match(i),q&&n.push(p)}}var r=n.length;if(0===r)return h();if(1===d.length&&!this.mark&&!this.stat){this.matches[e]||(this.matches[e]=Object.create(null));for(var o=0;r>o;o++){var p=n[o];a&&(p="/"!==a?a+"/"+p:a+p),"/"!==p.charAt(0)||this.nomount||(p=k.join(this.root,p)),this._emitMatch(e,p)}return h()}d.shift();for(var o=0;r>o;o++){var p=n[o];a&&(p="/"!==a?a+"/"+p:a+p),this._process([p].concat(d),e,f,h)}h()},e.prototype._emitMatch=function(a,b){if(!this.aborted&&!this.matches[a][b]){if(this.paused)return void this._emitQueue.push([a,b]);var c=this._makeAbs(b);if(this.nodir){var d=this.cache[c];if("DIR"===d||Array.isArray(d))return}this.mark&&(b=this._mark(b)),this.matches[a][b]=!0;var e=this.statCache[c];e&&this.emit("stat",b,e),this.emit("match",b)}},e.prototype._readdirInGlobStar=function(a,b){function c(c,d){if(c)return b();var f=d.isSymbolicLink();e.symlinks[a]=f,f||d.isDirectory()?e._readdir(a,!1,b):(e.cache[a]="FILE",b())}if(!this.aborted){if(this.follow)return this._readdir(a,!1,b);var d="lstat\x00"+a,e=this,f=r(d,c);f&&g.lstat(a,f)}},e.prototype._readdir=function(a,b,c){if(!this.aborted&&(c=r("readdir\x00"+a+"\x00"+b,c))){if(b&&!q(this.symlinks,a))return this._readdirInGlobStar(a,c);if(q(this.cache,a)){var d=this.cache[a];if(!d||"FILE"===d)return c();if(Array.isArray(d))return c(null,d)}g.readdir(a,f(this,a,c))}},e.prototype._readdirEntries=function(a,b,c){if(!this.aborted){if(!this.mark&&!this.stat)for(var d=0;d<b.length;d++){var e=b[d];e="/"===a?a+e:a+"/"+e,this.cache[e]=!0}return this.cache[a]=b,c(null,b)}},e.prototype._readdirError=function(a,b,c){if(!this.aborted){switch(b.code){case"ENOTDIR":this.cache[this._makeAbs(a)]="FILE";break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(a)]=!1;break;default:if(this.cache[this._makeAbs(a)]=!1,this.strict)return this.emit("error",b);this.silent||console.error("glob error",b)}return c()}},e.prototype._processGlobStar=function(a,b,c,d,e,f,g){var h=this;this._readdir(c,f,function(i,j){h._processGlobStar2(a,b,c,d,e,f,j,g)})},e.prototype._processGlobStar2=function(a,b,c,d,e,f,g,h){if(!g)return h();var i=d.slice(1),j=a?[a]:[],k=j.concat(i);this._process(k,e,!1,h);var l=this.symlinks[c],m=g.length;if(l&&f)return h();for(var n=0;m>n;n++){var o=g[n];if("."!==o.charAt(0)||this.dot){var p=j.concat(g[n],i);this._process(p,e,!0,h);var q=j.concat(g[n],d);this._process(q,e,!0,h)}}h()},e.prototype._processSimple=function(a,b,c){var d=this;this._stat(a,function(e,f){d._processSimple2(a,b,e,f,c)})},e.prototype._processSimple2=function(a,b,d,e,f){if(this.matches[b]||(this.matches[b]=Object.create(null)),!e)return f();if(a&&o(a)&&!this.nomount){var g=/[\/\\]$/.test(a);"/"===a.charAt(0)?a=k.join(this.root,a):(a=k.resolve(this.root,a),g&&(a+="/"))}"win32"===c.platform&&(a=a.replace(/\\/g,"/")),this._emitMatch(b,a),f()},e.prototype._stat=function(a,b){function c(c,e){return e&&e.isSymbolicLink()?g.stat(d,function(c,f){c?j._stat2(a,d,null,e,b):j._stat2(a,d,c,f,b)}):void j._stat2(a,d,c,e,b)}var d=this._makeAbs(a),e="/"===a.slice(-1);if(a.length>this.maxLength)return b();if(!this.stat&&q(this.cache,d)){var f=this.cache[d];if(Array.isArray(f)&&(f="DIR"),!e||"DIR"===f)return b(null,f);if(e&&"FILE"===f)return b()}var h=this.statCache[d];if(void 0!==h){if(h===!1)return b(null,h);var i=h.isDirectory()?"DIR":"FILE";return e&&"FILE"===i?b():b(null,i,h)}var j=this,k=r("stat\x00"+d,c);k&&g.lstat(d,k)},e.prototype._stat2=function(a,b,c,d,e){if(c)return this.statCache[b]=!1,e();var f="/"===a.slice(-1);if(this.statCache[b]=d,"/"===b.slice(-1)&&!d.isDirectory())return e(null,!1,d);var g=d.isDirectory()?"DIR":"FILE";return this.cache[b]=this.cache[b]||g,f&&"DIR"!==g?e():e(null,g,d)}}).call(this,a("_process"))},{"./common.js":67,"./sync.js":78,_process:47,assert:38,events:44,fs:37,inflight:69,inherits:71,minimatch:72,once:77,path:46,util:49}],69:[function(a,b){(function(c){function d(a,b){return h[a]?(h[a].push(b),null):(h[a]=[b],e(a))}function e(a){return i(function b(){for(var d=h[a],e=d.length,g=f(arguments),i=0;e>i;i++)d[i].apply(null,g);d.length>e?(d.splice(0,e),c.nextTick(function(){b.apply(null,g)})):delete h[a]})}function f(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d]=a[d];return c}var g=a("wrappy"),h=Object.create(null),i=a("once");b.exports=g(d)}).call(this,a("_process"))},{_process:47,once:77,wrappy:70}],70:[function(a,b){function c(a,b){function d(){for(var b=new Array(arguments.length),c=0;c<b.length;c++)b[c]=arguments[c];var d=a.apply(this,b),e=b[b.length-1];return"function"==typeof d&&d!==e&&Object.keys(e).forEach(function(a){d[a]=e[a]}),d}if(a&&b)return c(a)(b);if("function"!=typeof a)throw new TypeError("need wrapper function");return Object.keys(a).forEach(function(b){d[b]=a[b]}),d}b.exports=c},{}],71:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{dup:45}],72:[function(a,b){function c(a){return a.split("").reduce(function(a,b){return a[b]=!0,a},{})}function d(a,b){return b=b||{},function(c){return f(c,a,b)}}function e(a,b){a=a||{},b=b||{};var c={};return Object.keys(b).forEach(function(a){c[a]=b[a]}),Object.keys(a).forEach(function(b){c[b]=a[b]}),c}function f(a,b,c){if("string"!=typeof b)throw new TypeError("glob pattern string required");return c||(c={}),c.nocomment||"#"!==b.charAt(0)?""===b.trim()?""===a:new g(b,c).match(a):!1}function g(a,b){if(!(this instanceof g))return new g(a,b);if("string"!=typeof a)throw new TypeError("glob pattern string required");b||(b={}),a=a.trim(),"/"!==p.sep&&(a=a.split(p.sep).join("/")),this.options=b,this.set=[],this.pattern=a,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function h(){if(!this._made){var a=this.pattern,b=this.options;if(!b.nocomment&&"#"===a.charAt(0))return void(this.comment=!0);if(!a)return void(this.empty=!0);this.parseNegate();var c=this.globSet=this.braceExpand();b.debug&&(this.debug=console.error),this.debug(this.pattern,c),c=this.globParts=c.map(function(a){return a.split(y)}),this.debug(this.pattern,c),c=c.map(function(a){return a.map(this.parse,this)},this),this.debug(this.pattern,c),c=c.filter(function(a){return-1===a.indexOf(!1)}),this.debug(this.pattern,c),this.set=c}}function i(){var a=this.pattern,b=!1,c=this.options,d=0;if(!c.nonegate){for(var e=0,f=a.length;f>e&&"!"===a.charAt(e);e++)b=!b,d++;d&&(this.pattern=a.substr(d)),this.negate=b}}function j(a,b){if(b||(b=this instanceof g?this.options:{}),a="undefined"==typeof a?this.pattern:a,"undefined"==typeof a)throw new Error("undefined pattern");return b.nobrace||!a.match(/\{.*\}/)?[a]:s(a)}function k(a,b){function c(){if(f){switch(f){case"*":h+=u,i=!0;break;case"?":h+=t,i=!0;break;default:h+="\\"+f}q.debug("clearStateChar %j %j",f,h),f=!1}}var d=this.options;if(!d.noglobstar&&"**"===a)return r;if(""===a)return"";for(var e,f,g,h="",i=!!d.nocase,j=!1,k=[],l=!1,m=-1,o=-1,p="."===a.charAt(0)?"":d.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",q=this,s=0,v=a.length;v>s&&(g=a.charAt(s));s++)if(this.debug("%s	%s %s %j",a,s,h,g),j&&x[g])h+="\\"+g,j=!1;else switch(g){case"/":return!1;case"\\":c(),j=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",a,s,h,g),l){this.debug("  in class"),"!"===g&&s===o+1&&(g="^"),h+=g;continue}q.debug("call clearStateChar %j",f),c(),f=g,d.noext&&c();continue;case"(":if(l){h+="(";continue}if(!f){h+="\\(";continue}e=f,k.push({type:e,start:s-1,reStart:h.length}),h+="!"===f?"(?:(?!":"(?:",this.debug("plType %j %j",f,h),f=!1;continue;case")":if(l||!k.length){h+="\\)";continue}switch(c(),i=!0,h+=")",e=k.pop().type){case"!":h+="[^/]*?)";break;case"?":case"+":case"*":h+=e;break;case"@":}continue;case"|":if(l||!k.length||j){h+="\\|",j=!1;continue}c(),h+="|";continue;case"[":if(c(),l){h+="\\"+g;continue}l=!0,o=s,m=h.length,h+=g;continue;case"]":if(s===o+1||!l){h+="\\"+g,j=!1;continue}if(l){var w=a.substring(o+1,s);try{RegExp("["+w+"]")}catch(y){var A=this.parse(w,z);h=h.substr(0,m)+"\\["+A[0]+"\\]",i=i||A[1],l=!1;continue}}i=!0,l=!1,h+=g;continue;default:c(),j?j=!1:!x[g]||"^"===g&&l||(h+="\\"),h+=g}l&&(w=a.substr(o+1),A=this.parse(w,z),h=h.substr(0,m)+"\\["+A[0],i=i||A[1]);for(var B=k.pop();B;B=k.pop()){var C=h.slice(B.reStart+3);C=C.replace(/((?:\\{2})*)(\\?)\|/g,function(a,b,c){return c||(c="\\"),b+b+c+"|"}),this.debug("tail=%j\n   %s",C,C);var D="*"===B.type?u:"?"===B.type?t:"\\"+B.type;i=!0,h=h.slice(0,B.reStart)+D+"\\("+C}c(),j&&(h+="\\\\");var E=!1;switch(h.charAt(0)){case".":case"[":case"(":E=!0}if(""!==h&&i&&(h="(?=.)"+h),E&&(h=p+h),b===z)return[h,i];if(!i)return n(a);var F=d.nocase?"i":"",G=new RegExp("^"+h+"$",F);return G._glob=a,G._src=h,G}function l(){if(this.regexp||this.regexp===!1)return this.regexp;var a=this.set;if(!a.length)return this.regexp=!1,this.regexp;var b=this.options,c=b.noglobstar?u:b.dot?v:w,d=b.nocase?"i":"",e=a.map(function(a){return a.map(function(a){return a===r?c:"string"==typeof a?o(a):a._src}).join("\\/")}).join("|");e="^(?:"+e+")$",this.negate&&(e="^(?!"+e+").*$");try{this.regexp=new RegExp(e,d)}catch(f){this.regexp=!1}return this.regexp}function m(a,b){if(this.debug("match",a,this.pattern),this.comment)return!1;if(this.empty)return""===a;if("/"===a&&b)return!0;var c=this.options;"/"!==p.sep&&(a=a.split(p.sep).join("/")),a=a.split(y),this.debug(this.pattern,"split",a);var d=this.set;this.debug(this.pattern,"set",d);var e,f;for(f=a.length-1;f>=0&&!(e=a[f]);f--);for(f=0;f<d.length;f++){var g=d[f],h=a;c.matchBase&&1===g.length&&(h=[e]);var i=this.matchOne(h,g,b);if(i)return c.flipNegate?!0:!this.negate}return c.flipNegate?!1:this.negate}function n(a){return a.replace(/\\(.)/g,"$1")}function o(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}b.exports=f,f.Minimatch=g;var p={sep:"/"};try{p=a("path")}catch(q){}var r=f.GLOBSTAR=g.GLOBSTAR={},s=a("brace-expansion"),t="[^/]",u=t+"*?",v="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",w="(?:(?!(?:\\/|^)\\.).)*?",x=c("().*{}+?[]^$\\!"),y=/\/+/;
  f.filter=d,f.defaults=function(a){if(!a||!Object.keys(a).length)return f;var b=f,c=function(c,d,f){return b.minimatch(c,d,e(a,f))};return c.Minimatch=function(c,d){return new b.Minimatch(c,e(a,d))},c},g.defaults=function(a){return a&&Object.keys(a).length?f.defaults(a).Minimatch:g},g.prototype.debug=function(){},g.prototype.make=h,g.prototype.parseNegate=i,f.braceExpand=function(a,b){return j(a,b)},g.prototype.braceExpand=j,g.prototype.parse=k;var z={};f.makeRe=function(a,b){return new g(a,b||{}).makeRe()},g.prototype.makeRe=l,f.match=function(a,b,c){c=c||{};var d=new g(b,c);return a=a.filter(function(a){return d.match(a)}),d.options.nonull&&!a.length&&a.push(b),a},g.prototype.match=m,g.prototype.matchOne=function(a,b,c){var d=this.options;this.debug("matchOne",{"this":this,file:a,pattern:b}),this.debug("matchOne",a.length,b.length);for(var e=0,f=0,g=a.length,h=b.length;g>e&&h>f;e++,f++){this.debug("matchOne loop");var i=b[f],j=a[e];if(this.debug(b,i,j),i===!1)return!1;if(i===r){this.debug("GLOBSTAR",[b,i,j]);var k=e,l=f+1;if(l===h){for(this.debug("** at the end");g>e;e++)if("."===a[e]||".."===a[e]||!d.dot&&"."===a[e].charAt(0))return!1;return!0}for(;g>k;){var m=a[k];if(this.debug("\nglobstar while",a,k,b,l,m),this.matchOne(a.slice(k),b.slice(l),c))return this.debug("globstar found match!",k,g,m),!0;if("."===m||".."===m||!d.dot&&"."===m.charAt(0)){this.debug("dot detected!",a,k,b,l);break}this.debug("globstar swallow a segment, and continue"),k++}return c&&(this.debug("\n>>> no match, partial?",a,k,b,l),k===g)?!0:!1}var n;if("string"==typeof i?(n=d.nocase?j.toLowerCase()===i.toLowerCase():j===i,this.debug("string match",i,j,n)):(n=j.match(i),this.debug("pattern match",i,j,n)),!n)return!1}if(e===g&&f===h)return!0;if(e===g)return c;if(f===h){var o=e===g-1&&""===a[e];return o}throw new Error("wtf?")}},{"brace-expansion":73,path:46}],73:[function(a,b){function c(a){return parseInt(a,10)==a?parseInt(a,10):a.charCodeAt(0)}function d(a){return a.split("\\\\").join(o).split("\\{").join(p).split("\\}").join(q).split("\\,").join(r).split("\\.").join(s)}function e(a){return a.split(o).join("\\").split(p).join("{").split(q).join("}").split(r).join(",").split(s).join(".")}function f(a){if(!a)return[""];var b=[],c=n("{","}",a);if(!c)return a.split(",");var d=c.pre,e=c.body,g=c.post,h=d.split(",");h[h.length-1]+="{"+e+"}";var i=f(g);return g.length&&(h[h.length-1]+=i.shift(),h.push.apply(h,i)),b.push.apply(b,h),b}function g(a){return a?l(d(a),!0).map(e):[]}function h(a){return"{"+a+"}"}function i(a){return/^-?0\d/.test(a)}function j(a,b){return b>=a}function k(a,b){return a>=b}function l(a,b){var d=[],e=n("{","}",a);if(!e||/\$$/.test(e.pre))return[a];var g=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(e.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(e.body),p=g||o,r=/^(.*,)+(.+)?$/.test(e.body);if(!p&&!r)return e.post.match(/,.*}/)?(a=e.pre+"{"+e.body+q+e.post,l(a)):[a];var s;if(p)s=e.body.split(/\.\./);else if(s=f(e.body),1===s.length&&(s=l(s[0],!1).map(h),1===s.length)){var t=e.post.length?l(e.post,!1):[""];return t.map(function(a){return e.pre+s[0]+a})}var u,v=e.pre,t=e.post.length?l(e.post,!1):[""];if(p){var w=c(s[0]),x=c(s[1]),y=Math.max(s[0].length,s[1].length),z=3==s.length?Math.abs(c(s[2])):1,A=j,B=w>x;B&&(z*=-1,A=k);var C=s.some(i);u=[];for(var D=w;A(D,x);D+=z){var E;if(o)E=String.fromCharCode(D),"\\"===E&&(E="");else if(E=String(D),C){var F=y-E.length;if(F>0){var G=new Array(F+1).join("0");E=0>D?"-"+G+E.slice(1):G+E}}u.push(E)}}else u=m(s,function(a){return l(a,!1)});for(var H=0;H<u.length;H++)for(var I=0;I<t.length;I++){var J=v+u[H]+t[I];(!b||p||J)&&d.push(J)}return d}var m=a("concat-map"),n=a("balanced-match");b.exports=g;var o="\x00SLASH"+Math.random()+"\x00",p="\x00OPEN"+Math.random()+"\x00",q="\x00CLOSE"+Math.random()+"\x00",r="\x00COMMA"+Math.random()+"\x00",s="\x00PERIOD"+Math.random()+"\x00"},{"balanced-match":74,"concat-map":75}],74:[function(a,b){function c(a,b,d){for(var e=0,f={},g=!1,h=0;h<d.length;h++)if(a==d.substr(h,a.length))"start"in f||(f.start=h),e++;else if(b==d.substr(h,b.length)&&"start"in f&&(g=!0,e--,!e))return f.end=h,f.pre=d.substr(0,f.start),f.body=f.end-f.start>1?d.substring(f.start+a.length,f.end):"",f.post=d.slice(f.end+b.length),f;if(e&&g){var i=f.start+a.length;return f=c(a,b,d.substr(i)),f&&(f.start+=i,f.end+=i,f.pre=d.slice(0,i)+f.pre),f}}b.exports=c},{}],75:[function(a,b){b.exports=function(a,b){for(var d=[],e=0;e<a.length;e++){var f=b(a[e],e);c(f)?d.push.apply(d,f):d.push(f)}return d};var c=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],76:[function(a,b,c){arguments[4][70][0].apply(c,arguments)},{dup:70}],77:[function(a,b){function c(a){var b=function(){return b.called?b.value:(b.called=!0,b.value=a.apply(this,arguments))};return b.called=!1,b}var d=a("wrappy");b.exports=d(c),c.proto=c(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return c(this)},configurable:!0})})},{wrappy:76}],78:[function(a,b){(function(c){function d(a,b){if("function"==typeof b||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new e(a,b).found}function e(a,b){if(!a)throw new Error("must provide pattern");if("function"==typeof b||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof e))return new e(a,b);if(l(this,a,b),this.noprocess)return this;var c=this.minimatch.set.length;this.matches=new Array(c);for(var d=0;c>d;d++)this._process(this.minimatch.set[d],d,!1);this._finish()}b.exports=d,d.GlobSync=e;var f=a("fs"),g=a("minimatch"),h=(g.Minimatch,a("./glob.js").Glob,a("util"),a("path")),i=a("assert"),j=a("./common.js"),k=(j.alphasort,j.alphasorti,j.isAbsolute),l=j.setopts,m=j.ownProp,n=j.childrenIgnored;e.prototype._finish=function(){if(i(this instanceof e),this.realpath){var a=this;this.matches.forEach(function(b,c){var d=a.matches[c]=Object.create(null);for(var e in b)try{e=a._makeAbs(e);var g=f.realpathSync(e,this.realpathCache);d[g]=!0}catch(h){if("stat"!==h.syscall)throw h;d[a._makeAbs(e)]=!0}})}j.finish(this)},e.prototype._process=function(a,b,c){i(this instanceof e);for(var d=0;"string"==typeof a[d];)d++;var f;switch(d){case a.length:return void this._processSimple(a.join("/"),b);case 0:f=null;break;default:f=a.slice(0,d).join("/")}var h,j=a.slice(d);null===f?h=".":k(f)||k(a.join("/"))?(f&&k(f)||(f="/"+f),h=f):h=f;var l=this._makeAbs(h);if(!n(this,h)){var m=j[0]===g.GLOBSTAR;m?this._processGlobStar(f,h,l,j,b,c):this._processReaddir(f,h,l,j,b,c)}},e.prototype._processReaddir=function(a,b,c,d,e,f){var g=this._readdir(c,f);if(g){for(var i=d[0],j=!!this.minimatch.negate,k=i._glob,l=this.dot||"."===k.charAt(0),m=[],n=0;n<g.length;n++){var o=g[n];if("."!==o.charAt(0)||l){var p;p=j&&!a?!o.match(i):o.match(i),p&&m.push(o)}}var q=m.length;if(0!==q)if(1!==d.length||this.mark||this.stat){d.shift();for(var n=0;q>n;n++){var r,o=m[n];r=a?[a,o]:[o],this._process(r.concat(d),e,f)}}else{this.matches[e]||(this.matches[e]=Object.create(null));for(var n=0;q>n;n++){var o=m[n];a&&(o="/"!==a.slice(-1)?a+"/"+o:a+o),"/"!==o.charAt(0)||this.nomount||(o=h.join(this.root,o)),this.matches[e][o]=!0}}}},e.prototype._emitMatch=function(a,b){this._makeAbs(b);if(this.mark&&(b=this._mark(b)),!this.matches[a][b]){if(this.nodir){var c=this.cache[this._makeAbs(b)];if("DIR"===c||Array.isArray(c))return}this.matches[a][b]=!0,this.stat&&this._stat(b)}},e.prototype._readdirInGlobStar=function(a){if(this.follow)return this._readdir(a,!1);var b,c;try{c=f.lstatSync(a)}catch(d){return null}var e=c.isSymbolicLink();return this.symlinks[a]=e,e||c.isDirectory()?b=this._readdir(a,!1):this.cache[a]="FILE",b},e.prototype._readdir=function(a,b){if(b&&!m(this.symlinks,a))return this._readdirInGlobStar(a);if(m(this.cache,a)){var c=this.cache[a];if(!c||"FILE"===c)return null;if(Array.isArray(c))return c}try{return this._readdirEntries(a,f.readdirSync(a))}catch(d){return this._readdirError(a,d),null}},e.prototype._readdirEntries=function(a,b){if(!this.mark&&!this.stat)for(var c=0;c<b.length;c++){var d=b[c];d="/"===a?a+d:a+"/"+d,this.cache[d]=!0}return this.cache[a]=b,b},e.prototype._readdirError=function(a,b){switch(b.code){case"ENOTDIR":this.cache[this._makeAbs(a)]="FILE";break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(a)]=!1;break;default:if(this.cache[this._makeAbs(a)]=!1,this.strict)throw b;this.silent||console.error("glob error",b)}},e.prototype._processGlobStar=function(a,b,c,d,e,f){var g=this._readdir(c,f);if(g){var h=d.slice(1),i=a?[a]:[],j=i.concat(h);this._process(j,e,!1);var k=g.length,l=this.symlinks[c];if(!l||!f)for(var m=0;k>m;m++){var n=g[m];if("."!==n.charAt(0)||this.dot){var o=i.concat(g[m],h);this._process(o,e,!0);var p=i.concat(g[m],d);this._process(p,e,!0)}}}},e.prototype._processSimple=function(a,b){var d=this._stat(a);if(this.matches[b]||(this.matches[b]=Object.create(null)),d){if(a&&k(a)&&!this.nomount){var e=/[\/\\]$/.test(a);"/"===a.charAt(0)?a=h.join(this.root,a):(a=h.resolve(this.root,a),e&&(a+="/"))}"win32"===c.platform&&(a=a.replace(/\\/g,"/")),this.matches[b][a]=!0}},e.prototype._stat=function(a){var b=this._makeAbs(a),c="/"===a.slice(-1);if(a.length>this.maxLength)return!1;if(!this.stat&&m(this.cache,b)){var d=this.cache[b];if(Array.isArray(d)&&(d="DIR"),!c||"DIR"===d)return d;if(c&&"FILE"===d)return!1}var e=this.statCache[b];if(!e){var g;try{g=f.lstatSync(b)}catch(h){return!1}if(g.isSymbolicLink())try{e=f.statSync(b)}catch(h){e=g}else e=g}this.statCache[b]=e;var d=e.isDirectory()?"DIR":"FILE";return this.cache[b]=this.cache[b]||d,c&&"DIR"!==d?!1:d},e.prototype._mark=function(a){return j.mark(this,a)},e.prototype._makeAbs=function(a){return j.makeAbs(this,a)}}).call(this,a("_process"))},{"./common.js":67,"./glob.js":68,_process:47,assert:38,fs:37,minimatch:72,path:46,util:49}],79:[function(a,b){(function(c){function d(a){var b=["unlink","chmod","stat","lstat","rmdir","readdir"];b.forEach(function(b){a[b]=a[b]||p[b],b+="Sync",a[b]=a[b]||p[b]}),a.maxBusyTries=a.maxBusyTries||3,a.emfileWait=a.emfileWait||1e3}function e(a,b,c){function e(a){i=i||a,0===--j&&c(i)}function g(a,d){return a?c(a):(j=d.length,0===j?c():void d.forEach(function(a){f(a,b,function c(d){if(d){if(t&&("EBUSY"===d.code||"ENOTEMPTY"===d.code)&&h<b.maxBusyTries){h++;var g=100*h;return setTimeout(function(){f(a,b,c)},g)}if("EMFILE"===d.code&&s<b.emfileWait)return setTimeout(function(){f(a,b,c)},s++);"ENOENT"===d.code&&(d=null)}s=0,e(d)})}))}"function"==typeof b&&(c=b,b={}),n(a,"rimraf: missing path"),n.equal(typeof a,"string","rimraf: path should be a string"),n(b,"rimraf: missing options"),n.equal(typeof b,"object","rimraf: options should be object"),n.equal(typeof c,"function","rimraf: callback function required"),d(b);var h=0,i=null,j=0;return q.hasMagic(a)?void p.lstat(a,function(b){return b?void q(a,r,g):g(null,[a])}):g(null,[a])}function f(a,b,c){n(a),n(b),n("function"==typeof c),b.lstat(a,function(d,e){return d&&"ENOENT"===d.code?c(null):e&&e.isDirectory()?i(a,b,d,c):void b.unlink(a,function(d){if(d){if("ENOENT"===d.code)return c(null);if("EPERM"===d.code)return t?g(a,b,d,c):i(a,b,d,c);if("EISDIR"===d.code)return i(a,b,d,c)}return c(d)})})}function g(a,b,c,d){n(a),n(b),n("function"==typeof d),c&&n(c instanceof Error),b.chmod(a,666,function(e){e?d("ENOENT"===e.code?null:c):b.stat(a,function(e,f){e?d("ENOENT"===e.code?null:c):f.isDirectory()?i(a,b,c,d):b.unlink(a,d)})})}function h(a,b,c){n(a),n(b),c&&n(c instanceof Error);try{b.chmodSync(a,666)}catch(d){if("ENOENT"===d.code)return;throw c}try{var e=b.statSync(a)}catch(f){if("ENOENT"===f.code)return;throw c}e.isDirectory()?l(a,b,c):b.unlinkSync(a)}function i(a,b,c,d){n(a),n(b),c&&n(c instanceof Error),n("function"==typeof d),b.rmdir(a,function(e){!e||"ENOTEMPTY"!==e.code&&"EEXIST"!==e.code&&"EPERM"!==e.code?d(e&&"ENOTDIR"===e.code?c:e):j(a,b,d)})}function j(a,b,c){n(a),n(b),n("function"==typeof c),b.readdir(a,function(d,f){if(d)return c(d);var g=f.length;if(0===g)return b.rmdir(a,c);var h;f.forEach(function(d){e(o.join(a,d),b,function(d){return h?void 0:d?c(h=d):void(0===--g&&b.rmdir(a,c))})})})}function k(a,b){b=b||{},d(b),n(a,"rimraf: missing path"),n.equal(typeof a,"string","rimraf: path should be a string"),n(b,"rimraf: missing options"),n.equal(typeof b,"object","rimraf: options should be object");var c;if(q.hasMagic(a))try{p.lstatSync(a),c=[a]}catch(e){c=q.sync(a,r)}else c=[a];if(c.length)for(var f=0;f<c.length;f++){var a=c[f];try{var g=b.lstatSync(a)}catch(e){if("ENOENT"===e.code)return}try{g&&g.isDirectory()?l(a,b,null):b.unlinkSync(a)}catch(e){if("ENOENT"===e.code)return;if("EPERM"===e.code)return t?h(a,b,e):l(a,b,e);if("EISDIR"!==e.code)throw e;l(a,b,e)}}}function l(a,b,c){n(a),n(b),c&&n(c instanceof Error);try{b.rmdirSync(a)}catch(d){if("ENOENT"===d.code)return;if("ENOTDIR"===d.code)throw c;("ENOTEMPTY"===d.code||"EEXIST"===d.code||"EPERM"===d.code)&&m(a,b)}}function m(a,b){n(a),n(b),b.readdirSync(a).forEach(function(c){k(o.join(a,c),b)}),b.rmdirSync(a,b)}b.exports=e,e.sync=k;var n=a("assert"),o=a("path"),p=a("fs"),q=a("glob"),r={nosort:!0,nocomment:!0,nonegate:!0,silent:!0},s=0,t="win32"===c.platform}).call(this,a("_process"))},{_process:47,assert:38,fs:37,glob:68,path:46}]},{},[15]);