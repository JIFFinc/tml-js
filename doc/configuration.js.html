<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: configuration.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: configuration.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
 * Copyright (c) 2014 Michael Berkovich, TranslationExchange.com
 *
 *  _______                  _       _   _             ______          _
 * |__   __|                | |     | | (_)           |  ____|        | |
 *    | |_ __ __ _ _ __  ___| | __ _| |_ _  ___  _ __ | |__  __  _____| |__   __ _ _ __   __ _  ___
 *    | | '__/ _` | '_ \/ __| |/ _` | __| |/ _ \| '_ \|  __| \ \/ / __| '_ \ / _` | '_ \ / _` |/ _ \
 *    | | | | (_| | | | \__ \ | (_| | |_| | (_) | | | | |____ >  &lt; (__| | | | (_| | | | | (_| |  __/
 *    |_|_|  \__,_|_| |_|___/_|\__,_|\__|_|\___/|_| |_|______/_/\_\___|_| |_|\__,_|_| |_|\__, |\___|
 *                                                                                        __/ |
 *                                                                                       |___/
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

Tr8n.Configuration = function() {
  this.initDefaultTokens();
  this.initTranslatorOptions();
  this.initContextRules();
  this.enabled = true;
  this.default_locale = "en-US";
//  this.api_client_class = Tr8n.Api.Request;
};

Tr8n.Configuration.prototype = {
  initDefaultTokens: function() {
    this.default_tokens = {
        html : {
          data : {
            ndash  :  "&ndash;",       // –
            mdash  :  "&mdash;",       // —
            iexcl  :  "&iexcl;",       // ¡
            iquest :  "&iquest;",      // ¿
            quot   :  "&quot;",        // "
            ldquo  :  "&ldquo;",       // “
            rdquo  :  "&rdquo;",       // ”
            lsquo  :  "&lsquo;",       // ‘
            rsquo  :  "&rsquo;",       // ’
            laquo  :  "&laquo;",       // «
            raquo  :  "&raquo;",       // »
            nbsp   :  "&nbsp;",        // space
            lsaquo :  "&lsaquo;",      // ‹
            rsaquo :  "&rsaquo;",      // ›
            br     :  "&lt;br/>",         // line break
            lbrace :  "{",
            rbrace :  "}",
            trade  :  "&trade;"       // TM
          },
          decoration : {
            strong :  "&lt;strong>{$0}&lt;/strong>",
            bold   :  "&lt;strong>{$0}&lt;/strong>",
            b      :  "&lt;strong>{$0}&lt;/strong>",
            em     :  "&lt;em>{$0}&lt;/em>",
            italic :  "&lt;i>{$0}&lt;/i>",
            i      :  "&lt;i>{$0}&lt;/i>",
            link   :  "&lt;a href='{$href}'>{$0}&lt;/a>",
            br     :  "&lt;br>{$0}",
            strike :  "&lt;strike>{$0}&lt;/strike>",
            div    :  "&lt;div id='{$id}' class='{$class}' style='{$style}'>{$0}&lt;/div>",
            span   :  "&lt;span id='{$id}' class='{$class}' style='{$style}'>{$0}&lt;/span>",
            h1     :  "&lt;h1>{$0}&lt;/h1>",
            h2     :  "&lt;h2>{$0}&lt;/h2>",
            h3     :  "&lt;h3>{$0}&lt;/h3>"
          }
        },
        text : {
          data : {
            ndash  :  "–",
            mdash  :  "-",
            iexcl  :  "¡",
            iquest :  "¿",
            quot   :  '"',
            ldquo  :  "“",
            rdquo  :  "”",
            lsquo  :  "‘",
            rsquo  :  "’",
            laquo  :  "«",
            raquo  :  "»",
            nbsp   :  " ",
            lsaquo :  "‹",
            rsaquo :  "›",
            br     :  "\n",
            lbrace :  "{",
            rbrace :  "}",
            trade  :  "™"
          },
          decoration : {
            strong :  "{$0}",
            bold   :  "{$0}",
            b      :  "{$0}",
            em     :  "{$0}",
            italic :  "{$0}",
            i      :  "{$0}",
            link   :  "{$0}{$1}",
            br     :  "\n{$0}",
            strike :  "{$0}",
            div    :  "{$0}",
            span   :  "{$0}",
            h1     :  "{$0}",
            h2     :  "{$0}",
            h3     :  "{$0}"
          }
        }
      };

  },

  getDefaultToken: function(token, type, format) {
    type = type || "data"; format = format || "html";
    if (typeof this.default_tokens[format][type][token] === 'undefined') return null;
    return new String(this.default_tokens[format][type][token]);
  },

  setDefaultToken: function(token, value, type, format) {
    type = type || "data"; format = format || "html";
    this.default_tokens[format] = this.default_tokens[format] || {};
    this.default_tokens[format][type] = this.default_tokens[format][type] || {};
    this.default_tokens[format][type][token] = value;
  },

  initTranslatorOptions: function() {
    this.translator_options = {
      "debug": true,
      "debug_format_html": "&lt;span style='font-size:20px;color:red;'>{&lt;\/span> {$0} &lt;span style='font-size:20px;color:red;'>}&lt;\/span>",
      "debug_format": "{{{{$0}}}}",
      "split_sentences": false,
      "nodes": {
        "ignored":    [],
        "scripts":    ["style", "script"],
        "inline":     ["a", "span", "i", "b", "img", "strong", "s", "em", "u", "sub", "sup"],
        "short":      ["i", "b"],
        "splitters":  ["br", "hr"]
      },
      "attributes": {
        "labels": ["title", "alt"]
      },
      "name_mapping": {
        "b": "bold",
        "i": "italic",
        "a": "link",
        "img": "picture"
      },
      "data_tokens": {
        "special": false,
        "numeric": false,
        "numeric_name": "num"
      }
    }
  },

  initContextRules: function() {
    this.context_rules = {
      number: {
        variables: {}
      },
      gender: {
        variables: {
          "@gender": "gender"
        }
      },
      genders: {
        variables: {
          "@genders": function(list) {
            var genders = [];
            list.forEach(function(obj) {
              genders.push(obj.gender);
            });
            return genders;
          }
        }
      },
      date: {
        variables: {}
      },
      time: {
        variables: {}
      }
    };
  },

  getContextRules: function(key) {
    return this.context_rules[key] || {};
  },

  isDisabled: function() {
    return !enabled;
  },

  isEnabled: function() {
    return enabled;
  },

  getTokenObject: function(tokens, name) {
    if (tokens == null) return null;

    var object = tokens[name];
    if (typeof object === 'array')
      return object[0];

    return object.object || object;
  },

  getSupportedTokens: function() {
    return [
      [/(\{[^_:][\w]*(:[\w]+)*(::[\w]+)*\})/, Tr8n.Tokens.Data],
      [/(\{[^_:.][\w]*(\.[\w]+)(:[\w]+)*(::[\w]+)*\})/, Tr8n.Tokens.Method],
      [/(\{[^_:|][\w]*(:[\w]+)*(::[\w]+)*\s*\|\|?[^{^}]+\})/, Tr8n.Tokens.Piped]
    ];
  }

};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Tr8n.Application.html">Application</a></li></ul><h3>Global</h3><ul><li><a href="global.html#program">program</a></li><li><a href="global.html#Tr8n">Tr8n</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Tue Jul 15 2014 20:20:13 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
