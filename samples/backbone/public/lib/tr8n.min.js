/*! tr8n 01-08-2014 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports={enabled:!0,default_locale:"en-US",source_separator:"@:@",delayed_flush:!1,cache:{enabled:!0,adapter:"redis",host:"localhost",port:6379,version:1,timeout:3600},default_tokens:{html:{data:{ndash:"&ndash;",mdash:"&mdash;",iexcl:"&iexcl;",iquest:"&iquest;",quot:"&quot;",ldquo:"&ldquo;",rdquo:"&rdquo;",lsquo:"&lsquo;",rsquo:"&rsquo;",laquo:"&laquo;",raquo:"&raquo;",nbsp:"&nbsp;",lsaquo:"&lsaquo;",rsaquo:"&rsaquo;",br:"<br/>",lbrace:"{",rbrace:"}",trade:"&trade;"},decoration:{strong:"<strong>{$0}</strong>",bold:"<strong>{$0}</strong>",b:"<strong>{$0}</strong>",em:"<em>{$0}</em>",italic:"<i>{$0}</i>",i:"<i>{$0}</i>",link:"<a href='{$href}' class='{$class}' style='{$style}'>{$0}</a>",br:"<br>{$0}",strike:"<strike>{$0}</strike>",div:"<div id='{$id}' class='{$class}' style='{$style}'>{$0}</div>",span:"<span id='{$id}' class='{$class}' style='{$style}'>{$0}</span>",h1:"<h1>{$0}</h1>",h2:"<h2>{$0}</h2>",h3:"<h3>{$0}</h3>"}},text:{data:{ndash:"–",mdash:"-",iexcl:"¡",iquest:"¿",quot:'"',ldquo:"“",rdquo:"”",lsquo:"‘",rsquo:"’",laquo:"«",raquo:"»",nbsp:" ",lsaquo:"‹",rsaquo:"›",br:"\n",lbrace:"{",rbrace:"}",trade:"™"},decoration:{strong:"{$0}",bold:"{$0}",b:"{$0}",em:"{$0}",italic:"{$0}",i:"{$0}",link:"{$0}{$1}",br:"\n{$0}",strike:"{$0}",div:"{$0}",span:"{$0}",h1:"{$0}",h2:"{$0}",h3:"{$0}"}}},translator_options:{debug:!0,debug_format_html:"<span style='font-size:20px;color:red;'>{</span> {$0} <span style='font-size:20px;color:red;'>}</span>",debug_format:"{{{{$0}}}}",split_sentences:!1,nodes:{ignored:[],scripts:["style","script"],inline:["a","span","i","b","img","strong","s","em","u","sub","sup"],"short":["i","b"],splitters:["br","hr"]},attributes:{labels:["title","alt"]},name_mapping:{b:"bold",i:"italic",a:"link",img:"picture"},data_tokens:{special:!1,numeric:!1,numeric_name:"num"}},context_rules:{number:{variables:{}},gender:{variables:{"@gender":"gender"}},genders:{variables:{"@genders":function(a){var b=[];return a.forEach(function(a){b.push(a.gender)}),b}}},date:{variables:{}},time:{variables:{}}}}},{}],2:[function(a,b){var c={get:function(a,b,c){this.request("get",a,b,c)},post:function(a,b,c){this.request("post",a,b,c)},request:function(a,b,c,d){d||(d=function(){});var e,f=new XMLHttpRequest;if(a.match(/^get$/i)?(b=b+"?"+this.serialize(c||{}),e=null):e=this.serialize(c||{}),"withCredentials"in f)f.open(a,b,!0);else{if("undefined"==typeof XDomainRequest)return!1;f=new XDomainRequest,f.open(a,b)}f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),f.onload=function(){d(null,f,f.responseText)},f.onerror=function(a){d(a,f)},f.send(e)},serialize:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}};b.exports=c},{}],3:[function(a,b){var c=a("request"),d={get:function(a,b,d){d||(d=function(){}),c.get(a,{qs:b||{}},d)},post:function(a,b,d){d||(d=function(){}),c.post(a,{form:b||{}},d)}};b.exports=d},{}],4:[function(a,b){var c=a("./logger"),d=a("./utils"),e=a("./configuration"),f="/tr8n/api/",g=function(b){this.application=b,this.cache=e.getCache(),this.request=a("ajax"==e.api?"./api/ajax":"./api/request")};g.prototype={getAccessToken:function(a){return this.application.access_token?void a(error,this.application.access_token):void this.api("oauth/request_token",{client_id:this.application.key,client_secret:this.application.secret,grant_type:"client_credentials"},function(b,c){b||(this.application.access_token=c),a(b,c)}.bind(this))},normalizeParams:function(a,b,c,e){return d.isFunction(b)?(e=b,b={}):d.isFunction(c)&&(e=c,c={}),c=c||{},{path:a,params:b,options:c,callback:e}},get:function(a,b,c,d){var e=this.normalizeParams(a,b,c,d);e.options.method="get",this.api(e.path,e.params,e.options,e.callback)},post:function(a,b,c,d){var e=this.normalizeParams(a,b,c,d);e.options.method="post",this.api(e.path,e.params,e.options,e.callback)},api:function(a,b,e,g){var h=new Date;d.extend(b,{key:this.application.key});var i=this.application.getHost()+f+a,j=this,k=function(a,b,d){var e=new Date;c.log("api took "+(e-h)+" mls"),!a&&d?g(a,JSON.parse(d)):g(a,d)};"post"==e.method?j.request.post(i,b,k):e.cache_key&&this.cache?this.cache.fetch(e.cache_key,function(a){c.log("api "+e.method+" "+i,b),j.request.get(i,b,function(b,d,e){var f=new Date;c.log("api took "+(f-h)+" mls"),a(b,e)})},function(a,b){!a&&b?g(null,JSON.parse(b)):g(a,null)}):(c.log("api "+e.method+" "+i,b),j.request.get(i,b,k))}},b.exports=g},{"./api/ajax":2,"./api/request":3,"./configuration":10,"./logger":19,"./utils":32}],5:[function(a,b){(function(c){var d=a("./utils"),e=a("./configuration"),f=a("./logger"),g=a("./language"),h=a("./source"),i=a("./api_client"),j="https://translationexchange.com",k=function(a){d.extend(this,a),this.languages=[];for(var b in a.languages||[])this.languages.push(new g(d.extend(b,{application:this})));this.default_locale=e.default_locale,this.languages_by_locale={},this.sources_by_key={},this.missing_keys_by_source={},this.translation_keys={}};k.prototype={getHost:function(){return this.host||j},extend:function(a){d.extend(this,a)},isKeyRegistrationEnabled:function(){return null!==this.secret},addLanguage:function(a){return a.application=this,this.languages_by_locale[a.locale]=new g(a),this.getLanguage(a.locale)},getLanguage:function(a){return this.languages_by_locale[a||this.default_locale]},addSource:function(a){return a?(a.application=this,this.sources_by_key[a.source]=new h(a),this.getSource(a.source)):void 0},getSource:function(a){return this.sources_by_key[a]},isFeatureEnabled:function(a){return this.features&&this.features[a]},getApiClient:function(){return this.api_client||(this.api_client=new i(this)),this.api_client},init:function(a,b){a=a||{};var c=this;c.getApiClient().get("application",{definition:!0},{cache_key:c.key},function(d,e){if(d)throw console.log(d),d;c.extend(e),a.locales?c.loadLanguages(a.locales,a,function(){a.sources?c.loadSources(a.sources,a.current_locale,a,function(d){d.length>0&&d[0]&&d[0].sources?c.loadSources(d[0].sources,a.current_locale,a,function(){b(null)}):b(null)}):b(null)}):b(null)})},loadLanguages:function(a,b,c){d.isFunction(b)&&(c=b,b={});var e={},f=this;a.forEach(function(a){e[a]=function(b){f.getApiClient().get("language",{locale:a,definition:!0},{cache_key:a+"/language"},function(a,c){return a?void b(a,null):void b(null,new g(d.extend(c,{application:f})))})}}),d.parallel(e,function(a,b){if(a)throw console.log(a),a;Object.keys(b).forEach(function(a){f.addLanguage(b[a])}),c()})},loadDefaultLanguages:function(b,e,f){d.isFunction(e)&&(f=e,e={});var g=a("fs"),h={},i=this;b.forEach(function(a){h[a]=function(b){var d=c+"/../config/data/"+a+".json";console.log("Loading "+d+" ..."),g.readFile(d,function(a,c){if(a)throw console.log(a),a;b(null,c)})}}),d.parallel(h,function(a,b){if(a)throw console.log(a),a;Object.keys(b).forEach(function(a){i.addLanguage(h[a])}),f()})},getSourceKey:function(a,b){return b+"/["+a.replace("/","-")+"]"},loadSources:function(a,b,c,e){d.isFunction(c)&&(e=c,c={});var f={},g=this;a.forEach(function(a){f[a]=function(d){var e={};c.translator&&c.translator.inline||(e.cache_key=g.getSourceKey(a,b)),g.getApiClient().get("source",{source:a,locale:b,translations:!0,subsources:!0},e,function(a,b){return a?void d(a,null):void d(null,b)})}}),d.parallel(f,function(a,b){if(a)throw console.log(a),a;var c=[];Object.keys(b).forEach(function(a){c.push(b[a]),g.addSource(b[a])}),e(c)})},registerMissingTranslationKey:function(a,b){if(this.isKeyRegistrationEnabled()){f.log("Registering missing translation key: "+a+" "+b.label),this.missing_keys_by_source||(this.missing_keys_by_source={}),this.missing_keys_by_source[a]||(this.missing_keys_by_source[a]=[]),this.missing_keys_by_source[a][b.key]=b;var c=this;e.delayed_flush&&!c.submit_scheduled&&(c.submit_scheduled=!0,setTimeout(function(){c.submitMissingTranslationKeys()},3e3))}},submitMissingTranslationKeys:function(a){if(this.isKeyRegistrationEnabled()){if(!this.missing_keys_by_source)return void(a&&a(!1));var b=d.keys(this.missing_keys_by_source);if(0!==b.length){console.log("Submitting missing translation keys...");for(var c=[],f=["key","label","description","locale","level"],g=0;g<b.length;g++){for(var h=b[g],i=d.keys(this.missing_keys_by_source[h]),j=[],k=0;k<i.length;k++){for(var l=this.missing_keys_by_source[h][i[k]],m={},n=0;n<f.length;n++){var o=f[n];l[o]&&(m[o]=l[o])}j.push(m)}c.push({source:h,keys:j})}console.log(JSON.stringify(c));var p=this;p.missing_keys_by_source=null,this.getApiClient().post("source/register_keys",{source_keys:JSON.stringify(c)},function(){d.keys(p.languages_by_locale).forEach(function(a){b.forEach(function(b){b=b.split(e.source_separator),b.forEach(function(b){e.getCache().del(p.getSourceKey(b,a),function(){})})})}),a&&a()})}}},getTranslationKey:function(a){return this.translation_keys[a]},cacheTranslationKey:function(a){var b=this.getTranslationKey(a.key);if(b){for(var c=d.keys(a.translations||{}),e=0;e<c.length;e++){var f=a.translations[c[e]],g=this.getLanguage(c[e]);b.setTranslationsForLanguage(g,f)}return b}return a.setApplication(this),this.translation_keys[a.key]=a,a}},b.exports=k}).call(this,"/..")},{"./api_client":4,"./configuration":10,"./language":14,"./logger":19,"./source":22,"./utils":32,fs:33}],6:[function(a,b){var c=function(b){if(this.adapter=null,b&&b.enabled){var c=null;c=a("browser"==b.adapter?"./cache_adapters/browser":"inline"==b.adapter?"./cache_adapters/inline":"./cache_adapters/"+b.adapter),this.adapter=new c(b)}};c.prototype={fetch:function(a,b,c){this.adapter||c(null),this.adapter.fetch(a,b,c)},store:function(a,b,c){this.adapter||c(null),this.adapter.store(a,b,c)},del:function(a,b){this.adapter||b(null),this.adapter.del(a,b)},exists:function(a,b){this.adapter||b(null),this.adapter.exists(a,b)},getVersion:function(a){this.adapter||a(null),this.adapter.getVersion(a)},resetVersion:function(){this.adapter&&this.adapter.resetVersion()},incrementVersion:function(a){this.adapter||a(null),this.adapter.incrementVersion(a)}},b.exports=c},{"./cache_adapters/browser":8,"./cache_adapters/inline":9}],7:[function(a,b){var c=a("../logger"),d="__tr8n_version__",e="tr8n_v",f=function(){};f.prototype={read_only:!0,cached_by_source:!0,name:"",initialize:function(a){this.config=a||{},this.cache=this.create()},create:function(){},fetch:function(){},store:function(){},del:function(){},exists:function(){},warn:function(a){c.log(this.name+" - "+a)},info:function(a){c.log(this.name+" - "+a)},incrementVersion:function(a){this.getVersion(function(b){this.version=parseInt(b)+1,this.store(d,this.version,function(){a&&a(this.version)}.bind(this))}.bind(this))},getVersion:function(a){return this.version?void(a&&a(this.version)):void this.fetch(d,1,function(b,c){this.version=c,a&&a(this.version)}.bind(this))},setVersion:function(a,b){this.version=a,this.store(d,this.version,function(){b&&b(this.version)}.bind(this))},resetVersion:function(){this.version=null},getVersionedKey:function(a){return a==d?a:e+this.version+"_"+a}},b.exports=f},{"../logger":19}],8:[function(a,b){var c=a("../utils"),d=a("./base"),e=function(a){this.initialize(a),this.getVersion(function(b){a.version&&b!=a.version&&(this.clear(),this.setVersion(a.version))}.bind(this))};e.prototype=c.extend(new d,{name:"browser",read_only:!1,create:function(){return window.localStorage},fetch:function(a,b,d){var e=this.cache.getItem(this.getVersionedKey(a));e?(this.info("cache hit "+a),d(null,e)):(this.info("cache miss "+a),c.isFunction(b)?b(function(b,c){c?this.store(a,c,function(){d(null,c)}):d("no data",null)}.bind(this)):b&&this.store(a,b,function(a,b){d(null,b)}))},store:function(a,b,c){this.info("cache store "+a),this.cache.setItem(this.getVersionedKey(a),b),c&&c(null,JSON.stringify(b))},del:function(a,b){this.info("cache del "+a),this.cache.removeItem(this.getVersionedKey(a)),b&&b(null)},exists:function(a,b){var c=this.cache.getItem(this.getVersionedKey(a));b&&b(!!c)},clear:function(){for(var a in this.cache)a.match(/^tr8n_v/)&&this.cache.removeItem(a)}}),b.exports=e},{"../utils":32,"./base":7}],9:[function(a,b){var c=a("../utils"),d=a("./base"),e=function(a){this.initialize(a)};e.prototype=c.extend(new d,{name:"inline",read_only:!0,create:function(){return window.Tr8nCache=window.Tr8nCache||{},window.Tr8nCache},fetch:function(a,b,d){var e=this.cache[a];return e?(this.info("cache hit "+a),e=JSON.stringify(e),void(d&&d(null,e))):(this.info("cache miss "+a),c.isFunction(b)?void b(function(a,b){d(a,b)}):(e=b||null,e&&(e=JSON.stringify(e)),void(d&&d(null,e))))},store:function(a,b){return this.info("the cache is readonly. can't store data"),b},del:function(){this.info("the cache is readonly. can't delete data")},exists:function(a,b){b&&b(!!this.cache[a])}}),b.exports=e},{"../utils":32,"./base":7}],10:[function(a,b){var c=a("./cache"),d=a("./utils"),e=a("./../config/config.js"),f=function(){d.merge(this,e)};f.prototype={initCache:function(){return this.cache&&this.cache.enabled?(this.cacheAdapter=new c(this.cache),this.cacheAdapter):!1},getCache:function(){return this.cacheAdapter?this.cacheAdapter:!1},getDefaultToken:function(a,b,c){if(b=b||"data",c=c||"html",this.default_tokens[c][b][a])return this.default_tokens[c][b][a];var d=a.split("_");return a=d[d.length-1],a=a.replace(/_*\d+$/,""),this.default_tokens[c][b][a]?this.default_tokens[c][b][a]:null},setDefaultToken:function(a,b,c,d){c=c||"data",d=d||"html",this.default_tokens[d]=this.default_tokens[d]||{},this.default_tokens[d][c]=this.default_tokens[d][c]||{},this.default_tokens[d][c][a]=b},getContextRules:function(a){return this.context_rules[a]||{}},setContextRules:function(a,b,c){return this.context_rules[a]?void(this.context_rules[a].variables[b]=c):!1},isDisabled:function(){return!this.isEnabled()},isEnabled:function(){return this.enabled}},b.exports=new f},{"./../config/config.js":1,"./cache":6,"./utils":32}],11:[function(a,b){var c={decorate:function(a,b,c,d,e){if(e=e||{},e.skip_decorations||d.language==c||!e.current_translator||!e.current_translator.inline||d.locked&&!e.current_translator.manager)return a;var f="tr8n:tr",g=["tr8n_translatable"];if(d.locked){if(!e.current_translator.isFeatureEnabled("show_locked_keys"))return a;g.push("tr8n_locked")}else g.push(b.locale===c.locale?"tr8n_translated":"tr8n_not_translated");var h=[];return h.push("<"+f+" class='"+g.join(" ")+"' data-translation_key='"+d.key+"'>"),h.push(a),h.push("</"+f+">"),h.join("")}};b.exports=c},{}],12:[function(require,module,exports){var config=require("../configuration"),utils=require("../utils"),helpers=require("../helpers/scripts"),Application=require("../application"),Translator=require("../translator"),DomTokenizer=require("../tokenizers/dom"),app=null,includeTools=function(app,callback){utils.addCSS(window.document,app.host+"/assets/tr8n/tools.css",!1),utils.addCSS(window.document,app.css,!0),utils.addJS(window.document,"tr8n-jssdk",app.host+"/assets/tr8n/tools.js",function(){Tr8n.app_key=app.key,Tr8n.host=app.host,Tr8n.sources=[],Tr8n.default_locale=app.default_locale,Tr8n.page_locale=config.current_locale,Tr8n.locale=config.current_locale;var shortcutFn=function(sc){return function(){eval(app.shortcuts[sc])}};if(app.isFeatureEnabled("shortcuts"))for(var sc in app.shortcuts)shortcut.add(sc,shortcutFn(sc));callback&&callback()})},tr8n={application:null,block_options:[],init:function(a,b,c,d){var e=utils.decodeAndVerifyParams(utils.getCookie(a)),f=e&&e.translator?new Translator(e.translator):null,g="en-US",h=e&&e.locale?e.locale:g,i=c.source||"/",j=null;c.element&&(j="string"==typeof c.element?document.getElementById(c.element):c.element,j.style.display="none"),c=utils.merge(config,{host:c.host||"https://translationexchange.com",default_locale:g,current_locale:h,current_source:i,current_translator:f,delayed_flush:!0,api:"ajax",cache:{enabled:!0,adapter:"browser"}},c),config.initCache(),app=tr8n.application=new Application({key:a,secret:b,host:c.host});var k=[app.default_locale];h?k.push(h):h=app.default_locale,app.init({current_locale:h,locales:k,sources:[i],translator:f},function(a){if(a)throw new Error(a);includeTools(app,function(){null!==j&&(tr8n.translateElement(j),j.style.display="block"),d&&d()})})},translate:function(a,b,c,d){if(!app)throw new Error("Invalid application.");return"string"!=typeof b&&(d=c||{},c=b||{},b=""),d=utils.extend({},{current_locale:config.current_locale,current_source:config.current_source,current_translator:config.current_translator,block_options:tr8n.block_options||[]},d),tr8n.getCurrentLanguage().translate(a,b,c,d)},translateLabel:function(a,b,c,d){return"string"!=typeof b&&(d=c||{},c=b||{},b=""),d=utils.extend({},{skip_decorations:!0},d),tr8n.translate(a,b,c,d)},translateElement:function(a){var b="string"==typeof a?document.getElementById(a):a;config.currentLanguage=app.getLanguage(config.current_locale);var c=new DomTokenizer(b,{},{debug:!1,"data_tokens.numeric":!0,current_source:config.current_source,current_translator:config.current_translator}),d=c.translate();b.innerHTML=d},getApplication:function(){return app},getCurrentSource:function(){return config.current_source},getCurrentTranslator:function(){return config.current_translator},getCurrentLanguage:function(){return app.getLanguage(config.current_locale)||app.getLanguage(config.default_locale)},getLanguageSelector:function(){return helpers.language_selector(app,{current_language:tr8n.getCurrentLanguage()})},block:function(a,b){tr8n.block_options.unshift(a),b(),tr8n.block_options.pop()},beginBlock:function(a){tr8n.block_options.unshift(a)},endBlock:function(){tr8n.block_options.pop()}};window.tr8n=tr8n,window.tr=tr8n.translate,window.trl=tr8n.translateLabel,window.tre=tr8n.translateElement,window.tr8n_application=tr8n.getApplication,window.tr8n_current_source=tr8n.getCurrentSource,window.tr8n_current_translator=tr8n.getCurrentTranslator,window.tr8n_current_language=tr8n.getCurrentLanguage,window.tr8n_language_selector=tr8n.getLanguageSelector,window.tr8n_block=tr8n.block,window.tr8n_begin_block=tr8n.beginBlock,window.tr8n_end_block=tr8n.endBlock},{"../application":5,"../configuration":10,"../helpers/scripts":13,"../tokenizers/dom":25,"../translator":31,"../utils":32}],13:[function(a,b,c){c.header=function(a,b){b=b||{};var c="";if(c+="<script>",c+="\nfunction tr8n_add_css(doc, value, inline) {",c+="\n  var css = null;",c+="\n  if (inline) {",c+="\n    css = doc.createElement('style'); css.type = 'text/css';",c+="\n    if (css.styleSheet) css.styleSheet.cssText = value;",c+="\n    else css.appendChild(document.createTextNode(value));",c+="\n  } else {",c+="\n    css = doc.createElement('link'); css.setAttribute('type', 'text/css');",c+="\n    css.setAttribute('rel', 'stylesheet'); css.setAttribute('media', 'screen');",c+="\n    if (value.indexOf('//') != -1) css.setAttribute('href', value);",c=c+"\n    else css.setAttribute('href', '"+a.getHost()+"' + value);",c+="\n  }",c+="\n  doc.getElementsByTagName('head')[0].appendChild(css);",c+="\n  return css;",c+="\n}",c+="\nfunction tr8n_add_script(doc, id, src, onload) {",c+="\n  var script = doc.createElement('script');",c+="\n  script.setAttribute('id', id); script.setAttribute('type', 'application/javascript');",c+="\n  if (src.indexOf('//') != -1)  script.setAttribute('src', src);",c=c+"\n  else script.setAttribute('src', '"+a.getHost()+"' + src);",c+="\n  script.setAttribute('charset', 'UTF-8');",c+="\n  if (onload) script.onload = onload;",c+="\n  doc.getElementsByTagName('head')[0].appendChild(script);",c+="\n  return script;",c+="\n}",c+="\n(function() {",c+="\n  if (window.addEventListener) window.addEventListener('load', tr8n_init, false);",c+="\n  else if (window.attachEvent) window.attachEvent('onload', tr8n_init);",c+="\n  window.setTimeout(function() {tr8n_init();}, 1000);",c+="\n  function tr8n_init() {",c+="\n    if (window.tr8n_already_initialized) return;",c+="\n    window.tr8n_already_initialized = true;",c+="\n    tr8n_add_css(window.document, '/assets/tr8n/tools.css', false);",c=c+'\n    tr8n_add_css(window.document, "'+a.css+'", true);',c+="\n    tr8n_add_script(window.document, 'tr8n-jssdk', '/assets/tr8n/tools.js', function() {",c=c+"\n      Tr8n.app_key = '"+a.key+"';",c=c+"\n      Tr8n.host = '"+a.getHost()+"';",c+="\n      Tr8n.sources = [];",c=c+"\n      Tr8n.default_locale = '"+a.default_locale+"';",c=c+"\n      Tr8n.page_locale = '"+b.current_language.locale+"';",c=c+"\n      Tr8n.locale = '"+b.current_language.locale+"';",a.isFeatureEnabled("shortcuts"))for(var d=Object.keys(a.shortcuts||{}),e=0;e<d.length;e++)c=c+"\n       shortcut.add('"+d[e]+"', function() {",c=c+"\n         "+a.shortcuts[d[e]],c+="\n       });";return c+="\n      if (typeof(tr8n_on_ready) === 'function') tr8n_on_ready();",c+="\n      if (typeof(tr8n_footer_scripts) === 'function') tr8n_footer_scripts();",c+="\n    })",c+="\n  }",c+="\n})();",c+="</script>"},c.language_selector=function(a,b){var c="";return c+="<a href='#' onclick='Tr8n.UI.LanguageSelector.show();'>",c=c+"<img src='"+b.current_language.flag_url+"'> &nbsp;",c+=b.current_language.name,c+="</a>"}},{}],14:[function(a,b){var c=a("./utils"),d=a("./configuration"),e=a("./language_context"),f=a("./language_case"),g=a("./translation_key"),h=function(a){c.extend(this,a),this.contexts={};for(var b=c.keys(a.contexts||{}),d=0;d<b.length;d++)this.contexts[b[d]]=new e(c.extend(a.contexts[b[d]],{language:this}));for(this.cases={},b=c.keys(a.cases||{}),d=0;d<b.length;d++)this.cases[b[d]]=new f(c.extend(a.cases[b[d]],{language:this}))};h.prototype={getContextByKeyword:function(a){return this.contexts[a]},getContextByTokenName:function(a){for(var b=c.keys(this.contexts||{}),d=0;d<b.length;d++)if(this.contexts[b[d]].isAppliedToToken(a))return this.contexts[b[d]];return null},getLanguageCaseByKeyword:function(a){return this.cases[a]},isDefault:function(){return this.locale==d.default_locale},translate:function(a,b,c,e){"string"!=typeof b&&(e=c||{},c=b||{},b="");var f=new g({label:a,description:b,language:this.application?this.application.getLanguage():null});if(e.current_source&&this.application){var h=this.getSourcePath(e),i=h[h.length-1],j=this.application.getSource(i),k=j?j.getTranslationKey(f.key):null;if(k)f=k;else{this.application.registerMissingTranslationKey(h.join(d.source_separator),f);var l=this.application.getTranslationKey(f.key);l&&(f=l)}}return f.translate(this,c,e)},getSourcePath:function(a){if(!a.block_options)return[a.current_source];for(var b=[],c=0;c<a.block_options.length;c++){var d=a.block_options[c];d.source&&b.push(d.source)}return b=b.reverse(),b.unshift(a.current_source),b}},b.exports=h},{"./configuration":10,"./language_case":15,"./language_context":17,"./translation_key":30,"./utils":32}],15:[function(a,b){var c=a("./utils"),d=a("./configuration"),e=a("./language_case_rule"),f=function(a){c.extend(this,a),this.rules=[],a.rules=a.rules||[];for(var b=0;b<a.rules.length;b++)this.rules.push(new e(c.extend(a.rules[b],{language_case:this})))};f.prototype={findMatchingRule:function(a,b){for(var c=0;c<this.rules.length;c++){var d=this.rules[c];if(d.evaluate(a,b))return d}return null},apply:function(a,b,d){var e=c.unique(a.match(/<\/?[^>]*>/g)||[]),f=a.replace(/<\/?[^>]*>/g,""),g=[f];"phrase"!=this.application&&(g=c.unique(f.split(/[\s\/]/)||[]));for(var h=0;h<e.length;h++)a=a.replace(e[h],"{$h"+h+"}");for(h=0;h<g.length;h++)a=a.replace(g[h],"{$w"+h+"}");var i=[];for(h=0;h<g.length;h++){var j=g[h],k=this.findMatchingRule(j,b),l=k?k.apply(j):j;i.push(this.decorate(j,l,k,d))}for(h=0;h<g.length;h++)a=a.replace("{$w"+h+"}",i[h]);for(h=0;h<e.length;h++)a=a.replace("{$h"+h+"}",e[h]);return a},getConfig:function(){return d},decorate:function(a,b,c,e){return e&&e.skip_decoration||!this.language||this.language.isDefault()||!d.current_translator||!d.current_translator.isInlineModeEnabled()?b:"<tr8n:tr class='tr8n_language_case' data-original='"+a.replaceAll("'","'")+"'>"+b+"</tr8n:tr>"}},b.exports=f},{"./configuration":10,"./language_case_rule":16,"./utils":32}],16:[function(a,b){var c=a("./utils"),d=a("./rules_engine/parser"),e=a("./rules_engine/evaluator"),f=function(a){c.extend(this,a)};f.prototype={getConditionsExpression:function(){return this.conditions_expression||(this.conditions_expression=new d(this.conditions).parse()),this.conditions_expression},getOperationsExpression:function(){return this.operations_expression||(this.operations_expression=new d(this.operations).parse()),this.operations_expression},getGenderVariables:function(a){if(-1==this.conditions.indexOf("@gender"))return{};if(!a)return{gender:"unknown"};var b=this.language_case.language.getContextByKeyword("gender");return b?b.getVars(a):{gender:"unknown"}},evaluate:function(a,b){if(!this.conditions)return!1;var d=new e;return d.setVars(c.extend({"@value":a},this.getGenderVariables(b))),d.evaluate(this.getConditionsExpression())},apply:function(a){if(!this.operations)return a;var b=new e;return b.setVars({"@value":a}),b.evaluate(this.getOperationsExpression())}},b.exports=f},{"./rules_engine/evaluator":20,"./rules_engine/parser":21,"./utils":32}],17:[function(a,b){var c=a("./utils"),d=a("./configuration"),e=a("./language_context_rule"),f=function(a){c.extend(this,a),this.rules={};for(var b=c.keys(a.rules||{}),d=0;d<b.length;d++)this.rules[b[d]]=new e(c.extend(a.rules[b[d]],{language_context:this}))};f.prototype={isAppliedToToken:function(a){var b=new RegExp(this.token_expression.substring(1,this.token_expression.length-2));return null!==a.match(b)},getFallbackRule:function(){if(!this.fallback_rule)for(var a=c.keys(this.rules),b=0;b<a.length;b++){var d=a[b];this.rules[d].isFallback()&&(this.fallback_rule=this.rules[d])}return this.fallback_rule},getConfig:function(){return d.getContextRules(this.keyword)},getVars:function(a){for(var b={},c=this.getConfig(),d=0;d<this.variables.length;d++){var e=this.variables[d];if(c.variables&&c.variables[e]){var f=c.variables[e];"string"==typeof f?(a.object&&(a=a.object),b[e]=a[f]):b[e]="function"==typeof f?f(a):a}else b[e]=a}return b},findMatchingRule:function(a){for(var b=this.getVars(a),d=c.keys(this.rules),e=0;e<d.length;e++){var f=this.rules[d[e]];if(!f.isFallback()&&f.evaluate(b))return f}return this.getFallbackRule()}},b.exports=f},{"./configuration":10,"./language_context_rule":18,"./utils":32}],18:[function(a,b){var c=a("./utils"),d=a("./rules_engine/parser"),e=a("./rules_engine/evaluator"),f=function(a){c.extend(this,a)};f.prototype={isFallback:function(){return"other"==this.keyword},getConditionsExpression:function(){return this.conditions_expression||(this.conditions_expression=new d(this.conditions).parse()),this.conditions_expression},evaluate:function(a){if(this.isFallback())return!0;var b=new e;return b.setVars(a||{}),b.evaluate(this.getConditionsExpression())}},b.exports=f},{"./rules_engine/evaluator":20,"./rules_engine/parser":21,"./utils":32}],19:[function(a,b){var c=(a("./utils"),{log:function(a,b){var c="Tr8n: "+a;b&&(c=c+" "+JSON.stringify(b)),console.log(c)}});b.exports=c},{"./utils":32}],20:[function(a,b){var c=function(a){return this.vars={},this.ctx=a||{label:function(a,b){return this.vars[a]=this.ctx[a]=b,b},quote:function(a){return a},car:function(a){return a[1]},cdr:function(a){return a.shift(),a},cons:function(a,b){return b.unshift(a),b},eq:function(a,b){return a==b},atom:function(a){return!(typeof a in{object:1,array:1,"function":1})},cond:function(a,b,c){return this.evaluate(this.evaluate(a)?b:c)},set:function(a,b){return this.vars[a]=this.ctx[a]=b,b},"=":function(a,b){return a==b},"!=":function(a,b){return a!=b},"<":function(a,b){return b>a},">":function(a,b){return a>b},"+":function(a,b){return a+b},"-":function(a,b){return a-b},"*":function(a,b){return a*b},"%":function(a,b){return a%b},mod:function(a,b){return a%b},"/":function(a,b){return 1*a/b},"!":function(a){return!a},not:function(a){return!a},"&&":function(){return Array.prototype.slice.call(arguments).every(this.evaluate.bind(this))},and:function(){return Array.prototype.slice.call(arguments).every(this.evaluate.bind(this))},"||":function(){return!!Array.prototype.slice.call(arguments).filter(this.evaluate.bind(this)).length},or:function(){return!!Array.prototype.slice.call(arguments).filter(this.evaluate.bind(this)).length},"if":function(a,b,c){return this.evaluate(this.evaluate(a)?b:c)},let:function(a,b){return this.vars[a]=b,b},"true":function(){return!0},"false":function(){return!1},date:function(a){return new Date(a)},today:function(){return new Date},time:function(a){return new Date(a)},now:function(){return Date.now()},append:function(a,b){return String(b)+String(a)},prepend:function(a,b){return String(a)+String(b)},match:function(a,b){return a=this._stringToRegexp(a),!!b.match(a)},"in":function(a,b){var c,d=this._range;return a=a.replace(/\s/g,"").replace(/(\w+)\.\.(\w+)/g,function(a,b,e){return c=d(b,e),c.push(e),c.join()}),-1!=a.split(",").indexOf(String(b))},within:function(a,b){var c=a.split("..").map(function(a){return parseInt(a)});return c[0]<=b&&b<=c[1]},replace:function(a,b,c){return a=this._stringToRegexp(a),c.replace(a,b)},count:function(a){return("string"==typeof a?this.vars[a]:a).length},all:function(a,b){return a="string"==typeof a?this.vars[a]:a,a instanceof Array?a.every(function(a){return a==b}):!1},any:function(a,b){return a="string"==typeof a?this.vars[a]:a,a instanceof Array?!!a.filter(function(a){return a==b}):!1}},this};c.prototype={_range:function(a,b){var c=[],d=!String(a).match(/^\d+$/);for(a=d?a.charCodeAt(0):parseInt(a),b=d?b.charCodeAt(0):parseInt(b);b>=a;)c.push(d?String.fromCharCode(a):String(a)),a+=1;return c},_stringToRegexp:function(a){var b=new RegExp("^/","g");return a.match(b)?(a=a.replace(b,""),a.match(/\/i$/)?(a=a.replace(/\/i$/g,""),new RegExp(a,"ig")):(a=a.replace(/\/$/,""),new RegExp(a,"g"))):new RegExp(a,"g")},setVars:function(a){this.vars=a},getVars:function(){return this.vars},apply:function(a,b){return"function"==typeof this.ctx[a]?this.ctx[a].apply(this,b):this.ctx[a]},evaluate:function(a){if(this.ctx.atom.call(this,a))return"string"==typeof a&&this.vars[a]?this.vars[a]:a in this.ctx?this.ctx[a]:a;var b=a[0],c=a.slice(1);return-1==["quote","car","cdr","cond","if","&&","||","and","or","true","false","let","count","all","any"].indexOf(b)&&(c=c.map(this.evaluate.bind(this))),this.apply(b,c)}},b.exports=c},{}],21:[function(a,b){var c=function(a){this.tokenize(a)};c.prototype={tokenize:function(a){this.tokens=a.match(/[()]|\w+|@\w+|[\+\-\!\|\=>&<\*\/%]+|\".*?\"|'.*?'/g)},parse:function(){return(token=this.tokens.shift())?"("==token?this.parseList():token.match(/^['"].*/)?token.slice(1,-1):token.match(/\d+/)?parseInt(token):String(token):void 0},parseList:function(){for(var a=[];this.tokens.length>0&&")"!=this.tokens[0];)a.push(this.parse());return this.tokens.shift(),a}},b.exports=c},{}],22:[function(a,b){var c=a("./utils"),d=(a("./configuration"),a("./translation_key")),e=function(a){c.extend(this,a),this.translation_keys={},keys=c.keys(a.translation_keys||{});for(var b=0;b<keys.length;b++){var e=a.translation_keys[keys[b]];e=new d(c.extend(e,{application:this.application})),this.translation_keys[e.key]=e}};e.prototype={getTranslationKey:function(a){return this.translation_keys[a]}},b.exports=e},{"./configuration":10,"./translation_key":30,"./utils":32}],23:[function(a,b){var c=(a("../configuration"),a("../tokens/data")),d=a("../tokens/method"),e=a("../tokens/piped"),f=function(a){this.label=a,this.tokenize()};f.prototype={tokenize:function(){this.tokens=[];for(var a=this.getSupportedTokens(),b=""+this.label,c=0;c<a.length;c++){for(var d=a[c],e=b.match(d[0])||[],f=0;f<e.length;f++)this.tokens.push(new d[1](e[f],this.label));
b=b.replace(a[c][0],"")}},getSupportedTokens:function(){return[[/(\{[^_:][\w]*(:[\w]+)*(::[\w]+)*\})/g,c],[/(\{[^_:.][\w]*(\.[\w]+)(:[\w]+)*(::[\w]+)*\})/g,d],[/(\{[^_:|][\w]*(:[\w]+)*(::[\w]+)*\s*\|\|?[^{^}]+\})/g,e]]},isTokenAllowed:function(a,b){return b.allowed_tokens?-1!=b.allowed_tokens.indexOf(a):!0},substitute:function(a,b,c){c=c||{};for(var d=this.label,e=0;e<this.tokens.length;e++){var f=this.tokens[e];this.isTokenAllowed(f.name,c)&&(d=f.substitute(d,b,a,c))}return d}},b.exports=f},{"../configuration":10,"../tokens/data":26,"../tokens/method":27,"../tokens/piped":28}],24:[function(a,b){var c=a("../utils"),d=a("../configuration"),e="tr8n",f="\\[[\\w]*:",g="\\]",h="\\[[\\w]*\\]",i="\\[\\/[\\w]*\\]",j="[^\\[\\]]+",k="short",l="long",m="{$0}",n=function(a){this.label="["+e+"]"+a+"[/"+e+"]",this.fragments=[],this.tokens=[],this.tokenize()};n.prototype={tokenize:function(){var a=new RegExp([f,g,h,i,j].join("|"),"g");return this.fragments=this.label.match(a),this.fragments},peek:function(){return 0===this.fragments.length?null:this.fragments[0]},getNextFragment:function(){return 0===this.fragments.length?null:this.fragments.shift()},parse:function(){var a=this.getNextFragment();return a.match(new RegExp(f))?this.parseTree(a.replace(/[\[:]/g,""),k):a.match(new RegExp(h))?this.parseTree(a.replace(/[\[\]]/g,""),l):a},parseTree:function(a,b){var c=[a];if(-1==this.tokens.indexOf(a)&&a!=e&&this.tokens.push(a),b==k)for(var d=!0;null!==this.peek()&&!this.peek().match(new RegExp(g));){var f=this.parse();d&&"string"==typeof f&&(f=f.replace(/^\s+/,""),d=!1),c.push(f)}else if(b==l)for(;null!==this.peek()&&!this.peek().match(new RegExp(i));)c.push(this.parse());return this.getNextFragment(),c},isTokenAllowed:function(a){return!this.options.allowed_tokens||-1!=this.options.allowed_tokens.indexOf(a)},getDefaultDecoration:function(a,b){var e=d.getDefaultToken(a,"decoration");if(null===e)return b;var f=this.context[a];if(e=e.replace(m,b),c.isObject(f)){for(var g=c.keys(f),h=0;h<g.length;h++)e=e.replace("{$"+g[h]+"}",f[g[h]]);e=e.replace(/[\w]*=['"]\{\$[^\}]*\}['"]/g,"").replace(/\s*>/,">").trim()}return e},apply:function(a,b){if(a==e)return b;if(!this.isTokenAllowed(a))return b;var c=this.context[a];return c?"string"==typeof c?c.replace(m,b):"function"==typeof c?c(b):"object"==typeof c?this.getDefaultDecoration(a,b):b:this.getDefaultDecoration(a,b)},evaluate:function(a){if(!(a instanceof Array))return a;var b=a[0];a.shift();for(var c=this,d=[],e=0;e<a.length;e++)d.push(c.evaluate(a[e]));return this.apply(b,d.join(""))},substitute:function(a,b){return this.context=a||{},this.options=b||{},this.evaluate(this.parse())}},b.exports=n},{"../configuration":10,"../utils":32}],25:[function(a,b){var c=a("../utils"),d=a("../configuration"),e=/(&[^;]*;)/g,f=/^(\d+)$|^(\d+[.,;\s])|(\s\d+)$|(\s\d+[,;\s])/g,g=function(a,b,c){this.doc=a,this.context=b||{},this.tokens=[],this.options=c||{}};g.prototype={translate:function(){return this.translateTree(this.doc)},translateTree:function(a){if(this.isNonTranslatableNode(a))return 1==a.childNodes.length?a.childNodes[0].nodeValue:"";if(3==a.nodeType)return this.translateTml(a.nodeValue);for(var b="",c="",d=0;d<a.childNodes.length;d++){var e=a.childNodes[d];if(3==e.nodeType)c+=e.nodeValue;else if(this.isInlineNode(e)&&this.hasInlineOrTextSiblings(e)&&!this.isBetweenSeparators(e))c+=this.generateTmlTags(e);else if(this.isSeparatorNode(e))""!==c&&(b+=this.translateTml(c)),b+=this.generateHtmlToken(e),c="";else{""!==c&&(b+=this.translateTml(c));var f=this.translateTree(e);b+=this.isIgnoredNode(e)?f:this.generateHtmlToken(e,f),c=""}}return""!==c&&(b+=this.translateTml(c)),b},isNonTranslatableNode:function(a){return a?1==a.nodeType&&-1!=this.getOption("nodes.scripts").indexOf(a.nodeName.toLowerCase())?!0:1==a.nodeType&&0===a.childNodes.length&&""===a.nodeValue?!0:!1:!1},translateTml:function(a){if(this.isEmptyString(a))return a;if(a=this.generateDataTokens(a),this.getOption("split_sentences")){sentences=c.splitSentences(a),translation=a;var b=this;return sentences.forEach(function(a){var c=b.getOption("debug")?b.debugTranslation(a):d.currentLanguage.translate(a,b.tokens,b.options);translation=translation.replace(a,c)}),this.resetContext(),translation}return a=a.replace(/[\n]/g,"").replace(/\s\s+/g," ").trim(),translation=this.getOption("debug")?this.debugTranslation(a):d.currentLanguage.translate(a,this.tokens,this.options),this.resetContext(),translation},hasChildNodes:function(a){return a.childNodes?a.childNodes.length>0:!1},isBetweenSeparators:function(a){return this.isSeparatorNode(a.previousSibling)&&!this.isValidTextNode(a.nextSibling)?!0:this.isSeparatorNode(a.nextSibling)&&!this.isValidTextNode(a.previousSibling)?!0:!1},generateTmlTags:function(a){for(var b="",c=this,d=0;d<a.childNodes.length;d++){var e=a.childNodes[d];b+=3==e.nodeType?e.nodeValue:c.generateTmlTags(e)}var f=c.generateHtmlToken(a),g=this.contextualize(this.adjustName(a),f),h=this.sanitizeValue(b);return this.isSelfClosingNode(a)?"{"+g+"}":this.isShortToken(g,h)?"["+g+": "+h+"]":"["+g+"]"+h+"[/"+g+"]"},getOption:function(a){return"undefined"==typeof this.options[a]||null===this.options[a]?c.hashValue(d.translator_options,a):this.options[a]},debugTranslation:function(a){return this.getOption("debug_format").replace("{$0}",a)},isEmptyString:function(a){return a=a.replace(/[\s\n\r\t\0\x0b\xa0\xc2]/g,""),""===a},resetContext:function(){this.tokens=[].concat(this.context)},isShortToken:function(a,b){return-1!=this.getOption("nodes.short").indexOf(a.toLowerCase())||b.length<20},isOnlyChild:function(a){return a.parentNode?1==a.parentNode.childNodes.length:!1},hasInlineOrTextSiblings:function(a){if(!a.parentNode)return!1;for(var b=0;b<a.parentNode.childNodes.length;b++){var c=a.parentNode.childNodes[b];if(c!=a&&(this.isInlineNode(c)||this.isValidTextNode(c)))return!0}return!1},isInlineNode:function(a){return 1==a.nodeType&&-1!=this.getOption("nodes.inline").indexOf(a.tagName.toLowerCase())&&!this.isOnlyChild(a)},isContainerNode:function(a){return 1==a.nodeType&&!this.isInlineNode(a)},isSelfClosingNode:function(a){return!a.firstChild},isIgnoredNode:function(a){return 1!=a.nodeType?!0:-1!=this.getOption("nodes.ignored").indexOf(a.tagName.toLowerCase())},isValidTextNode:function(a){return a?3==a.nodeType&&!this.isEmptyString(a.nodeValue):!1},isSeparatorNode:function(a){return a?1==a.nodeType&&-1!=this.getOption("nodes.splitters").indexOf(a.tagName.toLowerCase()):!1},sanitizeValue:function(a){return a.replace(/^\s+/,"")},replaceSpecialCharacters:function(a){if(!this.getOption("data_tokens.special"))return a;var b=a.match(e),c=this;return b.forEach(function(b){token=b.substring(1,b.length-2),c.context[token]=b,a=a.replace(b,"{"+token+"}")}),a},generateDataTokens:function(a){if(!this.getOption("data_tokens.numeric"))return a;var b=a.match(f),c=this.getOption("data_tokens.numeric_name"),d=this;return b&&b.forEach(function(b){var e=b.replace(/[.,;\s]/g,""),f=d.contextualize(c,parseInt(e)),g=b.replace(e,"{"+f+"}");a=a.replace(b,b.replace(e,g))}),a},generateHtmlToken:function(a,b){var d=a.tagName.toLowerCase(),e=a.attributes,f={};if(b=b?b:"{$0}",0===e.length)return this.isSelfClosingNode(a)?"br"==d||"hr"==d?"<"+d+"/>":"<"+d+"></"+d+">":"<"+d+">"+b+"</"+d+">";for(var g=0;g<e.length;g++)f[e[g].name]=e[g].value;var h=c.keys(f);h.sort();var i=[];return h.forEach(function(a){var b=-1!=f[a].indexOf("'")?'"':"'";i.push(a+"="+b+f[a]+b)}),i=i.join(" "),this.isSelfClosingNode(a)?"<"+d+" "+i+"></"+d+">":"<"+d+" "+i+">"+b+"</"+d+">"},adjustName:function(a){var b=a.tagName.toLowerCase(),c=this.getOption("name_mapping");return b=c[b]?c[b]:b},contextualize:function(a,b){if(this.tokens[a]&&this.tokens[a]!=b){var c=0,d=a.match(/\d+$/);return d&&d.length>0&&(c=parseInt(d[d.length-1]),a=a.replace(""+c,"")),a+=c+1,this.contextualize(a,b)}return this.tokens[a]=b,a},debug:function(a){this.doc=a,this.debugTree(a,0)},debugTree:function(a,b){var c=new Array(b+1).join("=");if(console.log(c+"=> "+typeof a+": "+this.nodeInfo(a)),a.childNodes)for(var d=this,e=0;e<a.childNodes.length;e++){var f=a.childNodes[e];d.debugTree(f,b+1)}},nodeInfo:function(a){var b=[];return b.push(a.nodeType),1==a.nodeType&&b.push(a.tagName),this.isInlineNode(a)&&(b.push("inline"),b.push(this.hasInlineOrTextSiblings(a)?"sentence":"only translatable")),this.isSelfClosingNode(a)&&b.push("self closing"),this.isOnlyChild(a)&&b.push("only child"),3==a.nodeType?"["+b.join(", ")+']: "'+a.nodeValue+'"':"["+b.join(", ")+"]"}},b.exports=g},{"../configuration":10,"../utils":32}],26:[function(a,b){var c=a("../utils"),d=(a("../logger"),a("../configuration")),e=function(a,b){a&&(this.full_name=a,this.label=b,this.parseElements())};e.prototype={parseElements:function(){var a=this.full_name.substring(1,this.full_name.length-1),b=a.split("::")[0].trim();this.short_name=a.split(":")[0].trim(),this.case_keys=[];for(var c=a.match(/(::\s*\w+)/g)||[],d=0;d<c.length;d++)this.case_keys.push(c[d].replace(/[:]/g,"").trim());for(this.context_keys=[],c=b.match(/(:\s*\w+)/g)||[],d=0;d<c.length;d++)this.context_keys.push(c[d].replace(/[:]/g,"").trim())},getContextForLanguage:function(a){return this.context_keys.length>0?a.getContextByKeyword(this.context_keys[0]):a.getContextByTokenName(this.short_name)},getTokenObject:function(a,b){if(!a)return null;b=b||this.short_name;var d=a[b];return c.isArray(d)?d[0]:d.object||d},error:function(a){return console.log(this.full_name+' in "'+this.label+'" : '+a),this.full_name},getTokenValueFromArrayParam:function(a,b,d){if(d=d||{},0===a.length)return this.error("Invalid number of params of an array");var e=a[0],f=a.length>1?a[1]:null;return c.isArray(e)?this.getTokenValueFromArray(a,b,d):f?this.sanitize(f.toString(),e,b,c.extend(d,{safe:!0})):this.sanitize(e.toString(),e,b,c.extend(d,{safe:!1}))},getTokenValueFromHashParam:function(a,b,d){d=d||{};var e=a.value,f=a.object;if(e)return this.sanitize(e,f||a,b,c.extend(d,{safe:!0}));if(!f)return this.sanitize(a.toString(),f,b,c.extend(d,{safe:!1}));var g=a.attribute;return g?this.sanitize(f[g],f,b,c.extend(d,{safe:!1})):this.error("Missing value for hash token")},getTokenValueFromArray:function(a,b,d){var e={description:"List joiner",limit:4,separator:", ",joiner:"and",less:"{laquo} less",expandable:!1,collapsable:!0};d=d||{};var f=a[0],g=a.length>1?a[1]:null;a.length>2&&(e=c.extend(e,a[2])),d.skip_decorations&&(e.expandable=!1);for(var h=[],i=0;i<f.length;i++){var j=f[i];if(null===g)h.push(this.sanitize(""+j,j,b,c.extend(d,{safe:!1})));else if("string"==typeof g)if(g.match(/^@/)){var k=g.replace(/^@/,"");h.push(this.sanitize(j[k]||j[k](),j,b,c.extend(d,{safe:!1})))}else h.push(g.replace("{$0}",this.sanitize(""+j,j,b,c.extend(d,{safe:!1}))));else if(c.isObject(g)){var l=g.attribute,m=g.value;if(!l)return this.error("No attribute is provided for the hash object in the array");if(!j[l])return this.error("Hash object in the array does not contain such attribute");l=this.sanitize(j[l],j,b,c.extend(d,{safe:!1})),h.push(m?m.replace("{$0}",l):l)}else"function"==typeof g&&h.push(this.sanitize(g(j),j,b,c.extend(d,{safe:!0})))}if(1==h.length)return h[0];if(!e.joiner||""===e.joiner)return h.join(e.separator);var n=b.translate(e.joiner,e.description,{},d);if(h.length<=e.limit){var o=h.pop();return h.join(e.separator)+" "+n+" "+o}var p=h.slice(0,e.limit),q=h.slice(e.limit),r=p.join(e.separator),s=b.translate("{count||other}",e.description,{count:q.length},d);if(!e.expandable)return r=r+" "+n+" ",c.isFunction(e)?r+e.remainder(q):r+s;var t=e.key?e.key:c.generateKey(this.label,h.join(","));r=r+'<span id="tr8n_other_link_'+t+'"> '+n+" ",r+="<a href=\"#\" class=\"tr8n_other_list_link\" onClick=\"document.getElementById('tr8n_other_link_key').style.display='none'; document.getElementById('tr8n_other_elements_key').style.display='inline'; return false;\">",r+=e.remainder&&"function"==typeof e.remainder?e.remainder(q):s,r+="</a></span>",r=r+'<span id="tr8n_other_elements_'+t+'" style="display:none">'+e.separator;var u=q.pop();return r+=q.join(e.separator),r=r+" "+n+" "+u,e.collapsable&&(r+=" <a href=\"#\" class=\"tr8n_other_less_link\" style=\"font-size:smaller;white-space:nowrap\" onClick=\"document.getElementById('tr8n_other_link_key').style.display='inline'; document.getElementById('tr8n_other_elements_key').style.display='none'; return false;\">",r+=b.translate(e.less,e.description,{},d),r+="</a>"),r+="</span>"},getTokenValue:function(a,b,e){a=a||{},e=e||{};var f=a[this.short_name]||d.getDefaultToken(this.short_name);return f?"string"==typeof f?this.sanitize(f.toString(),f,b,c.extend(e,{safe:!0})):c.isArray(f)?this.getTokenValueFromArrayParam(f,b,e):c.isObject(f)?this.getTokenValueFromHashParam(f,b,e):this.sanitize(f.toString(),f,b,c.extend(e,{safe:!1})):this.error("Missing token value")},applyCase:function(a,b,c,d,e){var f=d.getLanguageCaseByKeyword(a);return f?f.apply(b,c,e):b},sanitize:function(a,b,d,e){if(e=e||{},a=a.toString(),e.safe||(a=c.escapeHTML(a)),this.case_keys.length>0)for(var f=0;f<this.case_keys.length;f++)a=this.applyCase(this.case_keys[f],a,b,d,e);return a},substitute:function(a,b,c,d){return a.replace(this.full_name,this.getTokenValue(b,c,d))}},b.exports=e},{"../configuration":10,"../logger":19,"../utils":32}],27:[function(a,b){var c=a("../utils"),d=a("./data"),e=function(a,b){a&&(this.full_name=a,this.label=b,this.parseElements(),this.initObject())};e.prototype=new d,e.prototype.constructor=e,e.prototype.initObject=function(){var a=this.short_name.split(".");this.short_name=a[0],this.object_method=a[1]},e.prototype.getTokenValue=function(a){a=a||{};var b=a[this.short_name];if(!b)return this.error("Missing token value");var c=b[this.object_method]||b[this.object_method]();return c||c.toString()},e.prototype.substitute=function(a,b,d,e){return a.replace(this.full_name,this.sanitize(this.getTokenValue(b),this.getTokenObject(b),d,c.extend(e,{safe:!1})))},b.exports=e},{"../utils":32,"./data":26}],28:[function(a,b){var c=a("../utils"),d=a("./data"),e=function(a,b){a&&(this.full_name=a,this.label=b,this.parseElements())};e.prototype=new d,e.prototype.constructor=e,e.prototype.parseElements=function(){var a=this.full_name.substring(1,this.full_name.length-1),b=a.split("|"),c=b[0].trim();this.short_name=c.split(":")[0].trim(),this.case_keys=[];for(var d=c.match(/(::\s*\w+)/g)||[],e=0;e<d.length;e++)this.case_keys.push(d[e].replace(/[:]/g,"").trim());this.context_keys=[];var f=c.split("::")[0].trim();for(d=f.match(/(:\s*\w+)/g)||[],e=0;e<d.length;e++)this.context_keys.push(d[e].replace(/[:]/g,"").trim());if(this.separator=-1!=this.full_name.indexOf("||")?"||":"|",this.parameters=[],b=a.split(this.separator),b.length>1)for(b=b[1].split(","),e=0;e<b.length;e++)this.parameters.push(b[e].trim())},e.prototype.isValueDisplayedInTranslation=function(){return"||"==this.separator},e.prototype.generateValueMapForContext=function(a){var b,d,e={};if(-1!=this.parameters[0].indexOf(":")){for(b=0;b<this.parameters.length;b++){var f=this.parameters[b].split(":");e[f[0].trim()]=f[1].trim()}return e}var g=a.token_mapping;if(!g)return this.error("The token context "+a.keyword+"does not support transformation for unnamed params"),null;if("string"==typeof g)return this.error("The token mapping "+g+" does not support the parameters."),null;if(c.isArray(g)){if(this.parameters.length>g.length)return this.error("The token mapping "+g+" does not support "+this.parameters.length+" parameters"),null;if(g=g[this.parameters.length-1],"string"==typeof g)return this.error("The token mapping "+g+" does not support "+this.parameters.length+" parameters"),null}var h=c.keys(g);for(b=0;b<h.length;b++){var i=h[b],j=g[i];e[i]=j;var k=j.match(/{\$\d(::[\w]+)*\}/g)||[];for(d=0;d<k.length;d++){var l=k[d],m=l.replace(/[\{\}]/g,""),n=m.split("::"),o=parseInt(n[0].replace(/[$]/,""));if(this.parameters.length<o)return this.error("The index inside "+g+" is out of bound: "+this.full_name),null;var p=this.parameters[o];n.shift();for(var q=0;q<n.length;q++){var r=a.language.getLanguageCaseByKeyword(n[q]);r&&(p=r.apply(p))}e[i]=e[i].replace(k[d],p)}}return e},e.prototype.substitute=function(a,b,c,d){if(!b[this.short_name])return this.error("Missing value"),a;var e=this.getTokenObject(b);if(0===this.parameters.length)return this.error("Piped params may not be empty"),a;var f=this.getContextForLanguage(c),g=this.generateValueMapForContext(f);if(!g)return a;var h=f.findMatchingRule(e);if(null===h)return a;var i=g[h.keyword];if(!i){var j=f.getFallbackRule();if(!j||!g[j.keyword])return this.error("No matching context rule found and no fallback provided"),a;i=g[j.keyword]}var k=[];return this.isValueDisplayedInTranslation()?(k.push(this.getTokenValue(b,c,d)),k.push(" ")):i=i.replace("#"+this.short_name+"#",this.getTokenValue(b,c,d)),k.push(i),a.replace(this.full_name,k.join(""))},b.exports=e},{"../utils":32,"./data":26}],29:[function(a,b){var c=a("./utils"),d=a("./tokens/data"),e=function(a){c.extend(this,a)};e.prototype={hasContextRules:function(){return this.context&&c.keys(this.context).length>0},isValidTranslation:function(a){if(!this.hasContextRules())return!0;for(var b=c.keys(this.context),e=0;e<b.length;e++){var f=b[e],g=this.context[f],h=d.prototype.getTokenObject(a,f);if(!h)return!1;for(var i=c.keys(g),j=0;j<i.length;j++){var k=i[j],l=g[i[j]];if("other"!=l){var m=this.language.getContextByKeyword(k);if(!m)return!1;var n=m.findMatchingRule(h);if(!n||n.keyword!=l)return!1}}}return!0}},b.exports=e},{"./tokens/data":26,"./utils":32}],30:[function(a,b){var c=a("./utils"),d=a("./configuration"),e=a("./translation"),f=a("./decorators/html"),g=a("./tokenizers/data"),h=a("./tokenizers/decoration"),i=function(a){c.extend(this,a),this.key=this.key||c.generateKey(this.label,this.description),!this.locale&&this.application&&(this.locale=this.application.default_locale),!this.language&&this.application&&(this.language=this.application.getLanguage(this.locale)),this.translations={},this.addTranslations(a.translations||{})};i.prototype={addTranslations:function(a){for(var b=c.keys(a),d=0;d<b.length;d++)for(var f=b[d],g=a[f],h=0;h<g.length;h++){var i=g[h];this.addTranslation(new e(c.extend(i,{language:this.application.getLanguage(i.locale),translation_key:this})))}},addTranslation:function(a){var b=this.translations[a.locale];b||(b=[]),b.push(a),this.translations[a.locale]=b},resetTranslations:function(){this.translations={}},getTranslationsForLanguage:function(a){return this.translations?this.translations[a.locale]||[]:[]},findFirstValidTranslation:function(a,b){for(var c=this.getTranslationsForLanguage(a),d=0;d<c.length;d++)if(c[d].isValidTranslation(b))return c[d];return null},translate:function(a,b,c){if(c=c||{},d.isDisabled())return this.substituteTokens(this.label,b,a,c);var e=this.findFirstValidTranslation(a,b),g=f;return e?g.decorate(this.substituteTokens(e.label,b,e.language,c),e.language,a,this,c):g.decorate(this.substituteTokens(this.label,b,this.language||a,c),this.language||a,a,this,c)},getDataTokens:function(){if(!this.data_tokens){var a=new g(this.label);this.data_tokens=a.tokens}return this.data_tokens},getDataTokenNames:function(){if(!this.data_token_names){this.data_token_names=[];for(var a in this.getDataTokens())this.data_token_names.push(a.full_name)}return this.data_token_names},getDecorationTokenNames:function(){if(!this.decoration_tokens){var a=new h(this.label);a.parse(),this.decoration_tokens=a.tokens}return this.decoration_tokens},substituteTokens:function(a,b,d,e){var f;return-1!=a.indexOf("{")&&(f=new g(a),a=f.substitute(d,b,c.extend(e,{allowed_tokens:this.getDataTokenNames()}))),-1!=a.indexOf("[")&&(f=new h(a),a=f.substitute(b,c.extend(e,{allowed_tokens:this.getDecorationTokenNames()}))),a}},b.exports=i},{"./configuration":10,"./decorators/html":11,"./tokenizers/data":23,"./tokenizers/decoration":24,"./translation":29,"./utils":32}],31:[function(a,b){var c=a("./utils"),d=function(a){c.extend(this,a)};b.exports=d},{"./utils":32}],32:[function(a,b){(function(c){var d=a("crypto");b.exports={hashValue:function(a,b,c){c=c||null;for(var d=b.split("."),e=0;e<d.length;e++){var f=d[e];if("undefined"==typeof a[f])return c;a=a[f]}return a},stripTags:function(a,b){b=(((b||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var c=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,d=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return a.replace(d,"").replace(c,function(a,c){return b.indexOf("<"+c.toLowerCase()+">")>-1?a:""})},splitSentences:function(a){var b=/[^.!?\s][^.!?]*(?:[.!?](?![\'"]?\s|$)[^.!?]*)*[.!?]?[\'"]?(?=\s|$)/g;return this.stripTags(a).match(b)},unique:function(a){return a.reverse().filter(function(a,b,c){return-1===c.indexOf(a,b+1)}).reverse()},clone:function(a){if(null===a||"object"!=typeof a)return a;var b=a.constructor();for(var c in a)b[c]=clone(a[c]);return b},keys:function(a){return Object.keys(a)},generateKey:function(a,b){return b=b||"",d.createHash("md5").update(a+";;;"+b).digest("hex")},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isObject:function(a){return"object"==typeof a},isFunction:function(a){return"function"==typeof a},escapeHTML:function(a){return a.replace(/[&<>]/g,function(a){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[a]||a})},decodeAndVerifyParams:function(a,b){if(!a)return null;a=decodeURIComponent(a),a=decodeURIComponent(a),a=new c(a,"base64").toString("utf-8");var e=a.split("."),f=e[0].trim(),g=e[1];if(b){var h=d.createHmac("sha256",b).update(g).digest();if(h=new c(h).toString("base64").trim(),f!=h)return null}var i=new c(g,"base64").toString("utf-8");return JSON.parse(i)},normalizeSource:function(a){var b=a.split("?");return b[0]},assign:function(a,b,c){for(var d in b)hasOwnProperty.call(b,d)&&(c&&d in a&&"object"==typeof a[d]&&"object"==typeof b[d]?this.assign(a[d],b[d],c):a[d]=b[d]);return a},extend:function(a){for(var b=1;b<arguments.length;b++)a=this.assign(a,arguments[b]);return a},merge:function(a){for(var b=1;b<arguments.length;b++)a=this.assign(a,arguments[b],!0);return a},addCSS:function(a,b,c){var d=null;return c?(d=a.createElement("style"),d.type="text/css",d.styleSheet?d.styleSheet.cssText=b:d.appendChild(document.createTextNode(b))):(d=a.createElement("link"),d.setAttribute("type","text/css"),d.setAttribute("rel","stylesheet"),d.setAttribute("media","screen"),d.setAttribute("href",b)),a.getElementsByTagName("head")[0].appendChild(d),d},addJS:function(a,b,c,d){var e=a.createElement("script");return e.setAttribute("id",b),e.setAttribute("type","application/javascript"),e.setAttribute("src",c),e.setAttribute("charset","UTF-8"),d&&(e.onload=d),a.getElementsByTagName("head")[0].appendChild(e),e},getCookie:function(a){for(var b="tr8n_"+a,c=b+"=",d=document.cookie.split(";"),e=0;e<d.length;e++){for(var f=d[e];" "==f.charAt(0);)f=f.substring(1);if(-1!=f.indexOf(c))return f.substring(c.length,f.length)}return""},parallel:function(a,b){var c,d=0,e=0,f={},g=function(c){a[c](function(a,g){a&&b(a),g&&(f[c]=g),e++,e==d&&b(null,f)})};for(c in a)d++;d||b(null,f);for(c in a)g(c)}}}).call(this,a("buffer").Buffer)},{buffer:34,crypto:40}],33:[function(){},{}],34:[function(a,b,c){function d(a,b,c){if(!(this instanceof d))return new d(a,b,c);var e,f=typeof a;if("number"===f)e=a>0?a>>>0:0;else if("string"===f)"base64"===b&&(a=C(a)),e=d.byteLength(a,b);else{if("object"!==f||null===a)throw new Error("First argument needs to be a number, array or string.");"Buffer"===a.type&&Array.isArray(a.data)&&(a=a.data),e=+a.length>0?Math.floor(+a.length):0}var g;d._useTypedArrays?g=d._augment(new Uint8Array(e)):(g=this,g.length=e,g._isBuffer=!0);var h;if(d._useTypedArrays&&"number"==typeof a.byteLength)g._set(a);else if(F(a))if(d.isBuffer(a))for(h=0;e>h;h++)g[h]=a.readUInt8(h);else for(h=0;e>h;h++)g[h]=(a[h]%256+256)%256;else if("string"===f)g.write(a,0,b);else if("number"===f&&!d._useTypedArrays&&!c)for(h=0;e>h;h++)g[h]=0;return g}function e(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;Q(f%2===0,"Invalid hex string"),d>f/2&&(d=f/2);for(var g=0;d>g;g++){var h=parseInt(b.substr(2*g,2),16);Q(!isNaN(h),"Invalid hex string"),a[c+g]=h}return g}function f(a,b,c,d){var e=L(H(b),a,c,d);return e}function g(a,b,c,d){var e=L(I(b),a,c,d);return e}function h(a,b,c,d){return g(a,b,c,d)}function i(a,b,c,d){var e=L(K(b),a,c,d);return e}function j(a,b,c,d){var e=L(J(b),a,c,d);return e}function k(a,b,c){return R.fromByteArray(0===b&&c===a.length?a:a.slice(b,c))}function l(a,b,c){var d="",e="";c=Math.min(a.length,c);for(var f=b;c>f;f++)a[f]<=127?(d+=M(e)+String.fromCharCode(a[f]),e=""):e+="%"+a[f].toString(16);return d+M(e)}function m(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(a[e]);return d}function n(a,b,c){return m(a,b,c)}function o(a,b,c){var d=a.length;(!b||0>b)&&(b=0),(!c||0>c||c>d)&&(c=d);for(var e="",f=b;c>f;f++)e+=G(a[f]);return e}function p(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function q(a,b,c,d){d||(Q("boolean"==typeof c,"missing or invalid endian"),Q(void 0!==b&&null!==b,"missing offset"),Q(b+1<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f;return c?(f=a[b],e>b+1&&(f|=a[b+1]<<8)):(f=a[b]<<8,e>b+1&&(f|=a[b+1])),f}}function r(a,b,c,d){d||(Q("boolean"==typeof c,"missing or invalid endian"),Q(void 0!==b&&null!==b,"missing offset"),Q(b+3<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f;return c?(e>b+2&&(f=a[b+2]<<16),e>b+1&&(f|=a[b+1]<<8),f|=a[b],e>b+3&&(f+=a[b+3]<<24>>>0)):(e>b+1&&(f=a[b+1]<<16),e>b+2&&(f|=a[b+2]<<8),e>b+3&&(f|=a[b+3]),f+=a[b]<<24>>>0),f}}function s(a,b,c,d){d||(Q("boolean"==typeof c,"missing or invalid endian"),Q(void 0!==b&&null!==b,"missing offset"),Q(b+1<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f=q(a,b,c,!0),g=32768&f;return g?-1*(65535-f+1):f}}function t(a,b,c,d){d||(Q("boolean"==typeof c,"missing or invalid endian"),Q(void 0!==b&&null!==b,"missing offset"),Q(b+3<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f=r(a,b,c,!0),g=2147483648&f;return g?-1*(4294967295-f+1):f}}function u(a,b,c,d){return d||(Q("boolean"==typeof c,"missing or invalid endian"),Q(b+3<a.length,"Trying to read beyond buffer length")),S.read(a,b,c,23,4)}function v(a,b,c,d){return d||(Q("boolean"==typeof c,"missing or invalid endian"),Q(b+7<a.length,"Trying to read beyond buffer length")),S.read(a,b,c,52,8)}function w(a,b,c,d,e){e||(Q(void 0!==b&&null!==b,"missing value"),Q("boolean"==typeof d,"missing or invalid endian"),Q(void 0!==c&&null!==c,"missing offset"),Q(c+1<a.length,"trying to write beyond buffer length"),N(b,65535));var f=a.length;if(!(c>=f)){for(var g=0,h=Math.min(f-c,2);h>g;g++)a[c+g]=(b&255<<8*(d?g:1-g))>>>8*(d?g:1-g);return c+2}}function x(a,b,c,d,e){e||(Q(void 0!==b&&null!==b,"missing value"),Q("boolean"==typeof d,"missing or invalid endian"),Q(void 0!==c&&null!==c,"missing offset"),Q(c+3<a.length,"trying to write beyond buffer length"),N(b,4294967295));var f=a.length;if(!(c>=f)){for(var g=0,h=Math.min(f-c,4);h>g;g++)a[c+g]=b>>>8*(d?g:3-g)&255;return c+4}}function y(a,b,c,d,e){e||(Q(void 0!==b&&null!==b,"missing value"),Q("boolean"==typeof d,"missing or invalid endian"),Q(void 0!==c&&null!==c,"missing offset"),Q(c+1<a.length,"Trying to write beyond buffer length"),O(b,32767,-32768));var f=a.length;if(!(c>=f))return b>=0?w(a,b,c,d,e):w(a,65535+b+1,c,d,e),c+2}function z(a,b,c,d,e){e||(Q(void 0!==b&&null!==b,"missing value"),Q("boolean"==typeof d,"missing or invalid endian"),Q(void 0!==c&&null!==c,"missing offset"),Q(c+3<a.length,"Trying to write beyond buffer length"),O(b,2147483647,-2147483648));var f=a.length;if(!(c>=f))return b>=0?x(a,b,c,d,e):x(a,4294967295+b+1,c,d,e),c+4}function A(a,b,c,d,e){e||(Q(void 0!==b&&null!==b,"missing value"),Q("boolean"==typeof d,"missing or invalid endian"),Q(void 0!==c&&null!==c,"missing offset"),Q(c+3<a.length,"Trying to write beyond buffer length"),P(b,3.4028234663852886e38,-3.4028234663852886e38));var f=a.length;if(!(c>=f))return S.write(a,b,c,d,23,4),c+4}function B(a,b,c,d,e){e||(Q(void 0!==b&&null!==b,"missing value"),Q("boolean"==typeof d,"missing or invalid endian"),Q(void 0!==c&&null!==c,"missing offset"),Q(c+7<a.length,"Trying to write beyond buffer length"),P(b,1.7976931348623157e308,-1.7976931348623157e308));var f=a.length;if(!(c>=f))return S.write(a,b,c,d,52,8),c+8}function C(a){for(a=D(a).replace(U,"");a.length%4!==0;)a+="=";return a}function D(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function E(a){return(Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)})(a)}function F(a){return E(a)||d.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length}function G(a){return 16>a?"0"+a.toString(16):a.toString(16)}function H(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);if(127>=d)b.push(d);else{var e=c;d>=55296&&57343>=d&&c++;for(var f=encodeURIComponent(a.slice(e,c+1)).substr(1).split("%"),g=0;g<f.length;g++)b.push(parseInt(f[g],16))}}return b}function I(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function J(a){for(var b,c,d,e=[],f=0;f<a.length;f++)b=a.charCodeAt(f),c=b>>8,d=b%256,e.push(d),e.push(c);return e}function K(a){return R.toByteArray(a)}function L(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}function M(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}function N(a,b){Q("number"==typeof a,"cannot write a non-number as a number"),Q(a>=0,"specified a negative value for writing an unsigned value"),Q(b>=a,"value is larger than maximum value for type"),Q(Math.floor(a)===a,"value has a fractional component")}function O(a,b,c){Q("number"==typeof a,"cannot write a non-number as a number"),Q(b>=a,"value larger than maximum allowed value"),Q(a>=c,"value smaller than minimum allowed value"),Q(Math.floor(a)===a,"value has a fractional component")}function P(a,b,c){Q("number"==typeof a,"cannot write a non-number as a number"),Q(b>=a,"value larger than maximum allowed value"),Q(a>=c,"value smaller than minimum allowed value")}function Q(a,b){if(!a)throw new Error(b||"Failed assertion")}var R=a("base64-js"),S=a("ieee754");c.Buffer=d,c.SlowBuffer=d,c.INSPECT_MAX_BYTES=50,d.poolSize=8192,d._useTypedArrays=function(){try{var a=new ArrayBuffer(0),b=new Uint8Array(a);return b.foo=function(){return 42},42===b.foo()&&"function"==typeof b.subarray}catch(c){return!1}}(),d.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.isBuffer=function(a){return!(null==a||!a._isBuffer)},d.byteLength=function(a,b){var c;switch(a=a.toString(),b||"utf8"){case"hex":c=a.length/2;break;case"utf8":case"utf-8":c=H(a).length;break;case"ascii":case"binary":case"raw":c=a.length;break;case"base64":c=K(a).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":c=2*a.length;break;default:throw new Error("Unknown encoding")}return c},d.concat=function(a,b){if(Q(E(a),"Usage: Buffer.concat(list[, length])"),0===a.length)return new d(0);if(1===a.length)return a[0];var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var e=new d(b),f=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(e,f),f+=g.length}return e},d.compare=function(a,b){Q(d.isBuffer(a)&&d.isBuffer(b),"Arguments must be Buffers");for(var c=a.length,e=b.length,f=0,g=Math.min(c,e);g>f&&a[f]===b[f];f++);return f!==g&&(c=a[f],e=b[f]),e>c?-1:c>e?1:0},d.prototype.write=function(a,b,c,d){if(isFinite(b))isFinite(c)||(d=c,c=void 0);else{var k=d;d=b,b=c,c=k}b=Number(b)||0;var l=this.length-b;c?(c=Number(c),c>l&&(c=l)):c=l,d=String(d||"utf8").toLowerCase();var m;switch(d){case"hex":m=e(this,a,b,c);break;case"utf8":case"utf-8":m=f(this,a,b,c);break;case"ascii":m=g(this,a,b,c);break;case"binary":m=h(this,a,b,c);break;case"base64":m=i(this,a,b,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":m=j(this,a,b,c);
break;default:throw new Error("Unknown encoding")}return m},d.prototype.toString=function(a,b,c){var d=this;if(a=String(a||"utf8").toLowerCase(),b=Number(b)||0,c=void 0===c?d.length:Number(c),c===b)return"";var e;switch(a){case"hex":e=o(d,b,c);break;case"utf8":case"utf-8":e=l(d,b,c);break;case"ascii":e=m(d,b,c);break;case"binary":e=n(d,b,c);break;case"base64":e=k(d,b,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":e=p(d,b,c);break;default:throw new Error("Unknown encoding")}return e},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},d.prototype.equals=function(a){return Q(d.isBuffer(a),"Argument must be a Buffer"),0===d.compare(this,a)},d.prototype.compare=function(a){return Q(d.isBuffer(a),"Argument must be a Buffer"),d.compare(this,a)},d.prototype.copy=function(a,b,c,e){var f=this;if(c||(c=0),e||0===e||(e=this.length),b||(b=0),e!==c&&0!==a.length&&0!==f.length){Q(e>=c,"sourceEnd < sourceStart"),Q(b>=0&&b<a.length,"targetStart out of bounds"),Q(c>=0&&c<f.length,"sourceStart out of bounds"),Q(e>=0&&e<=f.length,"sourceEnd out of bounds"),e>this.length&&(e=this.length),a.length-b<e-c&&(e=a.length-b+c);var g=e-c;if(100>g||!d._useTypedArrays)for(var h=0;g>h;h++)a[h+b]=this[h+c];else a._set(this.subarray(c,c+g),b)}},d.prototype.slice=function(a,b){var c=this.length;if(a=~~a,b=void 0===b?c:~~b,0>a?(a+=c,0>a&&(a=0)):a>c&&(a=c),0>b?(b+=c,0>b&&(b=0)):b>c&&(b=c),a>b&&(b=a),d._useTypedArrays)return d._augment(this.subarray(a,b));for(var e=b-a,f=new d(e,void 0,!0),g=0;e>g;g++)f[g]=this[g+a];return f},d.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},d.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},d.prototype.readUInt8=function(a,b){return b||(Q(void 0!==a&&null!==a,"missing offset"),Q(a<this.length,"Trying to read beyond buffer length")),a>=this.length?void 0:this[a]},d.prototype.readUInt16LE=function(a,b){return q(this,a,!0,b)},d.prototype.readUInt16BE=function(a,b){return q(this,a,!1,b)},d.prototype.readUInt32LE=function(a,b){return r(this,a,!0,b)},d.prototype.readUInt32BE=function(a,b){return r(this,a,!1,b)},d.prototype.readInt8=function(a,b){if(b||(Q(void 0!==a&&null!==a,"missing offset"),Q(a<this.length,"Trying to read beyond buffer length")),!(a>=this.length)){var c=128&this[a];return c?-1*(255-this[a]+1):this[a]}},d.prototype.readInt16LE=function(a,b){return s(this,a,!0,b)},d.prototype.readInt16BE=function(a,b){return s(this,a,!1,b)},d.prototype.readInt32LE=function(a,b){return t(this,a,!0,b)},d.prototype.readInt32BE=function(a,b){return t(this,a,!1,b)},d.prototype.readFloatLE=function(a,b){return u(this,a,!0,b)},d.prototype.readFloatBE=function(a,b){return u(this,a,!1,b)},d.prototype.readDoubleLE=function(a,b){return v(this,a,!0,b)},d.prototype.readDoubleBE=function(a,b){return v(this,a,!1,b)},d.prototype.writeUInt8=function(a,b,c){return c||(Q(void 0!==a&&null!==a,"missing value"),Q(void 0!==b&&null!==b,"missing offset"),Q(b<this.length,"trying to write beyond buffer length"),N(a,255)),b>=this.length?void 0:(this[b]=a,b+1)},d.prototype.writeUInt16LE=function(a,b,c){return w(this,a,b,!0,c)},d.prototype.writeUInt16BE=function(a,b,c){return w(this,a,b,!1,c)},d.prototype.writeUInt32LE=function(a,b,c){return x(this,a,b,!0,c)},d.prototype.writeUInt32BE=function(a,b,c){return x(this,a,b,!1,c)},d.prototype.writeInt8=function(a,b,c){return c||(Q(void 0!==a&&null!==a,"missing value"),Q(void 0!==b&&null!==b,"missing offset"),Q(b<this.length,"Trying to write beyond buffer length"),O(a,127,-128)),b>=this.length?void 0:(a>=0?this.writeUInt8(a,b,c):this.writeUInt8(255+a+1,b,c),b+1)},d.prototype.writeInt16LE=function(a,b,c){return y(this,a,b,!0,c)},d.prototype.writeInt16BE=function(a,b,c){return y(this,a,b,!1,c)},d.prototype.writeInt32LE=function(a,b,c){return z(this,a,b,!0,c)},d.prototype.writeInt32BE=function(a,b,c){return z(this,a,b,!1,c)},d.prototype.writeFloatLE=function(a,b,c){return A(this,a,b,!0,c)},d.prototype.writeFloatBE=function(a,b,c){return A(this,a,b,!1,c)},d.prototype.writeDoubleLE=function(a,b,c){return B(this,a,b,!0,c)},d.prototype.writeDoubleBE=function(a,b,c){return B(this,a,b,!1,c)},d.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),Q(c>=b,"end < start"),c!==b&&0!==this.length){Q(b>=0&&b<this.length,"start out of bounds"),Q(c>=0&&c<=this.length,"end out of bounds");var d;if("number"==typeof a)for(d=b;c>d;d++)this[d]=a;else{var e=H(a.toString()),f=e.length;for(d=b;c>d;d++)this[d]=e[d%f]}return this}},d.prototype.inspect=function(){for(var a=[],b=this.length,d=0;b>d;d++)if(a[d]=G(this[d]),d===c.INSPECT_MAX_BYTES){a[d+1]="...";break}return"<Buffer "+a.join(" ")+">"},d.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(d._useTypedArrays)return new d(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;c>b;b+=1)a[b]=this[b];return a.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var T=d.prototype;d._augment=function(a){return a._isBuffer=!0,a._get=a.get,a._set=a.set,a.get=T.get,a.set=T.set,a.write=T.write,a.toString=T.toString,a.toLocaleString=T.toString,a.toJSON=T.toJSON,a.equals=T.equals,a.compare=T.compare,a.copy=T.copy,a.slice=T.slice,a.readUInt8=T.readUInt8,a.readUInt16LE=T.readUInt16LE,a.readUInt16BE=T.readUInt16BE,a.readUInt32LE=T.readUInt32LE,a.readUInt32BE=T.readUInt32BE,a.readInt8=T.readInt8,a.readInt16LE=T.readInt16LE,a.readInt16BE=T.readInt16BE,a.readInt32LE=T.readInt32LE,a.readInt32BE=T.readInt32BE,a.readFloatLE=T.readFloatLE,a.readFloatBE=T.readFloatBE,a.readDoubleLE=T.readDoubleLE,a.readDoubleBE=T.readDoubleBE,a.writeUInt8=T.writeUInt8,a.writeUInt16LE=T.writeUInt16LE,a.writeUInt16BE=T.writeUInt16BE,a.writeUInt32LE=T.writeUInt32LE,a.writeUInt32BE=T.writeUInt32BE,a.writeInt8=T.writeInt8,a.writeInt16LE=T.writeInt16LE,a.writeInt16BE=T.writeInt16BE,a.writeInt32LE=T.writeInt32LE,a.writeInt32BE=T.writeInt32BE,a.writeFloatLE=T.writeFloatLE,a.writeFloatBE=T.writeFloatBE,a.writeDoubleLE=T.writeDoubleLE,a.writeDoubleBE=T.writeDoubleBE,a.fill=T.fill,a.inspect=T.inspect,a.toArrayBuffer=T.toArrayBuffer,a};var U=/[^+\/0-9A-z]/g},{"base64-js":35,ieee754:36}],35:[function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===g?62:b===h?63:i>b?-1:i+10>b?b-i+26+26:k+26>b?b-k:j+26>b?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;g>d;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;g>e;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}("undefined"==typeof c?this.base64js={}:c)},{}],36:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?0/0:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||1/0===b?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],37:[function(a,b){(function(c){function d(a){return function(){var b=[],d={update:function(a,d){return c.isBuffer(a)||(a=new c(a,d)),b.push(a),this},digest:function(d){var e=c.concat(b),f=a(e);return b=null,d?f.toString(d):f}};return d}}var e=a("sha.js"),f=d(a("./md5")),g=d(a("ripemd160"));b.exports=function(a){return"md5"===a?new f:"rmd160"===a?new g:e(a)}}).call(this,a("buffer").Buffer)},{"./md5":41,buffer:34,ripemd160:42,"sha.js":44}],38:[function(a,b){(function(c){function d(a,b){if(!(this instanceof d))return new d(a,b);this._opad=i,this._alg=a,b=this._key=c.isBuffer(b)?b:new c(b),b.length>f?b=e(a).update(b).digest():b.length<f&&(b=c.concat([b,g],f));for(var h=this._ipad=new c(f),i=this._opad=new c(f),j=0;f>j;j++)h[j]=54^b[j],i[j]=92^b[j];this._hash=e(a).update(h)}var e=a("./create-hash"),f=64,g=new c(f);g.fill(0),b.exports=d,d.prototype.update=function(a,b){return this._hash.update(a,b),this},d.prototype.digest=function(a){var b=this._hash.digest();return e(this._alg).update(this._opad).update(b).digest(a)}}).call(this,a("buffer").Buffer)},{"./create-hash":37,buffer:34}],39:[function(a,b){(function(a){function c(b,c){if(b.length%f!==0){var d=b.length+(f-b.length%f);b=a.concat([b,g],d)}for(var e=[],h=c?b.readInt32BE:b.readInt32LE,i=0;i<b.length;i+=f)e.push(h.call(b,i));return e}function d(b,c,d){for(var e=new a(c),f=d?e.writeInt32BE:e.writeInt32LE,g=0;g<b.length;g++)f.call(e,b[g],4*g,!0);return e}function e(b,e,f,g){a.isBuffer(b)||(b=new a(b));var i=e(c(b,g),b.length*h);return d(i,f,g)}var f=4,g=new a(f);g.fill(0);var h=8;b.exports={hash:e}}).call(this,a("buffer").Buffer)},{buffer:34}],40:[function(a,b,c){(function(b){function d(){var a=[].slice.call(arguments).join(" ");throw new Error([a,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function e(a,b){for(var c in a)b(a[c],c)}var f=a("./rng");c.createHash=a("./create-hash"),c.createHmac=a("./create-hmac"),c.randomBytes=function(a,c){if(!c||!c.call)return new b(f(a));try{c.call(this,void 0,new b(f(a)))}catch(d){c(d)}},c.getHashes=function(){return["sha1","sha256","md5","rmd160"]};var g=a("./pbkdf2")(c.createHmac);c.pbkdf2=g.pbkdf2,c.pbkdf2Sync=g.pbkdf2Sync,e(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman"],function(a){c[a]=function(){d("sorry,",a,"is not implemented yet")}})}).call(this,a("buffer").Buffer)},{"./create-hash":37,"./create-hmac":38,"./pbkdf2":48,"./rng":49,buffer:34}],41:[function(a,b){function c(a,b){a[b>>5]|=128<<b%32,a[(b+64>>>9<<4)+14]=b;for(var c=1732584193,d=-271733879,j=-1732584194,k=271733878,l=0;l<a.length;l+=16){var m=c,n=d,o=j,p=k;c=e(c,d,j,k,a[l+0],7,-680876936),k=e(k,c,d,j,a[l+1],12,-389564586),j=e(j,k,c,d,a[l+2],17,606105819),d=e(d,j,k,c,a[l+3],22,-1044525330),c=e(c,d,j,k,a[l+4],7,-176418897),k=e(k,c,d,j,a[l+5],12,1200080426),j=e(j,k,c,d,a[l+6],17,-1473231341),d=e(d,j,k,c,a[l+7],22,-45705983),c=e(c,d,j,k,a[l+8],7,1770035416),k=e(k,c,d,j,a[l+9],12,-1958414417),j=e(j,k,c,d,a[l+10],17,-42063),d=e(d,j,k,c,a[l+11],22,-1990404162),c=e(c,d,j,k,a[l+12],7,1804603682),k=e(k,c,d,j,a[l+13],12,-40341101),j=e(j,k,c,d,a[l+14],17,-1502002290),d=e(d,j,k,c,a[l+15],22,1236535329),c=f(c,d,j,k,a[l+1],5,-165796510),k=f(k,c,d,j,a[l+6],9,-1069501632),j=f(j,k,c,d,a[l+11],14,643717713),d=f(d,j,k,c,a[l+0],20,-373897302),c=f(c,d,j,k,a[l+5],5,-701558691),k=f(k,c,d,j,a[l+10],9,38016083),j=f(j,k,c,d,a[l+15],14,-660478335),d=f(d,j,k,c,a[l+4],20,-405537848),c=f(c,d,j,k,a[l+9],5,568446438),k=f(k,c,d,j,a[l+14],9,-1019803690),j=f(j,k,c,d,a[l+3],14,-187363961),d=f(d,j,k,c,a[l+8],20,1163531501),c=f(c,d,j,k,a[l+13],5,-1444681467),k=f(k,c,d,j,a[l+2],9,-51403784),j=f(j,k,c,d,a[l+7],14,1735328473),d=f(d,j,k,c,a[l+12],20,-1926607734),c=g(c,d,j,k,a[l+5],4,-378558),k=g(k,c,d,j,a[l+8],11,-2022574463),j=g(j,k,c,d,a[l+11],16,1839030562),d=g(d,j,k,c,a[l+14],23,-35309556),c=g(c,d,j,k,a[l+1],4,-1530992060),k=g(k,c,d,j,a[l+4],11,1272893353),j=g(j,k,c,d,a[l+7],16,-155497632),d=g(d,j,k,c,a[l+10],23,-1094730640),c=g(c,d,j,k,a[l+13],4,681279174),k=g(k,c,d,j,a[l+0],11,-358537222),j=g(j,k,c,d,a[l+3],16,-722521979),d=g(d,j,k,c,a[l+6],23,76029189),c=g(c,d,j,k,a[l+9],4,-640364487),k=g(k,c,d,j,a[l+12],11,-421815835),j=g(j,k,c,d,a[l+15],16,530742520),d=g(d,j,k,c,a[l+2],23,-995338651),c=h(c,d,j,k,a[l+0],6,-198630844),k=h(k,c,d,j,a[l+7],10,1126891415),j=h(j,k,c,d,a[l+14],15,-1416354905),d=h(d,j,k,c,a[l+5],21,-57434055),c=h(c,d,j,k,a[l+12],6,1700485571),k=h(k,c,d,j,a[l+3],10,-1894986606),j=h(j,k,c,d,a[l+10],15,-1051523),d=h(d,j,k,c,a[l+1],21,-2054922799),c=h(c,d,j,k,a[l+8],6,1873313359),k=h(k,c,d,j,a[l+15],10,-30611744),j=h(j,k,c,d,a[l+6],15,-1560198380),d=h(d,j,k,c,a[l+13],21,1309151649),c=h(c,d,j,k,a[l+4],6,-145523070),k=h(k,c,d,j,a[l+11],10,-1120210379),j=h(j,k,c,d,a[l+2],15,718787259),d=h(d,j,k,c,a[l+9],21,-343485551),c=i(c,m),d=i(d,n),j=i(j,o),k=i(k,p)}return Array(c,d,j,k)}function d(a,b,c,d,e,f){return i(j(i(i(b,a),i(d,f)),e),c)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function j(a,b){return a<<b|a>>>32-b}var k=a("./helpers");b.exports=function(a){return k.hash(a,c,16)}},{"./helpers":39}],42:[function(a,b){(function(a){function c(a,b,c){return a^b^c}function d(a,b,c){return a&b|~a&c}function e(a,b,c){return(a|~b)^c}function f(a,b,c){return a&c|b&~c}function g(a,b,c){return a^(b|~c)}function h(a,b){return a<<b|a>>>32-b}function i(b){var c=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof b&&(b=new a(b,"utf8"));var d=p(b),e=8*b.length,f=8*b.length;d[e>>>5]|=128<<24-e%32,d[(e+64>>>9<<4)+14]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8);for(var g=0;g<d.length;g+=16)r(c,d,g);for(var g=0;5>g;g++){var h=c[g];c[g]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}var i=q(c);return new a(i)}b.exports=i;var j=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],k=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],n=[0,1518500249,1859775393,2400959708,2840853838],o=[1352829926,1548603684,1836072691,2053994217,0],p=function(a){for(var b=[],c=0,d=0;c<a.length;c++,d+=8)b[d>>>5]|=a[c]<<24-d%32;return b},q=function(a){for(var b=[],c=0;c<32*a.length;c+=8)b.push(a[c>>>5]>>>24-c%32&255);return b},r=function(a,b,i){for(var p=0;16>p;p++){var q=i+p,r=b[q];b[q]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var s,t,u,v,w,x,y,z,A,B;x=s=a[0],y=t=a[1],z=u=a[2],A=v=a[3],B=w=a[4];for(var C,p=0;80>p;p+=1)C=s+b[i+j[p]]|0,C+=16>p?c(t,u,v)+n[0]:32>p?d(t,u,v)+n[1]:48>p?e(t,u,v)+n[2]:64>p?f(t,u,v)+n[3]:g(t,u,v)+n[4],C=0|C,C=h(C,l[p]),C=C+w|0,s=w,w=v,v=h(u,10),u=t,t=C,C=x+b[i+k[p]]|0,C+=16>p?g(y,z,A)+o[0]:32>p?f(y,z,A)+o[1]:48>p?e(y,z,A)+o[2]:64>p?d(y,z,A)+o[3]:c(y,z,A)+o[4],C=0|C,C=h(C,m[p]),C=C+B|0,x=B,B=A,A=h(z,10),z=y,y=C;C=a[1]+u+A|0,a[1]=a[2]+v+B|0,a[2]=a[3]+w+x|0,a[3]=a[4]+s+y|0,a[4]=a[0]+t+z|0,a[0]=C}}).call(this,a("buffer").Buffer)},{buffer:34}],43:[function(a,b){var c=a("./util"),d=c.write,e=c.zeroFill;b.exports=function(a){function b(b,c){this._block=new a(b),this._finalSize=c,this._blockSize=b,this._len=0,this._s=0}function f(a,b){return null==b?a.byteLength||a.length:"ascii"==b||"binary"==b?a.length:"hex"==b?a.length/2:"base64"==b?a.length/3:void 0}return b.prototype.init=function(){this._s=0,this._len=0},b.prototype.update=function(b,c){var e,g=this._blockSize;c||"string"!=typeof b||(c="utf8"),c?("utf-8"===c&&(c="utf8"),("base64"===c||"utf8"===c)&&(b=new a(b,c),c=null),e=f(b,c)):e=b.byteLength||b.length;for(var h=this._len+=e,i=this._s=this._s||0,j=0,k=this._block;h>i;){var l=Math.min(e,j+g);d(k,b,c,i%g,j,l);var m=l-j;i+=m,j+=m,i%g||this._update(k)}return this._s=i,this},b.prototype.digest=function(a){var b=this._blockSize,d=this._finalSize,f=8*this._len,g=this._block,h=f%(8*b);g[this._len%b]=128,e(this._block,this._len%b+1),h>=8*d&&(this._update(this._block),c.zeroFill(this._block,0)),g.writeInt32BE(f,d+4);var i=this._update(this._block)||this._hash();return null==a?i:i.toString(a)},b.prototype._update=function(){throw new Error("_update must be implemented by subclass")},b}},{"./util":47}],44:[function(a,b,c){var c=b.exports=function(a){var b=c[a];if(!b)throw new Error(a+" is not supported (we accept pull requests)");return new b},d=a("buffer").Buffer,e=a("./hash")(d);c.sha=c.sha1=a("./sha1")(d,e),c.sha256=a("./sha256")(d,e)},{"./hash":43,"./sha1":45,"./sha256":46,buffer:34}],45:[function(a,b){b.exports=function(b,c){function d(){return p.length?p.pop().init():this instanceof d?(this._w=o,c.call(this,64,56),this._h=null,void this.init()):new d}function e(a,b,c,d){return 20>a?b&c|~b&d:40>a?b^c^d:60>a?b&c|b&d|c&d:b^c^d}function f(a){return 20>a?1518500249:40>a?1859775393:60>a?-1894007588:-899497514}function g(a,b){return a+b|0}function h(a,b){return a<<b|a>>>32-b}var i=a("util").inherits;i(d,c);var j=0,k=4,l=8,m=12,n=16,o=new Int32Array(80),p=[];d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,c.prototype.init.call(this),this},d.prototype._POOL=p;new b(1)instanceof DataView;return d.prototype._update=function(){{var a,b,c,d,i,j,k,l,m,n,o=this._block;this._h}a=j=this._a,b=k=this._b,c=l=this._c,d=m=this._d,i=n=this._e;for(var p=this._w,q=0;80>q;q++){var r=p[q]=16>q?o.readInt32BE(4*q):h(p[q-3]^p[q-8]^p[q-14]^p[q-16],1),s=g(g(h(a,5),e(q,b,c,d)),g(g(i,r),f(q)));i=d,d=c,c=h(b,30),b=a,a=s}this._a=g(a,j),this._b=g(b,k),this._c=g(c,l),this._d=g(d,m),this._e=g(i,n)},d.prototype._hash=function(){p.length<100&&p.push(this);var a=new b(20);return a.writeInt32BE(0|this._a,j),a.writeInt32BE(0|this._b,k),a.writeInt32BE(0|this._c,l),a.writeInt32BE(0|this._d,m),a.writeInt32BE(0|this._e,n),a},d}},{util:53}],46:[function(a,b){{var c=a("util").inherits;a("./util")}b.exports=function(a,b){function d(){o.length,this.init(),this._w=n,b.call(this,64,56)}function e(a,b){return a>>>b|a<<32-b}function f(a,b){return a>>>b}function g(a,b,c){return a&b^~a&c}function h(a,b,c){return a&b^a&c^b&c}function i(a){return e(a,2)^e(a,13)^e(a,22)}function j(a){return e(a,6)^e(a,11)^e(a,25)}function k(a){return e(a,7)^e(a,18)^f(a,3)}function l(a){return e(a,17)^e(a,19)^f(a,10)}var m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];c(d,b);var n=new Array(64),o=[];d.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this};return d.prototype._update=function(){var a,b,c,d,e,f,n,o,p,q,r=this._block,s=this._w;a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,f=0|this._f,n=0|this._g,o=0|this._h;for(var t=0;64>t;t++){var u=s[t]=16>t?r.readInt32BE(4*t):l(s[t-2])+s[t-7]+k(s[t-15])+s[t-16];p=o+j(e)+g(e,f,n)+m[t]+u,q=i(a)+h(a,b,c),o=n,n=f,f=e,e=d+p,d=c,c=b,b=a,a=p+q}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0,this._f=f+this._f|0,this._g=n+this._g|0,this._h=o+this._h|0},d.prototype._hash=function(){o.length<10&&o.push(this);var b=new a(32);return b.writeInt32BE(this._a,0),b.writeInt32BE(this._b,4),b.writeInt32BE(this._c,8),b.writeInt32BE(this._d,12),b.writeInt32BE(this._e,16),b.writeInt32BE(this._f,20),b.writeInt32BE(this._g,24),b.writeInt32BE(this._h,28),b},d}},{"./util":47,util:53}],47:[function(a,b,c){function d(a,b,c,d,e,f){var g=f-e;if("ascii"===c||"binary"===c)for(var h=0;g>h;h++)a[d+h]=b.charCodeAt(h+e);else if(null==c)for(var h=0;g>h;h++)a[d+h]=b[h+e];else{if("hex"!==c)throw new Error("base64"===c?"base64 encoding not yet supported":c+" encoding not yet supported");for(var h=0;g>h;h++){var i=e+h;a[d+h]=parseInt(b[2*i]+b[2*i+1],16)}}}function e(a,b){for(var c=b;c<a.length;c++)a[c]=0}c.write=d,c.zeroFill=e,c.toString=toString},{}],48:[function(a,b){(function(a){var c=64,d=new a(c);d.fill(0),b.exports=function(b,e){return e=e||{},e.pbkdf2=function(a,b,c,d,f){if("function"!=typeof f)throw new Error("No callback provided to pbkdf2");setTimeout(function(){f(null,e.pbkdf2Sync(a,b,c,d))})},e.pbkdf2Sync=function(e,f,g,h){if("number"!=typeof g)throw new TypeError("Iterations not a number");if(0>g)throw new TypeError("Bad iterations");if("number"!=typeof h)throw new TypeError("Key length not a number");if(0>h)throw new TypeError("Bad key length");var e=a.isBuffer(e)?e:new a(e);e.length>c?e=createHash(alg).update(e).digest():e.length<c&&(e=a.concat([e,d],c));var i,j,k,l=0,m=1,n=new a(4),o=new a(h);for(o.fill(0);h;){j=h>20?20:h,n[0]=m>>24&255,n[1]=m>>16&255,n[2]=m>>8&255,n[3]=255&m,i=b("sha1",e),i.update(f),i.update(n),k=i.digest(),k.copy(o,l,0,j);for(var p=1;g>p;p++){i=b("sha1",e),i.update(k),k=i.digest();for(var q=0;j>q;q++)o[q]^=k[q]}h-=j,m++,l+=j}return o},e}}).call(this,a("buffer").Buffer)},{buffer:34}],49:[function(a,b){(function(a){!function(){var c,d,e=this;c=function(b){for(var c,c,d=new a(b),e=0;b>e;e++)0==(3&e)&&(c=4294967296*Math.random()),d[e]=c>>>((3&e)<<3)&255;return d},e.crypto&&crypto.getRandomValues&&(d=function(b){var c=new a(b);return crypto.getRandomValues(c),c}),b.exports=d||c}()}).call(this,a("buffer").Buffer)},{buffer:34}],50:[function(a,b){b.exports="function"==typeof Object.create?function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],51:[function(a,b){function c(){}var d=b.exports={};d.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")}},{}],52:[function(a,b){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],53:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a){return a}function h(a){var b={};return a.forEach(function(a){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(0>d)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;h>g;++g)f.push(F(b,String(g))?m(a,b,c,d,String(g),!0):"");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return 10>a?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];f>c;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("FWaASH"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":52,FWaASH:51,inherits:50}]},{},[12]);