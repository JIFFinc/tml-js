<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" dir="ltr">

<head>
  <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />

  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="google" value="notranslate">
  <title>Welp</title>

  <link rel="stylesheet" href="/stylesheets/style.css">

  <script src="/javascripts/jquery.min.js" type="text/javascript"></script>
  <script src="/javascripts/bootstrap.min.js"></script>
  <script src="/javascripts/handlebars-v1.3.0.js"></script>
  <script src="/javascripts/tr8n.js"></script>

  <script>
//    tr8n.init("680d6c3913971ac32", "35510cb65d5144673", {"source": "handlebars", "host": "http://localhost:3000"}, function() {
    tr8n.init("4ecfac1de1b59e2ad", "3798347ab094d7f15", {"source": "handlebars"}, function() {
      var context = {
        reviewer: {
          gender: "female",
          value: "Jane Smith"
        },
        restaurants: [
          {
            "name": "Ricky's Fish Tacos",
            "rating": 4,
            "review_count": 14,
            "last_comment": "Luckily, the perfect hot day food is a fish taco."
          },
          {
            "name": "Genwa Korean Bbq",
            "rating": 3,
            "review_count": 567,
            "last_comment": "I love love love the fact that you get 25 side dishes."
          },
          {
            "name": "Kang Hodong Baekjeong",
            "rating": 2,
            "review_count": 1,
            "last_comment": "Thick slices of juicy pastrami on rye hits the spot every time."
          },
          {
            "name": "Guisados",
            "rating": 1,
            "review_count": 14,
            "last_comment": "I can't wait to introduce more people to these orgasmic tacos."
          }
        ]
      };

      Handlebars.registerHelper("math", function(lvalue, operator, rvalue, options) {
        lvalue = parseFloat(lvalue);
        rvalue = parseFloat(rvalue);

        return {
          "+": lvalue + rvalue,
          "-": lvalue - rvalue,
          "*": lvalue * rvalue,
          "/": lvalue / rvalue,
          "%": lvalue % rvalue
        }[operator];
      });

      Handlebars.registerHelper('tr', function(label, description, options) {
        if (typeof label === "object") {
          options = label;
          description = "";
          label = options.fn();
        } else if (typeof description === "object") {
          options = description;
          description = "";
        }
        return new Handlebars.SafeString(window.tr(label, description, options.hash));
      });

      Handlebars.registerHelper('trl', function(label, description, options) {
        if (typeof label === "object") {
          options = label;
          description = "";
          label = options.fn();
        } else if (typeof description === "object") {
          options = description;
          description = "";
        }
        return new Handlebars.SafeString(window.trl(label, description, options.hash));
      });

      Handlebars.registerHelper('tr8n_language_selector', function(options) {
        return new Handlebars.SafeString(tr8n_language_selector());
      });

      Handlebars.registerHelper('tr8n_block', function(options) {
        window.tr8n_begin_block(options.hash);
        var result = options.fn();
        window.tr8n_end_block();
        return result;
      });

      $.ajax({
        url: "/templates/index.hjs"
      }).done(function(data) {
        var template = Handlebars.compile(data);
        $(document.body).html(template(context));
      }).fail(function(jqXHR, textStatus, errorThrown) {
        $(document.body).html(errorThrown);
      });
    });
  </script>

</head>

<body>

</body>
</html>

